/*! For license information please see main.30b87402.js.LICENSE.txt */
(()=>{var e={2:(e,t,n)=>{"use strict";var r,i=n(1251),s=n(9304),o=n(9820),a=n(1725),l=n(5077),u=n(2557),c=n(4902),h=n(3094),d=n(3701),f=n(1911),p=n(4591),m=n(1557),g=n(7583),y=n(969),v=n(7792),b=Function,_=function(e){try{return b('"use strict"; return ('+e+").constructor;")()}catch(t){}},x=n(5558),w=n(2090),A=function(){throw new c},E=x?function(){try{return A}catch(e){try{return x(arguments,"callee").get}catch(t){return A}}}():A,S=n(2108)(),T=n(1291),C=n(7651),k=n(757),R=n(5061),P=n(4937),I={},M="undefined"!==typeof Uint8Array&&T?T(Uint8Array):r,D={__proto__:null,"%AggregateError%":"undefined"===typeof AggregateError?r:AggregateError,"%Array%":Array,"%ArrayBuffer%":"undefined"===typeof ArrayBuffer?r:ArrayBuffer,"%ArrayIteratorPrototype%":S&&T?T([][Symbol.iterator]()):r,"%AsyncFromSyncIteratorPrototype%":r,"%AsyncFunction%":I,"%AsyncGenerator%":I,"%AsyncGeneratorFunction%":I,"%AsyncIteratorPrototype%":I,"%Atomics%":"undefined"===typeof Atomics?r:Atomics,"%BigInt%":"undefined"===typeof BigInt?r:BigInt,"%BigInt64Array%":"undefined"===typeof BigInt64Array?r:BigInt64Array,"%BigUint64Array%":"undefined"===typeof BigUint64Array?r:BigUint64Array,"%Boolean%":Boolean,"%DataView%":"undefined"===typeof DataView?r:DataView,"%Date%":Date,"%decodeURI%":decodeURI,"%decodeURIComponent%":decodeURIComponent,"%encodeURI%":encodeURI,"%encodeURIComponent%":encodeURIComponent,"%Error%":s,"%eval%":eval,"%EvalError%":o,"%Float16Array%":"undefined"===typeof Float16Array?r:Float16Array,"%Float32Array%":"undefined"===typeof Float32Array?r:Float32Array,"%Float64Array%":"undefined"===typeof Float64Array?r:Float64Array,"%FinalizationRegistry%":"undefined"===typeof FinalizationRegistry?r:FinalizationRegistry,"%Function%":b,"%GeneratorFunction%":I,"%Int8Array%":"undefined"===typeof Int8Array?r:Int8Array,"%Int16Array%":"undefined"===typeof Int16Array?r:Int16Array,"%Int32Array%":"undefined"===typeof Int32Array?r:Int32Array,"%isFinite%":isFinite,"%isNaN%":isNaN,"%IteratorPrototype%":S&&T?T(T([][Symbol.iterator]())):r,"%JSON%":"object"===typeof JSON?JSON:r,"%Map%":"undefined"===typeof Map?r:Map,"%MapIteratorPrototype%":"undefined"!==typeof Map&&S&&T?T((new Map)[Symbol.iterator]()):r,"%Math%":Math,"%Number%":Number,"%Object%":i,"%Object.getOwnPropertyDescriptor%":x,"%parseFloat%":parseFloat,"%parseInt%":parseInt,"%Promise%":"undefined"===typeof Promise?r:Promise,"%Proxy%":"undefined"===typeof Proxy?r:Proxy,"%RangeError%":a,"%ReferenceError%":l,"%Reflect%":"undefined"===typeof Reflect?r:Reflect,"%RegExp%":RegExp,"%Set%":"undefined"===typeof Set?r:Set,"%SetIteratorPrototype%":"undefined"!==typeof Set&&S&&T?T((new Set)[Symbol.iterator]()):r,"%SharedArrayBuffer%":"undefined"===typeof SharedArrayBuffer?r:SharedArrayBuffer,"%String%":String,"%StringIteratorPrototype%":S&&T?T(""[Symbol.iterator]()):r,"%Symbol%":S?Symbol:r,"%SyntaxError%":u,"%ThrowTypeError%":E,"%TypedArray%":M,"%TypeError%":c,"%Uint8Array%":"undefined"===typeof Uint8Array?r:Uint8Array,"%Uint8ClampedArray%":"undefined"===typeof Uint8ClampedArray?r:Uint8ClampedArray,"%Uint16Array%":"undefined"===typeof Uint16Array?r:Uint16Array,"%Uint32Array%":"undefined"===typeof Uint32Array?r:Uint32Array,"%URIError%":h,"%WeakMap%":"undefined"===typeof WeakMap?r:WeakMap,"%WeakRef%":"undefined"===typeof WeakRef?r:WeakRef,"%WeakSet%":"undefined"===typeof WeakSet?r:WeakSet,"%Function.prototype.call%":P,"%Function.prototype.apply%":R,"%Object.defineProperty%":w,"%Object.getPrototypeOf%":C,"%Math.abs%":d,"%Math.floor%":f,"%Math.max%":p,"%Math.min%":m,"%Math.pow%":g,"%Math.round%":y,"%Math.sign%":v,"%Reflect.getPrototypeOf%":k};if(T)try{null.error}catch(Y){var O=T(T(Y));D["%Error.prototype%"]=O}var L=function e(t){var n;if("%AsyncFunction%"===t)n=_("async function () {}");else if("%GeneratorFunction%"===t)n=_("function* () {}");else if("%AsyncGeneratorFunction%"===t)n=_("async function* () {}");else if("%AsyncGenerator%"===t){var r=e("%AsyncGeneratorFunction%");r&&(n=r.prototype)}else if("%AsyncIteratorPrototype%"===t){var i=e("%AsyncGenerator%");i&&T&&(n=T(i.prototype))}return D[t]=n,n},N={__proto__:null,"%ArrayBufferPrototype%":["ArrayBuffer","prototype"],"%ArrayPrototype%":["Array","prototype"],"%ArrayProto_entries%":["Array","prototype","entries"],"%ArrayProto_forEach%":["Array","prototype","forEach"],"%ArrayProto_keys%":["Array","prototype","keys"],"%ArrayProto_values%":["Array","prototype","values"],"%AsyncFunctionPrototype%":["AsyncFunction","prototype"],"%AsyncGenerator%":["AsyncGeneratorFunction","prototype"],"%AsyncGeneratorPrototype%":["AsyncGeneratorFunction","prototype","prototype"],"%BooleanPrototype%":["Boolean","prototype"],"%DataViewPrototype%":["DataView","prototype"],"%DatePrototype%":["Date","prototype"],"%ErrorPrototype%":["Error","prototype"],"%EvalErrorPrototype%":["EvalError","prototype"],"%Float32ArrayPrototype%":["Float32Array","prototype"],"%Float64ArrayPrototype%":["Float64Array","prototype"],"%FunctionPrototype%":["Function","prototype"],"%Generator%":["GeneratorFunction","prototype"],"%GeneratorPrototype%":["GeneratorFunction","prototype","prototype"],"%Int8ArrayPrototype%":["Int8Array","prototype"],"%Int16ArrayPrototype%":["Int16Array","prototype"],"%Int32ArrayPrototype%":["Int32Array","prototype"],"%JSONParse%":["JSON","parse"],"%JSONStringify%":["JSON","stringify"],"%MapPrototype%":["Map","prototype"],"%NumberPrototype%":["Number","prototype"],"%ObjectPrototype%":["Object","prototype"],"%ObjProto_toString%":["Object","prototype","toString"],"%ObjProto_valueOf%":["Object","prototype","valueOf"],"%PromisePrototype%":["Promise","prototype"],"%PromiseProto_then%":["Promise","prototype","then"],"%Promise_all%":["Promise","all"],"%Promise_reject%":["Promise","reject"],"%Promise_resolve%":["Promise","resolve"],"%RangeErrorPrototype%":["RangeError","prototype"],"%ReferenceErrorPrototype%":["ReferenceError","prototype"],"%RegExpPrototype%":["RegExp","prototype"],"%SetPrototype%":["Set","prototype"],"%SharedArrayBufferPrototype%":["SharedArrayBuffer","prototype"],"%StringPrototype%":["String","prototype"],"%SymbolPrototype%":["Symbol","prototype"],"%SyntaxErrorPrototype%":["SyntaxError","prototype"],"%TypedArrayPrototype%":["TypedArray","prototype"],"%TypeErrorPrototype%":["TypeError","prototype"],"%Uint8ArrayPrototype%":["Uint8Array","prototype"],"%Uint8ClampedArrayPrototype%":["Uint8ClampedArray","prototype"],"%Uint16ArrayPrototype%":["Uint16Array","prototype"],"%Uint32ArrayPrototype%":["Uint32Array","prototype"],"%URIErrorPrototype%":["URIError","prototype"],"%WeakMapPrototype%":["WeakMap","prototype"],"%WeakSetPrototype%":["WeakSet","prototype"]},F=n(3864),B=n(4384),U=F.call(P,Array.prototype.concat),G=F.call(R,Array.prototype.splice),z=F.call(P,String.prototype.replace),H=F.call(P,String.prototype.slice),j=F.call(P,RegExp.prototype.exec),W=/[^%.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|%$))/g,V=/\\(\\)?/g,X=function(e,t){var n,r=e;if(B(N,r)&&(r="%"+(n=N[r])[0]+"%"),B(D,r)){var i=D[r];if(i===I&&(i=L(r)),"undefined"===typeof i&&!t)throw new c("intrinsic "+e+" exists, but is not available. Please file an issue!");return{alias:n,name:r,value:i}}throw new u("intrinsic "+e+" does not exist!")};e.exports=function(e,t){if("string"!==typeof e||0===e.length)throw new c("intrinsic name must be a non-empty string");if(arguments.length>1&&"boolean"!==typeof t)throw new c('"allowMissing" argument must be a boolean');if(null===j(/^%?[^%]*%?$/,e))throw new u("`%` may not be present anywhere but at the beginning and end of the intrinsic name");var n=function(e){var t=H(e,0,1),n=H(e,-1);if("%"===t&&"%"!==n)throw new u("invalid intrinsic syntax, expected closing `%`");if("%"===n&&"%"!==t)throw new u("invalid intrinsic syntax, expected opening `%`");var r=[];return z(e,W,function(e,t,n,i){r[r.length]=n?z(i,V,"$1"):t||e}),r}(e),r=n.length>0?n[0]:"",i=X("%"+r+"%",t),s=i.name,o=i.value,a=!1,l=i.alias;l&&(r=l[0],G(n,U([0,1],l)));for(var h=1,d=!0;h<n.length;h+=1){var f=n[h],p=H(f,0,1),m=H(f,-1);if(('"'===p||"'"===p||"`"===p||'"'===m||"'"===m||"`"===m)&&p!==m)throw new u("property names with quotes must have matching quotes");if("constructor"!==f&&d||(a=!0),B(D,s="%"+(r+="."+f)+"%"))o=D[s];else if(null!=o){if(!(f in o)){if(!t)throw new c("base intrinsic for "+e+" exists, but the property is not available.");return}if(x&&h+1>=n.length){var g=x(o,f);o=(d=!!g)&&"get"in g&&!("originalValue"in g.get)?g.get:o[f]}else d=B(o,f),o=o[f];d&&!a&&(D[s]=o)}}return o}},149:(e,t,n)=>{"use strict";var r=n(9108),i=Object.prototype.hasOwnProperty,s=Array.isArray,o=function(){for(var e=[],t=0;t<256;++t)e.push("%"+((t<16?"0":"")+t.toString(16)).toUpperCase());return e}(),a=function(e,t){for(var n=t&&t.plainObjects?Object.create(null):{},r=0;r<e.length;++r)"undefined"!==typeof e[r]&&(n[r]=e[r]);return n},l=1024;e.exports={arrayToObject:a,assign:function(e,t){return Object.keys(t).reduce(function(e,n){return e[n]=t[n],e},e)},combine:function(e,t){return[].concat(e,t)},compact:function(e){for(var t=[{obj:{o:e},prop:"o"}],n=[],r=0;r<t.length;++r)for(var i=t[r],o=i.obj[i.prop],a=Object.keys(o),l=0;l<a.length;++l){var u=a[l],c=o[u];"object"===typeof c&&null!==c&&-1===n.indexOf(c)&&(t.push({obj:o,prop:u}),n.push(c))}return function(e){for(;e.length>1;){var t=e.pop(),n=t.obj[t.prop];if(s(n)){for(var r=[],i=0;i<n.length;++i)"undefined"!==typeof n[i]&&r.push(n[i]);t.obj[t.prop]=r}}}(t),e},decode:function(e,t,n){var r=e.replace(/\+/g," ");if("iso-8859-1"===n)return r.replace(/%[0-9a-f]{2}/gi,unescape);try{return decodeURIComponent(r)}catch(i){return r}},encode:function(e,t,n,i,s){if(0===e.length)return e;var a=e;if("symbol"===typeof e?a=Symbol.prototype.toString.call(e):"string"!==typeof e&&(a=String(e)),"iso-8859-1"===n)return escape(a).replace(/%u[0-9a-f]{4}/gi,function(e){return"%26%23"+parseInt(e.slice(2),16)+"%3B"});for(var u="",c=0;c<a.length;c+=l){for(var h=a.length>=l?a.slice(c,c+l):a,d=[],f=0;f<h.length;++f){var p=h.charCodeAt(f);45===p||46===p||95===p||126===p||p>=48&&p<=57||p>=65&&p<=90||p>=97&&p<=122||s===r.RFC1738&&(40===p||41===p)?d[d.length]=h.charAt(f):p<128?d[d.length]=o[p]:p<2048?d[d.length]=o[192|p>>6]+o[128|63&p]:p<55296||p>=57344?d[d.length]=o[224|p>>12]+o[128|p>>6&63]+o[128|63&p]:(f+=1,p=65536+((1023&p)<<10|1023&h.charCodeAt(f)),d[d.length]=o[240|p>>18]+o[128|p>>12&63]+o[128|p>>6&63]+o[128|63&p])}u+=d.join("")}return u},isBuffer:function(e){return!(!e||"object"!==typeof e)&&!!(e.constructor&&e.constructor.isBuffer&&e.constructor.isBuffer(e))},isRegExp:function(e){return"[object RegExp]"===Object.prototype.toString.call(e)},maybeMap:function(e,t){if(s(e)){for(var n=[],r=0;r<e.length;r+=1)n.push(t(e[r]));return n}return t(e)},merge:function e(t,n,r){if(!n)return t;if("object"!==typeof n){if(s(t))t.push(n);else{if(!t||"object"!==typeof t)return[t,n];(r&&(r.plainObjects||r.allowPrototypes)||!i.call(Object.prototype,n))&&(t[n]=!0)}return t}if(!t||"object"!==typeof t)return[t].concat(n);var o=t;return s(t)&&!s(n)&&(o=a(t,r)),s(t)&&s(n)?(n.forEach(function(n,s){if(i.call(t,s)){var o=t[s];o&&"object"===typeof o&&n&&"object"===typeof n?t[s]=e(o,n,r):t.push(n)}else t[s]=n}),t):Object.keys(n).reduce(function(t,s){var o=n[s];return i.call(t,s)?t[s]=e(t[s],o,r):t[s]=o,t},o)}}},579:(e,t,n)=>{"use strict";e.exports=n(2799)},639:(e,t,n)=>{"use strict";var r=n(149),i=Object.prototype.hasOwnProperty,s=Array.isArray,o={allowDots:!1,allowEmptyArrays:!1,allowPrototypes:!1,allowSparse:!1,arrayLimit:20,charset:"utf-8",charsetSentinel:!1,comma:!1,decodeDotInKeys:!1,decoder:r.decode,delimiter:"&",depth:5,duplicates:"combine",ignoreQueryPrefix:!1,interpretNumericEntities:!1,parameterLimit:1e3,parseArrays:!0,plainObjects:!1,strictDepth:!1,strictNullHandling:!1},a=function(e){return e.replace(/&#(\d+);/g,function(e,t){return String.fromCharCode(parseInt(t,10))})},l=function(e,t){return e&&"string"===typeof e&&t.comma&&e.indexOf(",")>-1?e.split(","):e},u=function(e,t,n,r){if(e){var s=n.allowDots?e.replace(/\.([^.[]+)/g,"[$1]"):e,o=/(\[[^[\]]*])/g,a=n.depth>0&&/(\[[^[\]]*])/.exec(s),u=a?s.slice(0,a.index):s,c=[];if(u){if(!n.plainObjects&&i.call(Object.prototype,u)&&!n.allowPrototypes)return;c.push(u)}for(var h=0;n.depth>0&&null!==(a=o.exec(s))&&h<n.depth;){if(h+=1,!n.plainObjects&&i.call(Object.prototype,a[1].slice(1,-1))&&!n.allowPrototypes)return;c.push(a[1])}if(a){if(!0===n.strictDepth)throw new RangeError("Input depth exceeded depth option of "+n.depth+" and strictDepth is true");c.push("["+s.slice(a.index)+"]")}return function(e,t,n,r){for(var i=r?t:l(t,n),s=e.length-1;s>=0;--s){var o,a=e[s];if("[]"===a&&n.parseArrays)o=n.allowEmptyArrays&&(""===i||n.strictNullHandling&&null===i)?[]:[].concat(i);else{o=n.plainObjects?Object.create(null):{};var u="["===a.charAt(0)&&"]"===a.charAt(a.length-1)?a.slice(1,-1):a,c=n.decodeDotInKeys?u.replace(/%2E/g,"."):u,h=parseInt(c,10);n.parseArrays||""!==c?!isNaN(h)&&a!==c&&String(h)===c&&h>=0&&n.parseArrays&&h<=n.arrayLimit?(o=[])[h]=i:"__proto__"!==c&&(o[c]=i):o={0:i}}i=o}return i}(c,t,n,r)}};e.exports=function(e,t){var n=function(e){if(!e)return o;if("undefined"!==typeof e.allowEmptyArrays&&"boolean"!==typeof e.allowEmptyArrays)throw new TypeError("`allowEmptyArrays` option can only be `true` or `false`, when provided");if("undefined"!==typeof e.decodeDotInKeys&&"boolean"!==typeof e.decodeDotInKeys)throw new TypeError("`decodeDotInKeys` option can only be `true` or `false`, when provided");if(null!==e.decoder&&"undefined"!==typeof e.decoder&&"function"!==typeof e.decoder)throw new TypeError("Decoder has to be a function.");if("undefined"!==typeof e.charset&&"utf-8"!==e.charset&&"iso-8859-1"!==e.charset)throw new TypeError("The charset option must be either utf-8, iso-8859-1, or undefined");var t="undefined"===typeof e.charset?o.charset:e.charset,n="undefined"===typeof e.duplicates?o.duplicates:e.duplicates;if("combine"!==n&&"first"!==n&&"last"!==n)throw new TypeError("The duplicates option must be either combine, first, or last");return{allowDots:"undefined"===typeof e.allowDots?!0===e.decodeDotInKeys||o.allowDots:!!e.allowDots,allowEmptyArrays:"boolean"===typeof e.allowEmptyArrays?!!e.allowEmptyArrays:o.allowEmptyArrays,allowPrototypes:"boolean"===typeof e.allowPrototypes?e.allowPrototypes:o.allowPrototypes,allowSparse:"boolean"===typeof e.allowSparse?e.allowSparse:o.allowSparse,arrayLimit:"number"===typeof e.arrayLimit?e.arrayLimit:o.arrayLimit,charset:t,charsetSentinel:"boolean"===typeof e.charsetSentinel?e.charsetSentinel:o.charsetSentinel,comma:"boolean"===typeof e.comma?e.comma:o.comma,decodeDotInKeys:"boolean"===typeof e.decodeDotInKeys?e.decodeDotInKeys:o.decodeDotInKeys,decoder:"function"===typeof e.decoder?e.decoder:o.decoder,delimiter:"string"===typeof e.delimiter||r.isRegExp(e.delimiter)?e.delimiter:o.delimiter,depth:"number"===typeof e.depth||!1===e.depth?+e.depth:o.depth,duplicates:n,ignoreQueryPrefix:!0===e.ignoreQueryPrefix,interpretNumericEntities:"boolean"===typeof e.interpretNumericEntities?e.interpretNumericEntities:o.interpretNumericEntities,parameterLimit:"number"===typeof e.parameterLimit?e.parameterLimit:o.parameterLimit,parseArrays:!1!==e.parseArrays,plainObjects:"boolean"===typeof e.plainObjects?e.plainObjects:o.plainObjects,strictDepth:"boolean"===typeof e.strictDepth?!!e.strictDepth:o.strictDepth,strictNullHandling:"boolean"===typeof e.strictNullHandling?e.strictNullHandling:o.strictNullHandling}}(t);if(""===e||null===e||"undefined"===typeof e)return n.plainObjects?Object.create(null):{};for(var c="string"===typeof e?function(e,t){var n={__proto__:null},u=t.ignoreQueryPrefix?e.replace(/^\?/,""):e;u=u.replace(/%5B/gi,"[").replace(/%5D/gi,"]");var c,h=t.parameterLimit===1/0?void 0:t.parameterLimit,d=u.split(t.delimiter,h),f=-1,p=t.charset;if(t.charsetSentinel)for(c=0;c<d.length;++c)0===d[c].indexOf("utf8=")&&("utf8=%E2%9C%93"===d[c]?p="utf-8":"utf8=%26%2310003%3B"===d[c]&&(p="iso-8859-1"),f=c,c=d.length);for(c=0;c<d.length;++c)if(c!==f){var m,g,y=d[c],v=y.indexOf("]="),b=-1===v?y.indexOf("="):v+1;-1===b?(m=t.decoder(y,o.decoder,p,"key"),g=t.strictNullHandling?null:""):(m=t.decoder(y.slice(0,b),o.decoder,p,"key"),g=r.maybeMap(l(y.slice(b+1),t),function(e){return t.decoder(e,o.decoder,p,"value")})),g&&t.interpretNumericEntities&&"iso-8859-1"===p&&(g=a(g)),y.indexOf("[]=")>-1&&(g=s(g)?[g]:g);var _=i.call(n,m);_&&"combine"===t.duplicates?n[m]=r.combine(n[m],g):_&&"last"!==t.duplicates||(n[m]=g)}return n}(e,n):e,h=n.plainObjects?Object.create(null):{},d=Object.keys(c),f=0;f<d.length;++f){var p=d[f],m=u(p,c[p],n,"string"===typeof e);h=r.merge(h,m,n)}return!0===n.allowSparse?h:r.compact(h)}},757:e=>{"use strict";e.exports="undefined"!==typeof Reflect&&Reflect.getPrototypeOf||null},969:e=>{"use strict";e.exports=Math.round},973:e=>{"use strict";function t(e,t,r){r=r||2;var s,o,a,l,h,d,p,m=t&&t.length,g=m?t[0]*r:e.length,y=n(e,0,g,r,!0),v=[];if(!y||y.next===y.prev)return v;if(m&&(y=function(e,t,r,i){var s,o,a,l=[];for(s=0,o=t.length;s<o;s++)(a=n(e,t[s]*i,s<o-1?t[s+1]*i:e.length,i,!1))===a.next&&(a.steiner=!0),l.push(f(a));for(l.sort(u),s=0;s<l.length;s++)r=c(l[s],r);return r}(e,t,y,r)),e.length>80*r){s=a=e[0],o=l=e[1];for(var b=r;b<g;b+=r)(h=e[b])<s&&(s=h),(d=e[b+1])<o&&(o=d),h>a&&(a=h),d>l&&(l=d);p=0!==(p=Math.max(a-s,l-o))?32767/p:0}return i(y,v,r,s,o,p,0),v}function n(e,t,n,r,i){var s,o;if(i===T(e,t,n,r)>0)for(s=t;s<n;s+=r)o=A(s,e[s],e[s+1],o);else for(s=n-r;s>=t;s-=r)o=A(s,e[s],e[s+1],o);return o&&y(o,o.next)&&(E(o),o=o.next),o}function r(e,t){if(!e)return e;t||(t=e);var n,r=e;do{if(n=!1,r.steiner||!y(r,r.next)&&0!==g(r.prev,r,r.next))r=r.next;else{if(E(r),(r=t=r.prev)===r.next)break;n=!0}}while(n||r!==t);return t}function i(e,t,n,u,c,h,f){if(e){!f&&h&&function(e,t,n,r){var i=e;do{0===i.z&&(i.z=d(i.x,i.y,t,n,r)),i.prevZ=i.prev,i.nextZ=i.next,i=i.next}while(i!==e);i.prevZ.nextZ=null,i.prevZ=null,function(e){var t,n,r,i,s,o,a,l,u=1;do{for(n=e,e=null,s=null,o=0;n;){for(o++,r=n,a=0,t=0;t<u&&(a++,r=r.nextZ);t++);for(l=u;a>0||l>0&&r;)0!==a&&(0===l||!r||n.z<=r.z)?(i=n,n=n.nextZ,a--):(i=r,r=r.nextZ,l--),s?s.nextZ=i:e=i,i.prevZ=s,s=i;n=r}s.nextZ=null,u*=2}while(o>1)}(i)}(e,u,c,h);for(var p,m,g=e;e.prev!==e.next;)if(p=e.prev,m=e.next,h?o(e,u,c,h):s(e))t.push(p.i/n|0),t.push(e.i/n|0),t.push(m.i/n|0),E(e),e=m.next,g=m.next;else if((e=m)===g){f?1===f?i(e=a(r(e),t,n),t,n,u,c,h,2):2===f&&l(e,t,n,u,c,h):i(r(e),t,n,u,c,h,1);break}}}function s(e){var t=e.prev,n=e,r=e.next;if(g(t,n,r)>=0)return!1;for(var i=t.x,s=n.x,o=r.x,a=t.y,l=n.y,u=r.y,c=i<s?i<o?i:o:s<o?s:o,h=a<l?a<u?a:u:l<u?l:u,d=i>s?i>o?i:o:s>o?s:o,f=a>l?a>u?a:u:l>u?l:u,m=r.next;m!==t;){if(m.x>=c&&m.x<=d&&m.y>=h&&m.y<=f&&p(i,a,s,l,o,u,m.x,m.y)&&g(m.prev,m,m.next)>=0)return!1;m=m.next}return!0}function o(e,t,n,r){var i=e.prev,s=e,o=e.next;if(g(i,s,o)>=0)return!1;for(var a=i.x,l=s.x,u=o.x,c=i.y,h=s.y,f=o.y,m=a<l?a<u?a:u:l<u?l:u,y=c<h?c<f?c:f:h<f?h:f,v=a>l?a>u?a:u:l>u?l:u,b=c>h?c>f?c:f:h>f?h:f,_=d(m,y,t,n,r),x=d(v,b,t,n,r),w=e.prevZ,A=e.nextZ;w&&w.z>=_&&A&&A.z<=x;){if(w.x>=m&&w.x<=v&&w.y>=y&&w.y<=b&&w!==i&&w!==o&&p(a,c,l,h,u,f,w.x,w.y)&&g(w.prev,w,w.next)>=0)return!1;if(w=w.prevZ,A.x>=m&&A.x<=v&&A.y>=y&&A.y<=b&&A!==i&&A!==o&&p(a,c,l,h,u,f,A.x,A.y)&&g(A.prev,A,A.next)>=0)return!1;A=A.nextZ}for(;w&&w.z>=_;){if(w.x>=m&&w.x<=v&&w.y>=y&&w.y<=b&&w!==i&&w!==o&&p(a,c,l,h,u,f,w.x,w.y)&&g(w.prev,w,w.next)>=0)return!1;w=w.prevZ}for(;A&&A.z<=x;){if(A.x>=m&&A.x<=v&&A.y>=y&&A.y<=b&&A!==i&&A!==o&&p(a,c,l,h,u,f,A.x,A.y)&&g(A.prev,A,A.next)>=0)return!1;A=A.nextZ}return!0}function a(e,t,n){var i=e;do{var s=i.prev,o=i.next.next;!y(s,o)&&v(s,i,i.next,o)&&x(s,o)&&x(o,s)&&(t.push(s.i/n|0),t.push(i.i/n|0),t.push(o.i/n|0),E(i),E(i.next),i=e=o),i=i.next}while(i!==e);return r(i)}function l(e,t,n,s,o,a){var l=e;do{for(var u=l.next.next;u!==l.prev;){if(l.i!==u.i&&m(l,u)){var c=w(l,u);return l=r(l,l.next),c=r(c,c.next),i(l,t,n,s,o,a,0),void i(c,t,n,s,o,a,0)}u=u.next}l=l.next}while(l!==e)}function u(e,t){return e.x-t.x}function c(e,t){var n=function(e,t){var n,r=t,i=e.x,s=e.y,o=-1/0;do{if(s<=r.y&&s>=r.next.y&&r.next.y!==r.y){var a=r.x+(s-r.y)*(r.next.x-r.x)/(r.next.y-r.y);if(a<=i&&a>o&&(o=a,n=r.x<r.next.x?r:r.next,a===i))return n}r=r.next}while(r!==t);if(!n)return null;var l,u=n,c=n.x,d=n.y,f=1/0;r=n;do{i>=r.x&&r.x>=c&&i!==r.x&&p(s<d?i:o,s,c,d,s<d?o:i,s,r.x,r.y)&&(l=Math.abs(s-r.y)/(i-r.x),x(r,e)&&(l<f||l===f&&(r.x>n.x||r.x===n.x&&h(n,r)))&&(n=r,f=l)),r=r.next}while(r!==u);return n}(e,t);if(!n)return t;var i=w(n,e);return r(i,i.next),r(n,n.next)}function h(e,t){return g(e.prev,e,t.prev)<0&&g(t.next,e,e.next)<0}function d(e,t,n,r,i){return(e=1431655765&((e=858993459&((e=252645135&((e=16711935&((e=(e-n)*i|0)|e<<8))|e<<4))|e<<2))|e<<1))|(t=1431655765&((t=858993459&((t=252645135&((t=16711935&((t=(t-r)*i|0)|t<<8))|t<<4))|t<<2))|t<<1))<<1}function f(e){var t=e,n=e;do{(t.x<n.x||t.x===n.x&&t.y<n.y)&&(n=t),t=t.next}while(t!==e);return n}function p(e,t,n,r,i,s,o,a){return(i-o)*(t-a)>=(e-o)*(s-a)&&(e-o)*(r-a)>=(n-o)*(t-a)&&(n-o)*(s-a)>=(i-o)*(r-a)}function m(e,t){return e.next.i!==t.i&&e.prev.i!==t.i&&!function(e,t){var n=e;do{if(n.i!==e.i&&n.next.i!==e.i&&n.i!==t.i&&n.next.i!==t.i&&v(n,n.next,e,t))return!0;n=n.next}while(n!==e);return!1}(e,t)&&(x(e,t)&&x(t,e)&&function(e,t){var n=e,r=!1,i=(e.x+t.x)/2,s=(e.y+t.y)/2;do{n.y>s!==n.next.y>s&&n.next.y!==n.y&&i<(n.next.x-n.x)*(s-n.y)/(n.next.y-n.y)+n.x&&(r=!r),n=n.next}while(n!==e);return r}(e,t)&&(g(e.prev,e,t.prev)||g(e,t.prev,t))||y(e,t)&&g(e.prev,e,e.next)>0&&g(t.prev,t,t.next)>0)}function g(e,t,n){return(t.y-e.y)*(n.x-t.x)-(t.x-e.x)*(n.y-t.y)}function y(e,t){return e.x===t.x&&e.y===t.y}function v(e,t,n,r){var i=_(g(e,t,n)),s=_(g(e,t,r)),o=_(g(n,r,e)),a=_(g(n,r,t));return i!==s&&o!==a||(!(0!==i||!b(e,n,t))||(!(0!==s||!b(e,r,t))||(!(0!==o||!b(n,e,r))||!(0!==a||!b(n,t,r)))))}function b(e,t,n){return t.x<=Math.max(e.x,n.x)&&t.x>=Math.min(e.x,n.x)&&t.y<=Math.max(e.y,n.y)&&t.y>=Math.min(e.y,n.y)}function _(e){return e>0?1:e<0?-1:0}function x(e,t){return g(e.prev,e,e.next)<0?g(e,t,e.next)>=0&&g(e,e.prev,t)>=0:g(e,t,e.prev)<0||g(e,e.next,t)<0}function w(e,t){var n=new S(e.i,e.x,e.y),r=new S(t.i,t.x,t.y),i=e.next,s=t.prev;return e.next=t,t.prev=e,n.next=i,i.prev=n,r.next=n,n.prev=r,s.next=r,r.prev=s,r}function A(e,t,n,r){var i=new S(e,t,n);return r?(i.next=r.next,i.prev=r,r.next.prev=i,r.next=i):(i.prev=i,i.next=i),i}function E(e){e.next.prev=e.prev,e.prev.next=e.next,e.prevZ&&(e.prevZ.nextZ=e.nextZ),e.nextZ&&(e.nextZ.prevZ=e.prevZ)}function S(e,t,n){this.i=e,this.x=t,this.y=n,this.prev=null,this.next=null,this.z=0,this.prevZ=null,this.nextZ=null,this.steiner=!1}function T(e,t,n,r){for(var i=0,s=t,o=n-r;s<n;s+=r)i+=(e[o]-e[s])*(e[s+1]+e[o+1]),o=s;return i}e.exports=t,e.exports.default=t,t.deviation=function(e,t,n,r){var i=t&&t.length,s=i?t[0]*n:e.length,o=Math.abs(T(e,0,s,n));if(i)for(var a=0,l=t.length;a<l;a++){var u=t[a]*n,c=a<l-1?t[a+1]*n:e.length;o-=Math.abs(T(e,u,c,n))}var h=0;for(a=0;a<r.length;a+=3){var d=r[a]*n,f=r[a+1]*n,p=r[a+2]*n;h+=Math.abs((e[d]-e[p])*(e[f+1]-e[d+1])-(e[d]-e[f])*(e[p+1]-e[d+1]))}return 0===o&&0===h?0:Math.abs((h-o)/o)},t.flatten=function(e){for(var t=e[0][0].length,n={vertices:[],holes:[],dimensions:t},r=0,i=0;i<e.length;i++){for(var s=0;s<e[i].length;s++)for(var o=0;o<t;o++)n.vertices.push(e[i][s][o]);i>0&&(r+=e[i-1].length,n.holes.push(r))}return n}},1251:e=>{"use strict";e.exports=Object},1291:(e,t,n)=>{"use strict";var r=n(757),i=n(7651),s=n(7297);e.exports=r?function(e){return r(e)}:i?function(e){if(!e||"object"!==typeof e&&"function"!==typeof e)throw new TypeError("getProto: not an object");return i(e)}:s?function(e){return s(e)}:null},1557:e=>{"use strict";e.exports=Math.min},1725:e=>{"use strict";e.exports=RangeError},1907:function(e,t,n){var r;e=n.nmd(e),function(){t&&t.nodeType,e&&e.nodeType;var i="object"==typeof n.g&&n.g;i.global!==i&&i.window!==i&&i.self;var s,o=2147483647,a=36,l=/^xn--/,u=/[^\x20-\x7E]/,c=/[\x2E\u3002\uFF0E\uFF61]/g,h={overflow:"Overflow: input needs wider integers to process","not-basic":"Illegal input >= 0x80 (not a basic code point)","invalid-input":"Invalid input"},d=Math.floor,f=String.fromCharCode;function p(e){throw new RangeError(h[e])}function m(e,t){for(var n=e.length,r=[];n--;)r[n]=t(e[n]);return r}function g(e,t){var n=e.split("@"),r="";return n.length>1&&(r=n[0]+"@",e=n[1]),r+m((e=e.replace(c,".")).split("."),t).join(".")}function y(e){for(var t,n,r=[],i=0,s=e.length;i<s;)(t=e.charCodeAt(i++))>=55296&&t<=56319&&i<s?56320==(64512&(n=e.charCodeAt(i++)))?r.push(((1023&t)<<10)+(1023&n)+65536):(r.push(t),i--):r.push(t);return r}function v(e){return m(e,function(e){var t="";return e>65535&&(t+=f((e-=65536)>>>10&1023|55296),e=56320|1023&e),t+=f(e)}).join("")}function b(e){return e-48<10?e-22:e-65<26?e-65:e-97<26?e-97:a}function _(e,t){return e+22+75*(e<26)-((0!=t)<<5)}function x(e,t,n){var r=0;for(e=n?d(e/700):e>>1,e+=d(e/t);e>455;r+=a)e=d(e/35);return d(r+36*e/(e+38))}function w(e){var t,n,r,i,s,l,u,c,h,f,m=[],g=e.length,y=0,_=128,w=72;for((n=e.lastIndexOf("-"))<0&&(n=0),r=0;r<n;++r)e.charCodeAt(r)>=128&&p("not-basic"),m.push(e.charCodeAt(r));for(i=n>0?n+1:0;i<g;){for(s=y,l=1,u=a;i>=g&&p("invalid-input"),((c=b(e.charCodeAt(i++)))>=a||c>d((o-y)/l))&&p("overflow"),y+=c*l,!(c<(h=u<=w?1:u>=w+26?26:u-w));u+=a)l>d(o/(f=a-h))&&p("overflow"),l*=f;w=x(y-s,t=m.length+1,0==s),d(y/t)>o-_&&p("overflow"),_+=d(y/t),y%=t,m.splice(y++,0,_)}return v(m)}function A(e){var t,n,r,i,s,l,u,c,h,m,g,v,b,w,A,E=[];for(v=(e=y(e)).length,t=128,n=0,s=72,l=0;l<v;++l)(g=e[l])<128&&E.push(f(g));for(r=i=E.length,i&&E.push("-");r<v;){for(u=o,l=0;l<v;++l)(g=e[l])>=t&&g<u&&(u=g);for(u-t>d((o-n)/(b=r+1))&&p("overflow"),n+=(u-t)*b,t=u,l=0;l<v;++l)if((g=e[l])<t&&++n>o&&p("overflow"),g==t){for(c=n,h=a;!(c<(m=h<=s?1:h>=s+26?26:h-s));h+=a)A=c-m,w=a-m,E.push(f(_(m+A%w,0))),c=d(A/w);E.push(f(_(c,0))),s=x(n,b,r==i),n=0,++r}++n,++t}return E.join("")}s={version:"1.4.1",ucs2:{decode:y,encode:v},decode:w,encode:A,toASCII:function(e){return g(e,function(e){return u.test(e)?"xn--"+A(e):e})},toUnicode:function(e){return g(e,function(e){return l.test(e)?w(e.slice(4).toLowerCase()):e})}},void 0===(r=function(){return s}.call(t,n,t,e))||(e.exports=r)}()},1911:e=>{"use strict";e.exports=Math.floor},2090:e=>{"use strict";var t=Object.defineProperty||!1;if(t)try{t({},"a",{value:1})}catch(n){t=!1}e.exports=t},2108:(e,t,n)=>{"use strict";var r="undefined"!==typeof Symbol&&Symbol,i=n(9534);e.exports=function(){return"function"===typeof r&&("function"===typeof Symbol&&("symbol"===typeof r("foo")&&("symbol"===typeof Symbol("bar")&&i())))}},2129:(e,t,n)=>{"use strict";var r=n(9269),i=n(149),s=n(9108),o=Object.prototype.hasOwnProperty,a={brackets:function(e){return e+"[]"},comma:"comma",indices:function(e,t){return e+"["+t+"]"},repeat:function(e){return e}},l=Array.isArray,u=Array.prototype.push,c=function(e,t){u.apply(e,l(t)?t:[t])},h=Date.prototype.toISOString,d=s.default,f={addQueryPrefix:!1,allowDots:!1,allowEmptyArrays:!1,arrayFormat:"indices",charset:"utf-8",charsetSentinel:!1,delimiter:"&",encode:!0,encodeDotInKeys:!1,encoder:i.encode,encodeValuesOnly:!1,format:d,formatter:s.formatters[d],indices:!1,serializeDate:function(e){return h.call(e)},skipNulls:!1,strictNullHandling:!1},p={},m=function e(t,n,s,o,a,u,h,d,m,g,y,v,b,_,x,w,A,E){for(var S,T=t,C=E,k=0,R=!1;void 0!==(C=C.get(p))&&!R;){var P=C.get(t);if(k+=1,"undefined"!==typeof P){if(P===k)throw new RangeError("Cyclic object value");R=!0}"undefined"===typeof C.get(p)&&(k=0)}if("function"===typeof g?T=g(n,T):T instanceof Date?T=b(T):"comma"===s&&l(T)&&(T=i.maybeMap(T,function(e){return e instanceof Date?b(e):e})),null===T){if(u)return m&&!w?m(n,f.encoder,A,"key",_):n;T=""}if("string"===typeof(S=T)||"number"===typeof S||"boolean"===typeof S||"symbol"===typeof S||"bigint"===typeof S||i.isBuffer(T))return m?[x(w?n:m(n,f.encoder,A,"key",_))+"="+x(m(T,f.encoder,A,"value",_))]:[x(n)+"="+x(String(T))];var I,M=[];if("undefined"===typeof T)return M;if("comma"===s&&l(T))w&&m&&(T=i.maybeMap(T,m)),I=[{value:T.length>0?T.join(",")||null:void 0}];else if(l(g))I=g;else{var D=Object.keys(T);I=y?D.sort(y):D}var O=d?n.replace(/\./g,"%2E"):n,L=o&&l(T)&&1===T.length?O+"[]":O;if(a&&l(T)&&0===T.length)return L+"[]";for(var N=0;N<I.length;++N){var F=I[N],B="object"===typeof F&&"undefined"!==typeof F.value?F.value:T[F];if(!h||null!==B){var U=v&&d?F.replace(/\./g,"%2E"):F,G=l(T)?"function"===typeof s?s(L,U):L:L+(v?"."+U:"["+U+"]");E.set(t,k);var z=r();z.set(p,E),c(M,e(B,G,s,o,a,u,h,d,"comma"===s&&w&&l(T)?null:m,g,y,v,b,_,x,w,A,z))}}return M};e.exports=function(e,t){var n,i=e,u=function(e){if(!e)return f;if("undefined"!==typeof e.allowEmptyArrays&&"boolean"!==typeof e.allowEmptyArrays)throw new TypeError("`allowEmptyArrays` option can only be `true` or `false`, when provided");if("undefined"!==typeof e.encodeDotInKeys&&"boolean"!==typeof e.encodeDotInKeys)throw new TypeError("`encodeDotInKeys` option can only be `true` or `false`, when provided");if(null!==e.encoder&&"undefined"!==typeof e.encoder&&"function"!==typeof e.encoder)throw new TypeError("Encoder has to be a function.");var t=e.charset||f.charset;if("undefined"!==typeof e.charset&&"utf-8"!==e.charset&&"iso-8859-1"!==e.charset)throw new TypeError("The charset option must be either utf-8, iso-8859-1, or undefined");var n=s.default;if("undefined"!==typeof e.format){if(!o.call(s.formatters,e.format))throw new TypeError("Unknown format option provided.");n=e.format}var r,i=s.formatters[n],u=f.filter;if(("function"===typeof e.filter||l(e.filter))&&(u=e.filter),r=e.arrayFormat in a?e.arrayFormat:"indices"in e?e.indices?"indices":"repeat":f.arrayFormat,"commaRoundTrip"in e&&"boolean"!==typeof e.commaRoundTrip)throw new TypeError("`commaRoundTrip` must be a boolean, or absent");var c="undefined"===typeof e.allowDots?!0===e.encodeDotInKeys||f.allowDots:!!e.allowDots;return{addQueryPrefix:"boolean"===typeof e.addQueryPrefix?e.addQueryPrefix:f.addQueryPrefix,allowDots:c,allowEmptyArrays:"boolean"===typeof e.allowEmptyArrays?!!e.allowEmptyArrays:f.allowEmptyArrays,arrayFormat:r,charset:t,charsetSentinel:"boolean"===typeof e.charsetSentinel?e.charsetSentinel:f.charsetSentinel,commaRoundTrip:e.commaRoundTrip,delimiter:"undefined"===typeof e.delimiter?f.delimiter:e.delimiter,encode:"boolean"===typeof e.encode?e.encode:f.encode,encodeDotInKeys:"boolean"===typeof e.encodeDotInKeys?e.encodeDotInKeys:f.encodeDotInKeys,encoder:"function"===typeof e.encoder?e.encoder:f.encoder,encodeValuesOnly:"boolean"===typeof e.encodeValuesOnly?e.encodeValuesOnly:f.encodeValuesOnly,filter:u,format:n,formatter:i,serializeDate:"function"===typeof e.serializeDate?e.serializeDate:f.serializeDate,skipNulls:"boolean"===typeof e.skipNulls?e.skipNulls:f.skipNulls,sort:"function"===typeof e.sort?e.sort:null,strictNullHandling:"boolean"===typeof e.strictNullHandling?e.strictNullHandling:f.strictNullHandling}}(t);"function"===typeof u.filter?i=(0,u.filter)("",i):l(u.filter)&&(n=u.filter);var h=[];if("object"!==typeof i||null===i)return"";var d=a[u.arrayFormat],p="comma"===d&&u.commaRoundTrip;n||(n=Object.keys(i)),u.sort&&n.sort(u.sort);for(var g=r(),y=0;y<n.length;++y){var v=n[y];u.skipNulls&&null===i[v]||c(h,m(i[v],v,d,p,u.allowEmptyArrays,u.strictNullHandling,u.skipNulls,u.encodeDotInKeys,u.encode?u.encoder:null,u.filter,u.sort,u.allowDots,u.serializeDate,u.format,u.formatter,u.encodeValuesOnly,u.charset,g))}var b=h.join(u.delimiter),_=!0===u.addQueryPrefix?"?":"";return u.charsetSentinel&&("iso-8859-1"===u.charset?_+="utf8=%26%2310003%3B&":_+="utf8=%E2%9C%93&"),b.length>0?_+b:""}},2557:e=>{"use strict";e.exports=SyntaxError},2634:()=>{},2799:(e,t)=>{"use strict";var n=Symbol.for("react.transitional.element");function r(e,t,r){var i=null;if(void 0!==r&&(i=""+r),void 0!==t.key&&(i=""+t.key),"key"in t)for(var s in r={},t)"key"!==s&&(r[s]=t[s]);else r=t;return t=r.ref,{$$typeof:n,type:e,key:i,ref:void 0!==t?t:null,props:r}}Symbol.for("react.fragment"),t.jsx=r,t.jsxs=r},2816:e=>{"use strict";e.exports=Number.isNaN||function(e){return e!==e}},2908:(e,t,n)=>{"use strict";var r=n(2129),i=n(639),s=n(9108);e.exports={formats:s,parse:i,stringify:r}},3094:e=>{"use strict";e.exports=URIError},3701:e=>{"use strict";e.exports=Math.abs},3864:(e,t,n)=>{"use strict";var r=n(7724);e.exports=Function.prototype.bind||r},4080:(e,t,n)=>{"use strict";var r=n(1907);function i(){this.protocol=null,this.slashes=null,this.auth=null,this.host=null,this.port=null,this.hostname=null,this.hash=null,this.search=null,this.query=null,this.pathname=null,this.path=null,this.href=null}var s=/^([a-z0-9.+-]+:)/i,o=/:[0-9]*$/,a=/^(\/\/?(?!\/)[^?\s]*)(\?[^\s]*)?$/,l=["{","}","|","\\","^","`"].concat(["<",">",'"',"`"," ","\r","\n","\t"]),u=["'"].concat(l),c=["%","/","?",";","#"].concat(u),h=["/","?","#"],d=/^[+a-z0-9A-Z_-]{0,63}$/,f=/^([+a-z0-9A-Z_-]{0,63})(.*)$/,p={javascript:!0,"javascript:":!0},m={javascript:!0,"javascript:":!0},g={http:!0,https:!0,ftp:!0,gopher:!0,file:!0,"http:":!0,"https:":!0,"ftp:":!0,"gopher:":!0,"file:":!0},y=n(2908);function v(e,t,n){if(e&&"object"===typeof e&&e instanceof i)return e;var r=new i;return r.parse(e,t,n),r}i.prototype.parse=function(e,t,n){if("string"!==typeof e)throw new TypeError("Parameter 'url' must be a string, not "+typeof e);var i=e.indexOf("?"),o=-1!==i&&i<e.indexOf("#")?"?":"#",l=e.split(o);l[0]=l[0].replace(/\\/g,"/");var v=e=l.join(o);if(v=v.trim(),!n&&1===e.split("#").length){var b=a.exec(v);if(b)return this.path=v,this.href=v,this.pathname=b[1],b[2]?(this.search=b[2],this.query=t?y.parse(this.search.substr(1)):this.search.substr(1)):t&&(this.search="",this.query={}),this}var _=s.exec(v);if(_){var x=(_=_[0]).toLowerCase();this.protocol=x,v=v.substr(_.length)}if(n||_||v.match(/^\/\/[^@/]+@[^@/]+/)){var w="//"===v.substr(0,2);!w||_&&m[_]||(v=v.substr(2),this.slashes=!0)}if(!m[_]&&(w||_&&!g[_])){for(var A,E,S=-1,T=0;T<h.length;T++){-1!==(C=v.indexOf(h[T]))&&(-1===S||C<S)&&(S=C)}-1!==(E=-1===S?v.lastIndexOf("@"):v.lastIndexOf("@",S))&&(A=v.slice(0,E),v=v.slice(E+1),this.auth=decodeURIComponent(A)),S=-1;for(T=0;T<c.length;T++){var C;-1!==(C=v.indexOf(c[T]))&&(-1===S||C<S)&&(S=C)}-1===S&&(S=v.length),this.host=v.slice(0,S),v=v.slice(S),this.parseHost(),this.hostname=this.hostname||"";var k="["===this.hostname[0]&&"]"===this.hostname[this.hostname.length-1];if(!k)for(var R=this.hostname.split(/\./),P=(T=0,R.length);T<P;T++){var I=R[T];if(I&&!I.match(d)){for(var M="",D=0,O=I.length;D<O;D++)I.charCodeAt(D)>127?M+="x":M+=I[D];if(!M.match(d)){var L=R.slice(0,T),N=R.slice(T+1),F=I.match(f);F&&(L.push(F[1]),N.unshift(F[2])),N.length&&(v="/"+N.join(".")+v),this.hostname=L.join(".");break}}}this.hostname.length>255?this.hostname="":this.hostname=this.hostname.toLowerCase(),k||(this.hostname=r.toASCII(this.hostname));var B=this.port?":"+this.port:"",U=this.hostname||"";this.host=U+B,this.href+=this.host,k&&(this.hostname=this.hostname.substr(1,this.hostname.length-2),"/"!==v[0]&&(v="/"+v))}if(!p[x])for(T=0,P=u.length;T<P;T++){var G=u[T];if(-1!==v.indexOf(G)){var z=encodeURIComponent(G);z===G&&(z=escape(G)),v=v.split(G).join(z)}}var H=v.indexOf("#");-1!==H&&(this.hash=v.substr(H),v=v.slice(0,H));var j=v.indexOf("?");if(-1!==j?(this.search=v.substr(j),this.query=v.substr(j+1),t&&(this.query=y.parse(this.query)),v=v.slice(0,j)):t&&(this.search="",this.query={}),v&&(this.pathname=v),g[x]&&this.hostname&&!this.pathname&&(this.pathname="/"),this.pathname||this.search){B=this.pathname||"";var W=this.search||"";this.path=B+W}return this.href=this.format(),this},i.prototype.format=function(){var e=this.auth||"";e&&(e=(e=encodeURIComponent(e)).replace(/%3A/i,":"),e+="@");var t=this.protocol||"",n=this.pathname||"",r=this.hash||"",i=!1,s="";this.host?i=e+this.host:this.hostname&&(i=e+(-1===this.hostname.indexOf(":")?this.hostname:"["+this.hostname+"]"),this.port&&(i+=":"+this.port)),this.query&&"object"===typeof this.query&&Object.keys(this.query).length&&(s=y.stringify(this.query,{arrayFormat:"repeat",addQueryPrefix:!1}));var o=this.search||s&&"?"+s||"";return t&&":"!==t.substr(-1)&&(t+=":"),this.slashes||(!t||g[t])&&!1!==i?(i="//"+(i||""),n&&"/"!==n.charAt(0)&&(n="/"+n)):i||(i=""),r&&"#"!==r.charAt(0)&&(r="#"+r),o&&"?"!==o.charAt(0)&&(o="?"+o),t+i+(n=n.replace(/[?#]/g,function(e){return encodeURIComponent(e)}))+(o=o.replace("#","%23"))+r},i.prototype.resolve=function(e){return this.resolveObject(v(e,!1,!0)).format()},i.prototype.resolveObject=function(e){if("string"===typeof e){var t=new i;t.parse(e,!1,!0),e=t}for(var n=new i,r=Object.keys(this),s=0;s<r.length;s++){var o=r[s];n[o]=this[o]}if(n.hash=e.hash,""===e.href)return n.href=n.format(),n;if(e.slashes&&!e.protocol){for(var a=Object.keys(e),l=0;l<a.length;l++){var u=a[l];"protocol"!==u&&(n[u]=e[u])}return g[n.protocol]&&n.hostname&&!n.pathname&&(n.pathname="/",n.path=n.pathname),n.href=n.format(),n}if(e.protocol&&e.protocol!==n.protocol){if(!g[e.protocol]){for(var c=Object.keys(e),h=0;h<c.length;h++){var d=c[h];n[d]=e[d]}return n.href=n.format(),n}if(n.protocol=e.protocol,e.host||m[e.protocol])n.pathname=e.pathname;else{for(var f=(e.pathname||"").split("/");f.length&&!(e.host=f.shift()););e.host||(e.host=""),e.hostname||(e.hostname=""),""!==f[0]&&f.unshift(""),f.length<2&&f.unshift(""),n.pathname=f.join("/")}if(n.search=e.search,n.query=e.query,n.host=e.host||"",n.auth=e.auth,n.hostname=e.hostname||e.host,n.port=e.port,n.pathname||n.search){var p=n.pathname||"",y=n.search||"";n.path=p+y}return n.slashes=n.slashes||e.slashes,n.href=n.format(),n}var v=n.pathname&&"/"===n.pathname.charAt(0),b=e.host||e.pathname&&"/"===e.pathname.charAt(0),_=b||v||n.host&&e.pathname,x=_,w=n.pathname&&n.pathname.split("/")||[],A=(f=e.pathname&&e.pathname.split("/")||[],n.protocol&&!g[n.protocol]);if(A&&(n.hostname="",n.port=null,n.host&&(""===w[0]?w[0]=n.host:w.unshift(n.host)),n.host="",e.protocol&&(e.hostname=null,e.port=null,e.host&&(""===f[0]?f[0]=e.host:f.unshift(e.host)),e.host=null),_=_&&(""===f[0]||""===w[0])),b)n.host=e.host||""===e.host?e.host:n.host,n.hostname=e.hostname||""===e.hostname?e.hostname:n.hostname,n.search=e.search,n.query=e.query,w=f;else if(f.length)w||(w=[]),w.pop(),w=w.concat(f),n.search=e.search,n.query=e.query;else if(null!=e.search){if(A)n.host=w.shift(),n.hostname=n.host,(k=!!(n.host&&n.host.indexOf("@")>0)&&n.host.split("@"))&&(n.auth=k.shift(),n.hostname=k.shift(),n.host=n.hostname);return n.search=e.search,n.query=e.query,null===n.pathname&&null===n.search||(n.path=(n.pathname?n.pathname:"")+(n.search?n.search:"")),n.href=n.format(),n}if(!w.length)return n.pathname=null,n.search?n.path="/"+n.search:n.path=null,n.href=n.format(),n;for(var E=w.slice(-1)[0],S=(n.host||e.host||w.length>1)&&("."===E||".."===E)||""===E,T=0,C=w.length;C>=0;C--)"."===(E=w[C])?w.splice(C,1):".."===E?(w.splice(C,1),T++):T&&(w.splice(C,1),T--);if(!_&&!x)for(;T--;T)w.unshift("..");!_||""===w[0]||w[0]&&"/"===w[0].charAt(0)||w.unshift(""),S&&"/"!==w.join("/").substr(-1)&&w.push("");var k,R=""===w[0]||w[0]&&"/"===w[0].charAt(0);A&&(n.hostname=R?"":w.length?w.shift():"",n.host=n.hostname,(k=!!(n.host&&n.host.indexOf("@")>0)&&n.host.split("@"))&&(n.auth=k.shift(),n.hostname=k.shift(),n.host=n.hostname));return(_=_||n.host&&w.length)&&!R&&w.unshift(""),w.length>0?n.pathname=w.join("/"):(n.pathname=null,n.path=null),null===n.pathname&&null===n.search||(n.path=(n.pathname?n.pathname:"")+(n.search?n.search:"")),n.auth=e.auth||n.auth,n.slashes=n.slashes||e.slashes,n.href=n.format(),n},i.prototype.parseHost=function(){var e=this.host,t=o.exec(e);t&&(":"!==(t=t[0])&&(this.port=t.substr(1)),e=e.substr(0,e.length-t.length)),e&&(this.hostname=e)},t.qg=v,t.hd=function(e,t){return v(e,!1,!0).resolve(t)},t.GP=function(e){return"string"===typeof e&&(e=v(e)),e instanceof i?e.format():i.prototype.format.call(e)}},4288:(e,t)=>{"use strict";var n=Symbol.for("react.transitional.element"),r=Symbol.for("react.portal"),i=Symbol.for("react.fragment"),s=Symbol.for("react.strict_mode"),o=Symbol.for("react.profiler"),a=Symbol.for("react.consumer"),l=Symbol.for("react.context"),u=Symbol.for("react.forward_ref"),c=Symbol.for("react.suspense"),h=Symbol.for("react.memo"),d=Symbol.for("react.lazy"),f=Symbol.for("react.activity"),p=Symbol.iterator;var m={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},g=Object.assign,y={};function v(e,t,n){this.props=e,this.context=t,this.refs=y,this.updater=n||m}function b(){}function _(e,t,n){this.props=e,this.context=t,this.refs=y,this.updater=n||m}v.prototype.isReactComponent={},v.prototype.setState=function(e,t){if("object"!==typeof e&&"function"!==typeof e&&null!=e)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,e,t,"setState")},v.prototype.forceUpdate=function(e){this.updater.enqueueForceUpdate(this,e,"forceUpdate")},b.prototype=v.prototype;var x=_.prototype=new b;x.constructor=_,g(x,v.prototype),x.isPureReactComponent=!0;var w=Array.isArray;function A(){}var E={H:null,A:null,T:null,S:null},S=Object.prototype.hasOwnProperty;function T(e,t,r){var i=r.ref;return{$$typeof:n,type:e,key:t,ref:void 0!==i?i:null,props:r}}function C(e){return"object"===typeof e&&null!==e&&e.$$typeof===n}var k=/\/+/g;function R(e,t){return"object"===typeof e&&null!==e&&null!=e.key?function(e){var t={"=":"=0",":":"=2"};return"$"+e.replace(/[=:]/g,function(e){return t[e]})}(""+e.key):t.toString(36)}function P(e,t,i,s,o){var a=typeof e;"undefined"!==a&&"boolean"!==a||(e=null);var l,u,c=!1;if(null===e)c=!0;else switch(a){case"bigint":case"string":case"number":c=!0;break;case"object":switch(e.$$typeof){case n:case r:c=!0;break;case d:return P((c=e._init)(e._payload),t,i,s,o)}}if(c)return o=o(e),c=""===s?"."+R(e,0):s,w(o)?(i="",null!=c&&(i=c.replace(k,"$&/")+"/"),P(o,t,i,"",function(e){return e})):null!=o&&(C(o)&&(l=o,u=i+(null==o.key||e&&e.key===o.key?"":(""+o.key).replace(k,"$&/")+"/")+c,o=T(l.type,u,l.props)),t.push(o)),1;c=0;var h,f=""===s?".":s+":";if(w(e))for(var m=0;m<e.length;m++)c+=P(s=e[m],t,i,a=f+R(s,m),o);else if("function"===typeof(m=null===(h=e)||"object"!==typeof h?null:"function"===typeof(h=p&&h[p]||h["@@iterator"])?h:null))for(e=m.call(e),m=0;!(s=e.next()).done;)c+=P(s=s.value,t,i,a=f+R(s,m++),o);else if("object"===a){if("function"===typeof e.then)return P(function(e){switch(e.status){case"fulfilled":return e.value;case"rejected":throw e.reason;default:switch("string"===typeof e.status?e.then(A,A):(e.status="pending",e.then(function(t){"pending"===e.status&&(e.status="fulfilled",e.value=t)},function(t){"pending"===e.status&&(e.status="rejected",e.reason=t)})),e.status){case"fulfilled":return e.value;case"rejected":throw e.reason}}throw e}(e),t,i,s,o);throw t=String(e),Error("Objects are not valid as a React child (found: "+("[object Object]"===t?"object with keys {"+Object.keys(e).join(", ")+"}":t)+"). If you meant to render a collection of children, use an array instead.")}return c}function I(e,t,n){if(null==e)return e;var r=[],i=0;return P(e,r,"","",function(e){return t.call(n,e,i++)}),r}function M(e){if(-1===e._status){var t=e._result;(t=t()).then(function(t){0!==e._status&&-1!==e._status||(e._status=1,e._result=t)},function(t){0!==e._status&&-1!==e._status||(e._status=2,e._result=t)}),-1===e._status&&(e._status=0,e._result=t)}if(1===e._status)return e._result.default;throw e._result}var D="function"===typeof reportError?reportError:function(e){if("object"===typeof window&&"function"===typeof window.ErrorEvent){var t=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:"object"===typeof e&&null!==e&&"string"===typeof e.message?String(e.message):String(e),error:e});if(!window.dispatchEvent(t))return}else if("object"===typeof process&&"function"===typeof process.emit)return void process.emit("uncaughtException",e);console.error(e)},O={map:I,forEach:function(e,t,n){I(e,function(){t.apply(this,arguments)},n)},count:function(e){var t=0;return I(e,function(){t++}),t},toArray:function(e){return I(e,function(e){return e})||[]},only:function(e){if(!C(e))throw Error("React.Children.only expected to receive a single React element child.");return e}};t.Activity=f,t.Children=O,t.Component=v,t.Fragment=i,t.Profiler=o,t.PureComponent=_,t.StrictMode=s,t.Suspense=c,t.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=E,t.__COMPILER_RUNTIME={__proto__:null,c:function(e){return E.H.useMemoCache(e)}},t.cache=function(e){return function(){return e.apply(null,arguments)}},t.cacheSignal=function(){return null},t.cloneElement=function(e,t,n){if(null===e||void 0===e)throw Error("The argument must be a React element, but you passed "+e+".");var r=g({},e.props),i=e.key;if(null!=t)for(s in void 0!==t.key&&(i=""+t.key),t)!S.call(t,s)||"key"===s||"__self"===s||"__source"===s||"ref"===s&&void 0===t.ref||(r[s]=t[s]);var s=arguments.length-2;if(1===s)r.children=n;else if(1<s){for(var o=Array(s),a=0;a<s;a++)o[a]=arguments[a+2];r.children=o}return T(e.type,i,r)},t.createContext=function(e){return(e={$$typeof:l,_currentValue:e,_currentValue2:e,_threadCount:0,Provider:null,Consumer:null}).Provider=e,e.Consumer={$$typeof:a,_context:e},e},t.createElement=function(e,t,n){var r,i={},s=null;if(null!=t)for(r in void 0!==t.key&&(s=""+t.key),t)S.call(t,r)&&"key"!==r&&"__self"!==r&&"__source"!==r&&(i[r]=t[r]);var o=arguments.length-2;if(1===o)i.children=n;else if(1<o){for(var a=Array(o),l=0;l<o;l++)a[l]=arguments[l+2];i.children=a}if(e&&e.defaultProps)for(r in o=e.defaultProps)void 0===i[r]&&(i[r]=o[r]);return T(e,s,i)},t.createRef=function(){return{current:null}},t.forwardRef=function(e){return{$$typeof:u,render:e}},t.isValidElement=C,t.lazy=function(e){return{$$typeof:d,_payload:{_status:-1,_result:e},_init:M}},t.memo=function(e,t){return{$$typeof:h,type:e,compare:void 0===t?null:t}},t.startTransition=function(e){var t=E.T,n={};E.T=n;try{var r=e(),i=E.S;null!==i&&i(n,r),"object"===typeof r&&null!==r&&"function"===typeof r.then&&r.then(A,D)}catch(s){D(s)}finally{null!==t&&null!==n.types&&(t.types=n.types),E.T=t}},t.unstable_useCacheRefresh=function(){return E.H.useCacheRefresh()},t.use=function(e){return E.H.use(e)},t.useActionState=function(e,t,n){return E.H.useActionState(e,t,n)},t.useCallback=function(e,t){return E.H.useCallback(e,t)},t.useContext=function(e){return E.H.useContext(e)},t.useDebugValue=function(){},t.useDeferredValue=function(e,t){return E.H.useDeferredValue(e,t)},t.useEffect=function(e,t){return E.H.useEffect(e,t)},t.useEffectEvent=function(e){return E.H.useEffectEvent(e)},t.useId=function(){return E.H.useId()},t.useImperativeHandle=function(e,t,n){return E.H.useImperativeHandle(e,t,n)},t.useInsertionEffect=function(e,t){return E.H.useInsertionEffect(e,t)},t.useLayoutEffect=function(e,t){return E.H.useLayoutEffect(e,t)},t.useMemo=function(e,t){return E.H.useMemo(e,t)},t.useOptimistic=function(e,t){return E.H.useOptimistic(e,t)},t.useReducer=function(e,t,n){return E.H.useReducer(e,t,n)},t.useRef=function(e){return E.H.useRef(e)},t.useState=function(e){return E.H.useState(e)},t.useSyncExternalStore=function(e,t,n){return E.H.useSyncExternalStore(e,t,n)},t.useTransition=function(){return E.H.useTransition()},t.version="19.2.0"},4384:(e,t,n)=>{"use strict";var r=Function.prototype.call,i=Object.prototype.hasOwnProperty,s=n(3864);e.exports=s.call(r,i)},4391:(e,t,n)=>{"use strict";!function e(){if("undefined"!==typeof __REACT_DEVTOOLS_GLOBAL_HOOK__&&"function"===typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE)try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(e)}catch(t){console.error(t)}}(),e.exports=n(7004)},4590:e=>{"use strict";e.exports="undefined"!==typeof Reflect&&Reflect&&Reflect.apply},4591:e=>{"use strict";e.exports=Math.max},4781:(e,t,n)=>{"use strict";var r=n(3864),i=n(4902),s=n(4937),o=n(5747);e.exports=function(e){if(e.length<1||"function"!==typeof e[0])throw new i("a function is required");return o(r,s,e)}},4902:e=>{"use strict";e.exports=TypeError},4937:e=>{"use strict";e.exports=Function.prototype.call},5043:(e,t,n)=>{"use strict";e.exports=n(4288)},5061:e=>{"use strict";e.exports=Function.prototype.apply},5077:e=>{"use strict";e.exports=ReferenceError},5322:(e,t,n)=>{"use strict";var r=n(2),i=n(8117),s=n(8206),o=n(7858),a=n(4902),l=r("%WeakMap%",!0),u=i("WeakMap.prototype.get",!0),c=i("WeakMap.prototype.set",!0),h=i("WeakMap.prototype.has",!0),d=i("WeakMap.prototype.delete",!0);e.exports=l?function(){var e,t,n={assert:function(e){if(!n.has(e))throw new a("Side channel does not contain "+s(e))},delete:function(n){if(l&&n&&("object"===typeof n||"function"===typeof n)){if(e)return d(e,n)}else if(o&&t)return t.delete(n);return!1},get:function(n){return l&&n&&("object"===typeof n||"function"===typeof n)&&e?u(e,n):t&&t.get(n)},has:function(n){return l&&n&&("object"===typeof n||"function"===typeof n)&&e?h(e,n):!!t&&t.has(n)},set:function(n,r){l&&n&&("object"===typeof n||"function"===typeof n)?(e||(e=new l),c(e,n,r)):o&&(t||(t=o()),t.set(n,r))}};return n}:o},5558:(e,t,n)=>{"use strict";var r=n(8258);if(r)try{r([],"length")}catch(i){r=null}e.exports=r},5747:(e,t,n)=>{"use strict";var r=n(3864),i=n(5061),s=n(4937),o=n(4590);e.exports=o||r.call(s,i)},5896:(e,t)=>{"use strict";function n(e,t){var n=e.length;e.push(t);e:for(;0<n;){var r=n-1>>>1,i=e[r];if(!(0<s(i,t)))break e;e[r]=t,e[n]=i,n=r}}function r(e){return 0===e.length?null:e[0]}function i(e){if(0===e.length)return null;var t=e[0],n=e.pop();if(n!==t){e[0]=n;e:for(var r=0,i=e.length,o=i>>>1;r<o;){var a=2*(r+1)-1,l=e[a],u=a+1,c=e[u];if(0>s(l,n))u<i&&0>s(c,l)?(e[r]=c,e[u]=n,r=u):(e[r]=l,e[a]=n,r=a);else{if(!(u<i&&0>s(c,n)))break e;e[r]=c,e[u]=n,r=u}}}return t}function s(e,t){var n=e.sortIndex-t.sortIndex;return 0!==n?n:e.id-t.id}if(t.unstable_now=void 0,"object"===typeof performance&&"function"===typeof performance.now){var o=performance;t.unstable_now=function(){return o.now()}}else{var a=Date,l=a.now();t.unstable_now=function(){return a.now()-l}}var u=[],c=[],h=1,d=null,f=3,p=!1,m=!1,g=!1,y=!1,v="function"===typeof setTimeout?setTimeout:null,b="function"===typeof clearTimeout?clearTimeout:null,_="undefined"!==typeof setImmediate?setImmediate:null;function x(e){for(var t=r(c);null!==t;){if(null===t.callback)i(c);else{if(!(t.startTime<=e))break;i(c),t.sortIndex=t.expirationTime,n(u,t)}t=r(c)}}function w(e){if(g=!1,x(e),!m)if(null!==r(u))m=!0,E||(E=!0,A());else{var t=r(c);null!==t&&M(w,t.startTime-e)}}var A,E=!1,S=-1,T=5,C=-1;function k(){return!!y||!(t.unstable_now()-C<T)}function R(){if(y=!1,E){var e=t.unstable_now();C=e;var n=!0;try{e:{m=!1,g&&(g=!1,b(S),S=-1),p=!0;var s=f;try{t:{for(x(e),d=r(u);null!==d&&!(d.expirationTime>e&&k());){var o=d.callback;if("function"===typeof o){d.callback=null,f=d.priorityLevel;var a=o(d.expirationTime<=e);if(e=t.unstable_now(),"function"===typeof a){d.callback=a,x(e),n=!0;break t}d===r(u)&&i(u),x(e)}else i(u);d=r(u)}if(null!==d)n=!0;else{var l=r(c);null!==l&&M(w,l.startTime-e),n=!1}}break e}finally{d=null,f=s,p=!1}n=void 0}}finally{n?A():E=!1}}}if("function"===typeof _)A=function(){_(R)};else if("undefined"!==typeof MessageChannel){var P=new MessageChannel,I=P.port2;P.port1.onmessage=R,A=function(){I.postMessage(null)}}else A=function(){v(R,0)};function M(e,n){S=v(function(){e(t.unstable_now())},n)}t.unstable_IdlePriority=5,t.unstable_ImmediatePriority=1,t.unstable_LowPriority=4,t.unstable_NormalPriority=3,t.unstable_Profiling=null,t.unstable_UserBlockingPriority=2,t.unstable_cancelCallback=function(e){e.callback=null},t.unstable_forceFrameRate=function(e){0>e||125<e?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):T=0<e?Math.floor(1e3/e):5},t.unstable_getCurrentPriorityLevel=function(){return f},t.unstable_next=function(e){switch(f){case 1:case 2:case 3:var t=3;break;default:t=f}var n=f;f=t;try{return e()}finally{f=n}},t.unstable_requestPaint=function(){y=!0},t.unstable_runWithPriority=function(e,t){switch(e){case 1:case 2:case 3:case 4:case 5:break;default:e=3}var n=f;f=e;try{return t()}finally{f=n}},t.unstable_scheduleCallback=function(e,i,s){var o=t.unstable_now();switch("object"===typeof s&&null!==s?s="number"===typeof(s=s.delay)&&0<s?o+s:o:s=o,e){case 1:var a=-1;break;case 2:a=250;break;case 5:a=1073741823;break;case 4:a=1e4;break;default:a=5e3}return e={id:h++,callback:i,priorityLevel:e,startTime:s,expirationTime:a=s+a,sortIndex:-1},s>o?(e.sortIndex=s,n(c,e),null===r(u)&&e===r(c)&&(g?(b(S),S=-1):g=!0,M(w,s-o))):(e.sortIndex=a,n(u,e),m||p||(m=!0,E||(E=!0,A()))),e},t.unstable_shouldYield=k,t.unstable_wrapCallback=function(e){var t=f;return function(){var n=f;f=t;try{return e.apply(this,arguments)}finally{f=n}}}},6672:(e,t,n)=>{"use strict";var r=n(5043);function i(e){var t="https://react.dev/errors/"+e;if(1<arguments.length){t+="?args[]="+encodeURIComponent(arguments[1]);for(var n=2;n<arguments.length;n++)t+="&args[]="+encodeURIComponent(arguments[n])}return"Minified React error #"+e+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function s(){}var o={d:{f:s,r:function(){throw Error(i(522))},D:s,C:s,L:s,m:s,X:s,S:s,M:s},p:0,findDOMNode:null},a=Symbol.for("react.portal");var l=r.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function u(e,t){return"font"===e?"":"string"===typeof t?"use-credentials"===t?t:"":void 0}t.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=o,t.createPortal=function(e,t){var n=2<arguments.length&&void 0!==arguments[2]?arguments[2]:null;if(!t||1!==t.nodeType&&9!==t.nodeType&&11!==t.nodeType)throw Error(i(299));return function(e,t,n){var r=3<arguments.length&&void 0!==arguments[3]?arguments[3]:null;return{$$typeof:a,key:null==r?null:""+r,children:e,containerInfo:t,implementation:n}}(e,t,null,n)},t.flushSync=function(e){var t=l.T,n=o.p;try{if(l.T=null,o.p=2,e)return e()}finally{l.T=t,o.p=n,o.d.f()}},t.preconnect=function(e,t){"string"===typeof e&&(t?t="string"===typeof(t=t.crossOrigin)?"use-credentials"===t?t:"":void 0:t=null,o.d.C(e,t))},t.prefetchDNS=function(e){"string"===typeof e&&o.d.D(e)},t.preinit=function(e,t){if("string"===typeof e&&t&&"string"===typeof t.as){var n=t.as,r=u(n,t.crossOrigin),i="string"===typeof t.integrity?t.integrity:void 0,s="string"===typeof t.fetchPriority?t.fetchPriority:void 0;"style"===n?o.d.S(e,"string"===typeof t.precedence?t.precedence:void 0,{crossOrigin:r,integrity:i,fetchPriority:s}):"script"===n&&o.d.X(e,{crossOrigin:r,integrity:i,fetchPriority:s,nonce:"string"===typeof t.nonce?t.nonce:void 0})}},t.preinitModule=function(e,t){if("string"===typeof e)if("object"===typeof t&&null!==t){if(null==t.as||"script"===t.as){var n=u(t.as,t.crossOrigin);o.d.M(e,{crossOrigin:n,integrity:"string"===typeof t.integrity?t.integrity:void 0,nonce:"string"===typeof t.nonce?t.nonce:void 0})}}else null==t&&o.d.M(e)},t.preload=function(e,t){if("string"===typeof e&&"object"===typeof t&&null!==t&&"string"===typeof t.as){var n=t.as,r=u(n,t.crossOrigin);o.d.L(e,n,{crossOrigin:r,integrity:"string"===typeof t.integrity?t.integrity:void 0,nonce:"string"===typeof t.nonce?t.nonce:void 0,type:"string"===typeof t.type?t.type:void 0,fetchPriority:"string"===typeof t.fetchPriority?t.fetchPriority:void 0,referrerPolicy:"string"===typeof t.referrerPolicy?t.referrerPolicy:void 0,imageSrcSet:"string"===typeof t.imageSrcSet?t.imageSrcSet:void 0,imageSizes:"string"===typeof t.imageSizes?t.imageSizes:void 0,media:"string"===typeof t.media?t.media:void 0})}},t.preloadModule=function(e,t){if("string"===typeof e)if(t){var n=u(t.as,t.crossOrigin);o.d.m(e,{as:"string"===typeof t.as&&"script"!==t.as?t.as:void 0,crossOrigin:n,integrity:"string"===typeof t.integrity?t.integrity:void 0})}else o.d.m(e)},t.requestFormReset=function(e){o.d.r(e)},t.unstable_batchedUpdates=function(e,t){return e(t)},t.useFormState=function(e,t,n){return l.H.useFormState(e,t,n)},t.useFormStatus=function(){return l.H.useHostTransitionStatus()},t.version="19.2.0"},7004:(e,t,n)=>{"use strict";var r=n(8853),i=n(5043),s=n(7950);function o(e){var t="https://react.dev/errors/"+e;if(1<arguments.length){t+="?args[]="+encodeURIComponent(arguments[1]);for(var n=2;n<arguments.length;n++)t+="&args[]="+encodeURIComponent(arguments[n])}return"Minified React error #"+e+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function a(e){return!(!e||1!==e.nodeType&&9!==e.nodeType&&11!==e.nodeType)}function l(e){var t=e,n=e;if(e.alternate)for(;t.return;)t=t.return;else{e=t;do{0!==(4098&(t=e).flags)&&(n=t.return),e=t.return}while(e)}return 3===t.tag?n:null}function u(e){if(13===e.tag){var t=e.memoizedState;if(null===t&&(null!==(e=e.alternate)&&(t=e.memoizedState)),null!==t)return t.dehydrated}return null}function c(e){if(31===e.tag){var t=e.memoizedState;if(null===t&&(null!==(e=e.alternate)&&(t=e.memoizedState)),null!==t)return t.dehydrated}return null}function h(e){if(l(e)!==e)throw Error(o(188))}function d(e){var t=e.tag;if(5===t||26===t||27===t||6===t)return e;for(e=e.child;null!==e;){if(null!==(t=d(e)))return t;e=e.sibling}return null}var f=Object.assign,p=Symbol.for("react.element"),m=Symbol.for("react.transitional.element"),g=Symbol.for("react.portal"),y=Symbol.for("react.fragment"),v=Symbol.for("react.strict_mode"),b=Symbol.for("react.profiler"),_=Symbol.for("react.consumer"),x=Symbol.for("react.context"),w=Symbol.for("react.forward_ref"),A=Symbol.for("react.suspense"),E=Symbol.for("react.suspense_list"),S=Symbol.for("react.memo"),T=Symbol.for("react.lazy");Symbol.for("react.scope");var C=Symbol.for("react.activity");Symbol.for("react.legacy_hidden"),Symbol.for("react.tracing_marker");var k=Symbol.for("react.memo_cache_sentinel");Symbol.for("react.view_transition");var R=Symbol.iterator;function P(e){return null===e||"object"!==typeof e?null:"function"===typeof(e=R&&e[R]||e["@@iterator"])?e:null}var I=Symbol.for("react.client.reference");function M(e){if(null==e)return null;if("function"===typeof e)return e.$$typeof===I?null:e.displayName||e.name||null;if("string"===typeof e)return e;switch(e){case y:return"Fragment";case b:return"Profiler";case v:return"StrictMode";case A:return"Suspense";case E:return"SuspenseList";case C:return"Activity"}if("object"===typeof e)switch(e.$$typeof){case g:return"Portal";case x:return e.displayName||"Context";case _:return(e._context.displayName||"Context")+".Consumer";case w:var t=e.render;return(e=e.displayName)||(e=""!==(e=t.displayName||t.name||"")?"ForwardRef("+e+")":"ForwardRef"),e;case S:return null!==(t=e.displayName||null)?t:M(e.type)||"Memo";case T:t=e._payload,e=e._init;try{return M(e(t))}catch(n){}}return null}var D=Array.isArray,O=i.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,L=s.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,N={pending:!1,data:null,method:null,action:null},F=[],B=-1;function U(e){return{current:e}}function G(e){0>B||(e.current=F[B],F[B]=null,B--)}function z(e,t){B++,F[B]=e.current,e.current=t}var H,j,W=U(null),V=U(null),X=U(null),Y=U(null);function q(e,t){switch(z(X,t),z(V,e),z(W,null),t.nodeType){case 9:case 11:e=(e=t.documentElement)&&(e=e.namespaceURI)?yh(e):0;break;default:if(e=t.tagName,t=t.namespaceURI)e=vh(t=yh(t),e);else switch(e){case"svg":e=1;break;case"math":e=2;break;default:e=0}}G(W),z(W,e)}function K(){G(W),G(V),G(X)}function Q(e){null!==e.memoizedState&&z(Y,e);var t=W.current,n=vh(t,e.type);t!==n&&(z(V,e),z(W,n))}function Z(e){V.current===e&&(G(W),G(V)),Y.current===e&&(G(Y),cd._currentValue=N)}function J(e){if(void 0===H)try{throw Error()}catch(n){var t=n.stack.trim().match(/\n( *(at )?)/);H=t&&t[1]||"",j=-1<n.stack.indexOf("\n    at")?" (<anonymous>)":-1<n.stack.indexOf("@")?"@unknown:0:0":""}return"\n"+H+e+j}var $=!1;function ee(e,t){if(!e||$)return"";$=!0;var n=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var r={DetermineComponentFrameRoot:function(){try{if(t){var n=function(){throw Error()};if(Object.defineProperty(n.prototype,"props",{set:function(){throw Error()}}),"object"===typeof Reflect&&Reflect.construct){try{Reflect.construct(n,[])}catch(i){var r=i}Reflect.construct(e,[],n)}else{try{n.call()}catch(s){r=s}e.call(n.prototype)}}else{try{throw Error()}catch(o){r=o}(n=e())&&"function"===typeof n.catch&&n.catch(function(){})}}catch(a){if(a&&r&&"string"===typeof a.stack)return[a.stack,r.stack]}return[null,null]}};r.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var i=Object.getOwnPropertyDescriptor(r.DetermineComponentFrameRoot,"name");i&&i.configurable&&Object.defineProperty(r.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var s=r.DetermineComponentFrameRoot(),o=s[0],a=s[1];if(o&&a){var l=o.split("\n"),u=a.split("\n");for(i=r=0;r<l.length&&!l[r].includes("DetermineComponentFrameRoot");)r++;for(;i<u.length&&!u[i].includes("DetermineComponentFrameRoot");)i++;if(r===l.length||i===u.length)for(r=l.length-1,i=u.length-1;1<=r&&0<=i&&l[r]!==u[i];)i--;for(;1<=r&&0<=i;r--,i--)if(l[r]!==u[i]){if(1!==r||1!==i)do{if(r--,0>--i||l[r]!==u[i]){var c="\n"+l[r].replace(" at new "," at ");return e.displayName&&c.includes("<anonymous>")&&(c=c.replace("<anonymous>",e.displayName)),c}}while(1<=r&&0<=i);break}}}finally{$=!1,Error.prepareStackTrace=n}return(n=e?e.displayName||e.name:"")?J(n):""}function te(e,t){switch(e.tag){case 26:case 27:case 5:return J(e.type);case 16:return J("Lazy");case 13:return e.child!==t&&null!==t?J("Suspense Fallback"):J("Suspense");case 19:return J("SuspenseList");case 0:case 15:return ee(e.type,!1);case 11:return ee(e.type.render,!1);case 1:return ee(e.type,!0);case 31:return J("Activity");default:return""}}function ne(e){try{var t="",n=null;do{t+=te(e,n),n=e,e=e.return}while(e);return t}catch(r){return"\nError generating stack: "+r.message+"\n"+r.stack}}var re=Object.prototype.hasOwnProperty,ie=r.unstable_scheduleCallback,se=r.unstable_cancelCallback,oe=r.unstable_shouldYield,ae=r.unstable_requestPaint,le=r.unstable_now,ue=r.unstable_getCurrentPriorityLevel,ce=r.unstable_ImmediatePriority,he=r.unstable_UserBlockingPriority,de=r.unstable_NormalPriority,fe=r.unstable_LowPriority,pe=r.unstable_IdlePriority,me=r.log,ge=r.unstable_setDisableYieldValue,ye=null,ve=null;function be(e){if("function"===typeof me&&ge(e),ve&&"function"===typeof ve.setStrictMode)try{ve.setStrictMode(ye,e)}catch(t){}}var _e=Math.clz32?Math.clz32:function(e){return 0===(e>>>=0)?32:31-(xe(e)/we|0)|0},xe=Math.log,we=Math.LN2;var Ae=256,Ee=262144,Se=4194304;function Te(e){var t=42&e;if(0!==t)return t;switch(e&-e){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:return 128;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:return 261888&e;case 262144:case 524288:case 1048576:case 2097152:return 3932160&e;case 4194304:case 8388608:case 16777216:case 33554432:return 62914560&e;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return e}}function Ce(e,t,n){var r=e.pendingLanes;if(0===r)return 0;var i=0,s=e.suspendedLanes,o=e.pingedLanes;e=e.warmLanes;var a=134217727&r;return 0!==a?0!==(r=a&~s)?i=Te(r):0!==(o&=a)?i=Te(o):n||0!==(n=a&~e)&&(i=Te(n)):0!==(a=r&~s)?i=Te(a):0!==o?i=Te(o):n||0!==(n=r&~e)&&(i=Te(n)),0===i?0:0!==t&&t!==i&&0===(t&s)&&((s=i&-i)>=(n=t&-t)||32===s&&0!==(4194048&n))?t:i}function ke(e,t){return 0===(e.pendingLanes&~(e.suspendedLanes&~e.pingedLanes)&t)}function Re(e,t){switch(e){case 1:case 2:case 4:case 8:case 64:return t+250;case 16:case 32:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t+5e3;default:return-1}}function Pe(){var e=Se;return 0===(62914560&(Se<<=1))&&(Se=4194304),e}function Ie(e){for(var t=[],n=0;31>n;n++)t.push(e);return t}function Me(e,t){e.pendingLanes|=t,268435456!==t&&(e.suspendedLanes=0,e.pingedLanes=0,e.warmLanes=0)}function De(e,t,n){e.pendingLanes|=t,e.suspendedLanes&=~t;var r=31-_e(t);e.entangledLanes|=t,e.entanglements[r]=1073741824|e.entanglements[r]|261930&n}function Oe(e,t){var n=e.entangledLanes|=t;for(e=e.entanglements;n;){var r=31-_e(n),i=1<<r;i&t|e[r]&t&&(e[r]|=t),n&=~i}}function Le(e,t){var n=t&-t;return 0!==((n=0!==(42&n)?1:Ne(n))&(e.suspendedLanes|t))?0:n}function Ne(e){switch(e){case 2:e=1;break;case 8:e=4;break;case 32:e=16;break;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:e=128;break;case 268435456:e=134217728;break;default:e=0}return e}function Fe(e){return 2<(e&=-e)?8<e?0!==(134217727&e)?32:268435456:8:2}function Be(){var e=L.p;return 0!==e?e:void 0===(e=window.event)?32:Td(e.type)}function Ue(e,t){var n=L.p;try{return L.p=e,t()}finally{L.p=n}}var Ge=Math.random().toString(36).slice(2),ze="__reactFiber$"+Ge,He="__reactProps$"+Ge,je="__reactContainer$"+Ge,We="__reactEvents$"+Ge,Ve="__reactListeners$"+Ge,Xe="__reactHandles$"+Ge,Ye="__reactResources$"+Ge,qe="__reactMarker$"+Ge;function Ke(e){delete e[ze],delete e[He],delete e[We],delete e[Ve],delete e[Xe]}function Qe(e){var t=e[ze];if(t)return t;for(var n=e.parentNode;n;){if(t=n[je]||n[ze]){if(n=t.alternate,null!==t.child||null!==n&&null!==n.child)for(e=Nh(e);null!==e;){if(n=e[ze])return n;e=Nh(e)}return t}n=(e=n).parentNode}return null}function Ze(e){if(e=e[ze]||e[je]){var t=e.tag;if(5===t||6===t||13===t||31===t||26===t||27===t||3===t)return e}return null}function Je(e){var t=e.tag;if(5===t||26===t||27===t||6===t)return e.stateNode;throw Error(o(33))}function $e(e){var t=e[Ye];return t||(t=e[Ye]={hoistableStyles:new Map,hoistableScripts:new Map}),t}function et(e){e[qe]=!0}var tt=new Set,nt={};function rt(e,t){it(e,t),it(e+"Capture",t)}function it(e,t){for(nt[e]=t,e=0;e<t.length;e++)tt.add(t[e])}var st=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),ot={},at={};function lt(e,t,n){if(i=t,re.call(at,i)||!re.call(ot,i)&&(st.test(i)?at[i]=!0:(ot[i]=!0,0)))if(null===n)e.removeAttribute(t);else{switch(typeof n){case"undefined":case"function":case"symbol":return void e.removeAttribute(t);case"boolean":var r=t.toLowerCase().slice(0,5);if("data-"!==r&&"aria-"!==r)return void e.removeAttribute(t)}e.setAttribute(t,""+n)}var i}function ut(e,t,n){if(null===n)e.removeAttribute(t);else{switch(typeof n){case"undefined":case"function":case"symbol":case"boolean":return void e.removeAttribute(t)}e.setAttribute(t,""+n)}}function ct(e,t,n,r){if(null===r)e.removeAttribute(n);else{switch(typeof r){case"undefined":case"function":case"symbol":case"boolean":return void e.removeAttribute(n)}e.setAttributeNS(t,n,""+r)}}function ht(e){switch(typeof e){case"bigint":case"boolean":case"number":case"string":case"undefined":case"object":return e;default:return""}}function dt(e){var t=e.type;return(e=e.nodeName)&&"input"===e.toLowerCase()&&("checkbox"===t||"radio"===t)}function ft(e){if(!e._valueTracker){var t=dt(e)?"checked":"value";e._valueTracker=function(e,t,n){var r=Object.getOwnPropertyDescriptor(e.constructor.prototype,t);if(!e.hasOwnProperty(t)&&"undefined"!==typeof r&&"function"===typeof r.get&&"function"===typeof r.set){var i=r.get,s=r.set;return Object.defineProperty(e,t,{configurable:!0,get:function(){return i.call(this)},set:function(e){n=""+e,s.call(this,e)}}),Object.defineProperty(e,t,{enumerable:r.enumerable}),{getValue:function(){return n},setValue:function(e){n=""+e},stopTracking:function(){e._valueTracker=null,delete e[t]}}}}(e,t,""+e[t])}}function pt(e){if(!e)return!1;var t=e._valueTracker;if(!t)return!0;var n=t.getValue(),r="";return e&&(r=dt(e)?e.checked?"true":"false":e.value),(e=r)!==n&&(t.setValue(e),!0)}function mt(e){if("undefined"===typeof(e=e||("undefined"!==typeof document?document:void 0)))return null;try{return e.activeElement||e.body}catch(t){return e.body}}var gt=/[\n"\\]/g;function yt(e){return e.replace(gt,function(e){return"\\"+e.charCodeAt(0).toString(16)+" "})}function vt(e,t,n,r,i,s,o,a){e.name="",null!=o&&"function"!==typeof o&&"symbol"!==typeof o&&"boolean"!==typeof o?e.type=o:e.removeAttribute("type"),null!=t?"number"===o?(0===t&&""===e.value||e.value!=t)&&(e.value=""+ht(t)):e.value!==""+ht(t)&&(e.value=""+ht(t)):"submit"!==o&&"reset"!==o||e.removeAttribute("value"),null!=t?_t(e,o,ht(t)):null!=n?_t(e,o,ht(n)):null!=r&&e.removeAttribute("value"),null==i&&null!=s&&(e.defaultChecked=!!s),null!=i&&(e.checked=i&&"function"!==typeof i&&"symbol"!==typeof i),null!=a&&"function"!==typeof a&&"symbol"!==typeof a&&"boolean"!==typeof a?e.name=""+ht(a):e.removeAttribute("name")}function bt(e,t,n,r,i,s,o,a){if(null!=s&&"function"!==typeof s&&"symbol"!==typeof s&&"boolean"!==typeof s&&(e.type=s),null!=t||null!=n){if(!("submit"!==s&&"reset"!==s||void 0!==t&&null!==t))return void ft(e);n=null!=n?""+ht(n):"",t=null!=t?""+ht(t):n,a||t===e.value||(e.value=t),e.defaultValue=t}r="function"!==typeof(r=null!=r?r:i)&&"symbol"!==typeof r&&!!r,e.checked=a?e.checked:!!r,e.defaultChecked=!!r,null!=o&&"function"!==typeof o&&"symbol"!==typeof o&&"boolean"!==typeof o&&(e.name=o),ft(e)}function _t(e,t,n){"number"===t&&mt(e.ownerDocument)===e||e.defaultValue===""+n||(e.defaultValue=""+n)}function xt(e,t,n,r){if(e=e.options,t){t={};for(var i=0;i<n.length;i++)t["$"+n[i]]=!0;for(n=0;n<e.length;n++)i=t.hasOwnProperty("$"+e[n].value),e[n].selected!==i&&(e[n].selected=i),i&&r&&(e[n].defaultSelected=!0)}else{for(n=""+ht(n),t=null,i=0;i<e.length;i++){if(e[i].value===n)return e[i].selected=!0,void(r&&(e[i].defaultSelected=!0));null!==t||e[i].disabled||(t=e[i])}null!==t&&(t.selected=!0)}}function wt(e,t,n){null==t||((t=""+ht(t))!==e.value&&(e.value=t),null!=n)?e.defaultValue=null!=n?""+ht(n):"":e.defaultValue!==t&&(e.defaultValue=t)}function At(e,t,n,r){if(null==t){if(null!=r){if(null!=n)throw Error(o(92));if(D(r)){if(1<r.length)throw Error(o(93));r=r[0]}n=r}null==n&&(n=""),t=n}n=ht(t),e.defaultValue=n,(r=e.textContent)===n&&""!==r&&null!==r&&(e.value=r),ft(e)}function Et(e,t){if(t){var n=e.firstChild;if(n&&n===e.lastChild&&3===n.nodeType)return void(n.nodeValue=t)}e.textContent=t}var St=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function Tt(e,t,n){var r=0===t.indexOf("--");null==n||"boolean"===typeof n||""===n?r?e.setProperty(t,""):"float"===t?e.cssFloat="":e[t]="":r?e.setProperty(t,n):"number"!==typeof n||0===n||St.has(t)?"float"===t?e.cssFloat=n:e[t]=(""+n).trim():e[t]=n+"px"}function Ct(e,t,n){if(null!=t&&"object"!==typeof t)throw Error(o(62));if(e=e.style,null!=n){for(var r in n)!n.hasOwnProperty(r)||null!=t&&t.hasOwnProperty(r)||(0===r.indexOf("--")?e.setProperty(r,""):"float"===r?e.cssFloat="":e[r]="");for(var i in t)r=t[i],t.hasOwnProperty(i)&&n[i]!==r&&Tt(e,i,r)}else for(var s in t)t.hasOwnProperty(s)&&Tt(e,s,t[s])}function kt(e){if(-1===e.indexOf("-"))return!1;switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var Rt=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),Pt=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function It(e){return Pt.test(""+e)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":e}function Mt(){}var Dt=null;function Ot(e){return(e=e.target||e.srcElement||window).correspondingUseElement&&(e=e.correspondingUseElement),3===e.nodeType?e.parentNode:e}var Lt=null,Nt=null;function Ft(e){var t=Ze(e);if(t&&(e=t.stateNode)){var n=e[He]||null;e:switch(e=t.stateNode,t.type){case"input":if(vt(e,n.value,n.defaultValue,n.defaultValue,n.checked,n.defaultChecked,n.type,n.name),t=n.name,"radio"===n.type&&null!=t){for(n=e;n.parentNode;)n=n.parentNode;for(n=n.querySelectorAll('input[name="'+yt(""+t)+'"][type="radio"]'),t=0;t<n.length;t++){var r=n[t];if(r!==e&&r.form===e.form){var i=r[He]||null;if(!i)throw Error(o(90));vt(r,i.value,i.defaultValue,i.defaultValue,i.checked,i.defaultChecked,i.type,i.name)}}for(t=0;t<n.length;t++)(r=n[t]).form===e.form&&pt(r)}break e;case"textarea":wt(e,n.value,n.defaultValue);break e;case"select":null!=(t=n.value)&&xt(e,!!n.multiple,t,!1)}}}var Bt=!1;function Ut(e,t,n){if(Bt)return e(t,n);Bt=!0;try{return e(t)}finally{if(Bt=!1,(null!==Lt||null!==Nt)&&($u(),Lt&&(t=Lt,e=Nt,Nt=Lt=null,Ft(t),e)))for(t=0;t<e.length;t++)Ft(e[t])}}function Gt(e,t){var n=e.stateNode;if(null===n)return null;var r=n[He]||null;if(null===r)return null;n=r[t];e:switch(t){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(r=!r.disabled)||(r=!("button"===(e=e.type)||"input"===e||"select"===e||"textarea"===e)),e=!r;break e;default:e=!1}if(e)return null;if(n&&"function"!==typeof n)throw Error(o(231,t,typeof n));return n}var zt=!("undefined"===typeof window||"undefined"===typeof window.document||"undefined"===typeof window.document.createElement),Ht=!1;if(zt)try{var jt={};Object.defineProperty(jt,"passive",{get:function(){Ht=!0}}),window.addEventListener("test",jt,jt),window.removeEventListener("test",jt,jt)}catch(Zd){Ht=!1}var Wt=null,Vt=null,Xt=null;function Yt(){if(Xt)return Xt;var e,t,n=Vt,r=n.length,i="value"in Wt?Wt.value:Wt.textContent,s=i.length;for(e=0;e<r&&n[e]===i[e];e++);var o=r-e;for(t=1;t<=o&&n[r-t]===i[s-t];t++);return Xt=i.slice(e,1<t?1-t:void 0)}function qt(e){var t=e.keyCode;return"charCode"in e?0===(e=e.charCode)&&13===t&&(e=13):e=t,10===e&&(e=13),32<=e||13===e?e:0}function Kt(){return!0}function Qt(){return!1}function Zt(e){function t(t,n,r,i,s){for(var o in this._reactName=t,this._targetInst=r,this.type=n,this.nativeEvent=i,this.target=s,this.currentTarget=null,e)e.hasOwnProperty(o)&&(t=e[o],this[o]=t?t(i):i[o]);return this.isDefaultPrevented=(null!=i.defaultPrevented?i.defaultPrevented:!1===i.returnValue)?Kt:Qt,this.isPropagationStopped=Qt,this}return f(t.prototype,{preventDefault:function(){this.defaultPrevented=!0;var e=this.nativeEvent;e&&(e.preventDefault?e.preventDefault():"unknown"!==typeof e.returnValue&&(e.returnValue=!1),this.isDefaultPrevented=Kt)},stopPropagation:function(){var e=this.nativeEvent;e&&(e.stopPropagation?e.stopPropagation():"unknown"!==typeof e.cancelBubble&&(e.cancelBubble=!0),this.isPropagationStopped=Kt)},persist:function(){},isPersistent:Kt}),t}var Jt,$t,en,tn={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},nn=Zt(tn),rn=f({},tn,{view:0,detail:0}),sn=Zt(rn),on=f({},rn,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:yn,button:0,buttons:0,relatedTarget:function(e){return void 0===e.relatedTarget?e.fromElement===e.srcElement?e.toElement:e.fromElement:e.relatedTarget},movementX:function(e){return"movementX"in e?e.movementX:(e!==en&&(en&&"mousemove"===e.type?(Jt=e.screenX-en.screenX,$t=e.screenY-en.screenY):$t=Jt=0,en=e),Jt)},movementY:function(e){return"movementY"in e?e.movementY:$t}}),an=Zt(on),ln=Zt(f({},on,{dataTransfer:0})),un=Zt(f({},rn,{relatedTarget:0})),cn=Zt(f({},tn,{animationName:0,elapsedTime:0,pseudoElement:0})),hn=Zt(f({},tn,{clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}})),dn=Zt(f({},tn,{data:0})),fn={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},pn={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},mn={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function gn(e){var t=this.nativeEvent;return t.getModifierState?t.getModifierState(e):!!(e=mn[e])&&!!t[e]}function yn(){return gn}var vn=Zt(f({},rn,{key:function(e){if(e.key){var t=fn[e.key]||e.key;if("Unidentified"!==t)return t}return"keypress"===e.type?13===(e=qt(e))?"Enter":String.fromCharCode(e):"keydown"===e.type||"keyup"===e.type?pn[e.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:yn,charCode:function(e){return"keypress"===e.type?qt(e):0},keyCode:function(e){return"keydown"===e.type||"keyup"===e.type?e.keyCode:0},which:function(e){return"keypress"===e.type?qt(e):"keydown"===e.type||"keyup"===e.type?e.keyCode:0}})),bn=Zt(f({},on,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0})),_n=Zt(f({},rn,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:yn})),xn=Zt(f({},tn,{propertyName:0,elapsedTime:0,pseudoElement:0})),wn=Zt(f({},on,{deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:0,deltaMode:0})),An=Zt(f({},tn,{newState:0,oldState:0})),En=[9,13,27,32],Sn=zt&&"CompositionEvent"in window,Tn=null;zt&&"documentMode"in document&&(Tn=document.documentMode);var Cn=zt&&"TextEvent"in window&&!Tn,kn=zt&&(!Sn||Tn&&8<Tn&&11>=Tn),Rn=String.fromCharCode(32),Pn=!1;function In(e,t){switch(e){case"keyup":return-1!==En.indexOf(t.keyCode);case"keydown":return 229!==t.keyCode;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function Mn(e){return"object"===typeof(e=e.detail)&&"data"in e?e.data:null}var Dn=!1;var On={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Ln(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return"input"===t?!!On[e.type]:"textarea"===t}function Nn(e,t,n,r){Lt?Nt?Nt.push(r):Nt=[r]:Lt=r,0<(t=rh(t,"onChange")).length&&(n=new nn("onChange","change",null,n,r),e.push({event:n,listeners:t}))}var Fn=null,Bn=null;function Un(e){Kc(e,0)}function Gn(e){if(pt(Je(e)))return e}function zn(e,t){if("change"===e)return t}var Hn=!1;if(zt){var jn;if(zt){var Wn="oninput"in document;if(!Wn){var Vn=document.createElement("div");Vn.setAttribute("oninput","return;"),Wn="function"===typeof Vn.oninput}jn=Wn}else jn=!1;Hn=jn&&(!document.documentMode||9<document.documentMode)}function Xn(){Fn&&(Fn.detachEvent("onpropertychange",Yn),Bn=Fn=null)}function Yn(e){if("value"===e.propertyName&&Gn(Bn)){var t=[];Nn(t,Bn,e,Ot(e)),Ut(Un,t)}}function qn(e,t,n){"focusin"===e?(Xn(),Bn=n,(Fn=t).attachEvent("onpropertychange",Yn)):"focusout"===e&&Xn()}function Kn(e){if("selectionchange"===e||"keyup"===e||"keydown"===e)return Gn(Bn)}function Qn(e,t){if("click"===e)return Gn(t)}function Zn(e,t){if("input"===e||"change"===e)return Gn(t)}var Jn="function"===typeof Object.is?Object.is:function(e,t){return e===t&&(0!==e||1/e===1/t)||e!==e&&t!==t};function $n(e,t){if(Jn(e,t))return!0;if("object"!==typeof e||null===e||"object"!==typeof t||null===t)return!1;var n=Object.keys(e),r=Object.keys(t);if(n.length!==r.length)return!1;for(r=0;r<n.length;r++){var i=n[r];if(!re.call(t,i)||!Jn(e[i],t[i]))return!1}return!0}function er(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function tr(e,t){var n,r=er(e);for(e=0;r;){if(3===r.nodeType){if(n=e+r.textContent.length,e<=t&&n>=t)return{node:r,offset:t-e};e=n}e:{for(;r;){if(r.nextSibling){r=r.nextSibling;break e}r=r.parentNode}r=void 0}r=er(r)}}function nr(e,t){return!(!e||!t)&&(e===t||(!e||3!==e.nodeType)&&(t&&3===t.nodeType?nr(e,t.parentNode):"contains"in e?e.contains(t):!!e.compareDocumentPosition&&!!(16&e.compareDocumentPosition(t))))}function rr(e){for(var t=mt((e=null!=e&&null!=e.ownerDocument&&null!=e.ownerDocument.defaultView?e.ownerDocument.defaultView:window).document);t instanceof e.HTMLIFrameElement;){try{var n="string"===typeof t.contentWindow.location.href}catch(r){n=!1}if(!n)break;t=mt((e=t.contentWindow).document)}return t}function ir(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t&&("input"===t&&("text"===e.type||"search"===e.type||"tel"===e.type||"url"===e.type||"password"===e.type)||"textarea"===t||"true"===e.contentEditable)}var sr=zt&&"documentMode"in document&&11>=document.documentMode,or=null,ar=null,lr=null,ur=!1;function cr(e,t,n){var r=n.window===n?n.document:9===n.nodeType?n:n.ownerDocument;ur||null==or||or!==mt(r)||("selectionStart"in(r=or)&&ir(r)?r={start:r.selectionStart,end:r.selectionEnd}:r={anchorNode:(r=(r.ownerDocument&&r.ownerDocument.defaultView||window).getSelection()).anchorNode,anchorOffset:r.anchorOffset,focusNode:r.focusNode,focusOffset:r.focusOffset},lr&&$n(lr,r)||(lr=r,0<(r=rh(ar,"onSelect")).length&&(t=new nn("onSelect","select",null,t,n),e.push({event:t,listeners:r}),t.target=or)))}function hr(e,t){var n={};return n[e.toLowerCase()]=t.toLowerCase(),n["Webkit"+e]="webkit"+t,n["Moz"+e]="moz"+t,n}var dr={animationend:hr("Animation","AnimationEnd"),animationiteration:hr("Animation","AnimationIteration"),animationstart:hr("Animation","AnimationStart"),transitionrun:hr("Transition","TransitionRun"),transitionstart:hr("Transition","TransitionStart"),transitioncancel:hr("Transition","TransitionCancel"),transitionend:hr("Transition","TransitionEnd")},fr={},pr={};function mr(e){if(fr[e])return fr[e];if(!dr[e])return e;var t,n=dr[e];for(t in n)if(n.hasOwnProperty(t)&&t in pr)return fr[e]=n[t];return e}zt&&(pr=document.createElement("div").style,"AnimationEvent"in window||(delete dr.animationend.animation,delete dr.animationiteration.animation,delete dr.animationstart.animation),"TransitionEvent"in window||delete dr.transitionend.transition);var gr=mr("animationend"),yr=mr("animationiteration"),vr=mr("animationstart"),br=mr("transitionrun"),_r=mr("transitionstart"),xr=mr("transitioncancel"),wr=mr("transitionend"),Ar=new Map,Er="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function Sr(e,t){Ar.set(e,t),rt(t,[e])}Er.push("scrollEnd");var Tr="function"===typeof reportError?reportError:function(e){if("object"===typeof window&&"function"===typeof window.ErrorEvent){var t=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:"object"===typeof e&&null!==e&&"string"===typeof e.message?String(e.message):String(e),error:e});if(!window.dispatchEvent(t))return}else if("object"===typeof process&&"function"===typeof process.emit)return void process.emit("uncaughtException",e);console.error(e)},Cr=[],kr=0,Rr=0;function Pr(){for(var e=kr,t=Rr=kr=0;t<e;){var n=Cr[t];Cr[t++]=null;var r=Cr[t];Cr[t++]=null;var i=Cr[t];Cr[t++]=null;var s=Cr[t];if(Cr[t++]=null,null!==r&&null!==i){var o=r.pending;null===o?i.next=i:(i.next=o.next,o.next=i),r.pending=i}0!==s&&Or(n,i,s)}}function Ir(e,t,n,r){Cr[kr++]=e,Cr[kr++]=t,Cr[kr++]=n,Cr[kr++]=r,Rr|=r,e.lanes|=r,null!==(e=e.alternate)&&(e.lanes|=r)}function Mr(e,t,n,r){return Ir(e,t,n,r),Lr(e)}function Dr(e,t){return Ir(e,null,null,t),Lr(e)}function Or(e,t,n){e.lanes|=n;var r=e.alternate;null!==r&&(r.lanes|=n);for(var i=!1,s=e.return;null!==s;)s.childLanes|=n,null!==(r=s.alternate)&&(r.childLanes|=n),22===s.tag&&(null===(e=s.stateNode)||1&e._visibility||(i=!0)),e=s,s=s.return;return 3===e.tag?(s=e.stateNode,i&&null!==t&&(i=31-_e(n),null===(r=(e=s.hiddenUpdates)[i])?e[i]=[t]:r.push(t),t.lane=536870912|n),s):null}function Lr(e){if(50<Wu)throw Wu=0,Vu=null,Error(o(185));for(var t=e.return;null!==t;)t=(e=t).return;return 3===e.tag?e.stateNode:null}var Nr={};function Fr(e,t,n,r){this.tag=e,this.key=n,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=t,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=r,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Br(e,t,n,r){return new Fr(e,t,n,r)}function Ur(e){return!(!(e=e.prototype)||!e.isReactComponent)}function Gr(e,t){var n=e.alternate;return null===n?((n=Br(e.tag,t,e.key,e.mode)).elementType=e.elementType,n.type=e.type,n.stateNode=e.stateNode,n.alternate=e,e.alternate=n):(n.pendingProps=t,n.type=e.type,n.flags=0,n.subtreeFlags=0,n.deletions=null),n.flags=65011712&e.flags,n.childLanes=e.childLanes,n.lanes=e.lanes,n.child=e.child,n.memoizedProps=e.memoizedProps,n.memoizedState=e.memoizedState,n.updateQueue=e.updateQueue,t=e.dependencies,n.dependencies=null===t?null:{lanes:t.lanes,firstContext:t.firstContext},n.sibling=e.sibling,n.index=e.index,n.ref=e.ref,n.refCleanup=e.refCleanup,n}function zr(e,t){e.flags&=65011714;var n=e.alternate;return null===n?(e.childLanes=0,e.lanes=t,e.child=null,e.subtreeFlags=0,e.memoizedProps=null,e.memoizedState=null,e.updateQueue=null,e.dependencies=null,e.stateNode=null):(e.childLanes=n.childLanes,e.lanes=n.lanes,e.child=n.child,e.subtreeFlags=0,e.deletions=null,e.memoizedProps=n.memoizedProps,e.memoizedState=n.memoizedState,e.updateQueue=n.updateQueue,e.type=n.type,t=n.dependencies,e.dependencies=null===t?null:{lanes:t.lanes,firstContext:t.firstContext}),e}function Hr(e,t,n,r,i,s){var a=0;if(r=e,"function"===typeof e)Ur(e)&&(a=1);else if("string"===typeof e)a=function(e,t,n){if(1===n||null!=t.itemProp)return!1;switch(e){case"meta":case"title":return!0;case"style":if("string"!==typeof t.precedence||"string"!==typeof t.href||""===t.href)break;return!0;case"link":if("string"!==typeof t.rel||"string"!==typeof t.href||""===t.href||t.onLoad||t.onError)break;return"stylesheet"!==t.rel||(e=t.disabled,"string"===typeof t.precedence&&null==e);case"script":if(t.async&&"function"!==typeof t.async&&"symbol"!==typeof t.async&&!t.onLoad&&!t.onError&&t.src&&"string"===typeof t.src)return!0}return!1}(e,n,W.current)?26:"html"===e||"head"===e||"body"===e?27:5;else e:switch(e){case C:return(e=Br(31,n,t,i)).elementType=C,e.lanes=s,e;case y:return jr(n.children,i,s,t);case v:a=8,i|=24;break;case b:return(e=Br(12,n,t,2|i)).elementType=b,e.lanes=s,e;case A:return(e=Br(13,n,t,i)).elementType=A,e.lanes=s,e;case E:return(e=Br(19,n,t,i)).elementType=E,e.lanes=s,e;default:if("object"===typeof e&&null!==e)switch(e.$$typeof){case x:a=10;break e;case _:a=9;break e;case w:a=11;break e;case S:a=14;break e;case T:a=16,r=null;break e}a=29,n=Error(o(130,null===e?"null":typeof e,"")),r=null}return(t=Br(a,n,t,i)).elementType=e,t.type=r,t.lanes=s,t}function jr(e,t,n,r){return(e=Br(7,e,r,t)).lanes=n,e}function Wr(e,t,n){return(e=Br(6,e,null,t)).lanes=n,e}function Vr(e){var t=Br(18,null,null,0);return t.stateNode=e,t}function Xr(e,t,n){return(t=Br(4,null!==e.children?e.children:[],e.key,t)).lanes=n,t.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},t}var Yr=new WeakMap;function qr(e,t){if("object"===typeof e&&null!==e){var n=Yr.get(e);return void 0!==n?n:(t={value:e,source:t,stack:ne(t)},Yr.set(e,t),t)}return{value:e,source:t,stack:ne(t)}}var Kr=[],Qr=0,Zr=null,Jr=0,$r=[],ei=0,ti=null,ni=1,ri="";function ii(e,t){Kr[Qr++]=Jr,Kr[Qr++]=Zr,Zr=e,Jr=t}function si(e,t,n){$r[ei++]=ni,$r[ei++]=ri,$r[ei++]=ti,ti=e;var r=ni;e=ri;var i=32-_e(r)-1;r&=~(1<<i),n+=1;var s=32-_e(t)+i;if(30<s){var o=i-i%5;s=(r&(1<<o)-1).toString(32),r>>=o,i-=o,ni=1<<32-_e(t)+i|n<<i|r,ri=s+e}else ni=1<<s|n<<i|r,ri=e}function oi(e){null!==e.return&&(ii(e,1),si(e,1,0))}function ai(e){for(;e===Zr;)Zr=Kr[--Qr],Kr[Qr]=null,Jr=Kr[--Qr],Kr[Qr]=null;for(;e===ti;)ti=$r[--ei],$r[ei]=null,ri=$r[--ei],$r[ei]=null,ni=$r[--ei],$r[ei]=null}function li(e,t){$r[ei++]=ni,$r[ei++]=ri,$r[ei++]=ti,ni=t.id,ri=t.overflow,ti=e}var ui=null,ci=null,hi=!1,di=null,fi=!1,pi=Error(o(519));function mi(e){throw xi(qr(Error(o(418,1<arguments.length&&void 0!==arguments[1]&&arguments[1]?"text":"HTML","")),e)),pi}function gi(e){var t=e.stateNode,n=e.type,r=e.memoizedProps;switch(t[ze]=e,t[He]=r,n){case"dialog":Qc("cancel",t),Qc("close",t);break;case"iframe":case"object":case"embed":Qc("load",t);break;case"video":case"audio":for(n=0;n<Yc.length;n++)Qc(Yc[n],t);break;case"source":Qc("error",t);break;case"img":case"image":case"link":Qc("error",t),Qc("load",t);break;case"details":Qc("toggle",t);break;case"input":Qc("invalid",t),bt(t,r.value,r.defaultValue,r.checked,r.defaultChecked,r.type,r.name,!0);break;case"select":Qc("invalid",t);break;case"textarea":Qc("invalid",t),At(t,r.value,r.defaultValue,r.children)}"string"!==typeof(n=r.children)&&"number"!==typeof n&&"bigint"!==typeof n||t.textContent===""+n||!0===r.suppressHydrationWarning||uh(t.textContent,n)?(null!=r.popover&&(Qc("beforetoggle",t),Qc("toggle",t)),null!=r.onScroll&&Qc("scroll",t),null!=r.onScrollEnd&&Qc("scrollend",t),null!=r.onClick&&(t.onclick=Mt),t=!0):t=!1,t||mi(e,!0)}function yi(e){for(ui=e.return;ui;)switch(ui.tag){case 5:case 31:case 13:return void(fi=!1);case 27:case 3:return void(fi=!0);default:ui=ui.return}}function vi(e){if(e!==ui)return!1;if(!hi)return yi(e),hi=!0,!1;var t,n=e.tag;if((t=3!==n&&27!==n)&&((t=5===n)&&(t=!("form"!==(t=e.type)&&"button"!==t)||bh(e.type,e.memoizedProps)),t=!t),t&&ci&&mi(e),yi(e),13===n){if(!(e=null!==(e=e.memoizedState)?e.dehydrated:null))throw Error(o(317));ci=Lh(e)}else if(31===n){if(!(e=null!==(e=e.memoizedState)?e.dehydrated:null))throw Error(o(317));ci=Lh(e)}else 27===n?(n=ci,Th(e.type)?(e=Oh,Oh=null,ci=e):ci=n):ci=ui?Dh(e.stateNode.nextSibling):null;return!0}function bi(){ci=ui=null,hi=!1}function _i(){var e=di;return null!==e&&(null===Pu?Pu=e:Pu.push.apply(Pu,e),di=null),e}function xi(e){null===di?di=[e]:di.push(e)}var wi=U(null),Ai=null,Ei=null;function Si(e,t,n){z(wi,t._currentValue),t._currentValue=n}function Ti(e){e._currentValue=wi.current,G(wi)}function Ci(e,t,n){for(;null!==e;){var r=e.alternate;if((e.childLanes&t)!==t?(e.childLanes|=t,null!==r&&(r.childLanes|=t)):null!==r&&(r.childLanes&t)!==t&&(r.childLanes|=t),e===n)break;e=e.return}}function ki(e,t,n,r){var i=e.child;for(null!==i&&(i.return=e);null!==i;){var s=i.dependencies;if(null!==s){var a=i.child;s=s.firstContext;e:for(;null!==s;){var l=s;s=i;for(var u=0;u<t.length;u++)if(l.context===t[u]){s.lanes|=n,null!==(l=s.alternate)&&(l.lanes|=n),Ci(s.return,n,e),r||(a=null);break e}s=l.next}}else if(18===i.tag){if(null===(a=i.return))throw Error(o(341));a.lanes|=n,null!==(s=a.alternate)&&(s.lanes|=n),Ci(a,n,e),a=null}else a=i.child;if(null!==a)a.return=i;else for(a=i;null!==a;){if(a===e){a=null;break}if(null!==(i=a.sibling)){i.return=a.return,a=i;break}a=a.return}i=a}}function Ri(e,t,n,r){e=null;for(var i=t,s=!1;null!==i;){if(!s)if(0!==(524288&i.flags))s=!0;else if(0!==(262144&i.flags))break;if(10===i.tag){var a=i.alternate;if(null===a)throw Error(o(387));if(null!==(a=a.memoizedProps)){var l=i.type;Jn(i.pendingProps.value,a.value)||(null!==e?e.push(l):e=[l])}}else if(i===Y.current){if(null===(a=i.alternate))throw Error(o(387));a.memoizedState.memoizedState!==i.memoizedState.memoizedState&&(null!==e?e.push(cd):e=[cd])}i=i.return}null!==e&&ki(t,e,n,r),t.flags|=262144}function Pi(e){for(e=e.firstContext;null!==e;){if(!Jn(e.context._currentValue,e.memoizedValue))return!0;e=e.next}return!1}function Ii(e){Ai=e,Ei=null,null!==(e=e.dependencies)&&(e.firstContext=null)}function Mi(e){return Oi(Ai,e)}function Di(e,t){return null===Ai&&Ii(e),Oi(e,t)}function Oi(e,t){var n=t._currentValue;if(t={context:t,memoizedValue:n,next:null},null===Ei){if(null===e)throw Error(o(308));Ei=t,e.dependencies={lanes:0,firstContext:t},e.flags|=524288}else Ei=Ei.next=t;return n}var Li="undefined"!==typeof AbortController?AbortController:function(){var e=[],t=this.signal={aborted:!1,addEventListener:function(t,n){e.push(n)}};this.abort=function(){t.aborted=!0,e.forEach(function(e){return e()})}},Ni=r.unstable_scheduleCallback,Fi=r.unstable_NormalPriority,Bi={$$typeof:x,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function Ui(){return{controller:new Li,data:new Map,refCount:0}}function Gi(e){e.refCount--,0===e.refCount&&Ni(Fi,function(){e.controller.abort()})}var zi=null,Hi=0,ji=0,Wi=null;function Vi(){if(0===--Hi&&null!==zi){null!==Wi&&(Wi.status="fulfilled");var e=zi;zi=null,ji=0,Wi=null;for(var t=0;t<e.length;t++)(0,e[t])()}}var Xi=O.S;O.S=function(e,t){Du=le(),"object"===typeof t&&null!==t&&"function"===typeof t.then&&function(e,t){if(null===zi){var n=zi=[];Hi=0,ji=Hc(),Wi={status:"pending",value:void 0,then:function(e){n.push(e)}}}Hi++,t.then(Vi,Vi)}(0,t),null!==Xi&&Xi(e,t)};var Yi=U(null);function qi(){var e=Yi.current;return null!==e?e:pu.pooledCache}function Ki(e,t){z(Yi,null===t?Yi.current:t.pool)}function Qi(){var e=qi();return null===e?null:{parent:Bi._currentValue,pool:e}}var Zi=Error(o(460)),Ji=Error(o(474)),$i=Error(o(542)),es={then:function(){}};function ts(e){return"fulfilled"===(e=e.status)||"rejected"===e}function ns(e,t,n){switch(void 0===(n=e[n])?e.push(t):n!==t&&(t.then(Mt,Mt),t=n),t.status){case"fulfilled":return t.value;case"rejected":throw os(e=t.reason),e;default:if("string"===typeof t.status)t.then(Mt,Mt);else{if(null!==(e=pu)&&100<e.shellSuspendCounter)throw Error(o(482));(e=t).status="pending",e.then(function(e){if("pending"===t.status){var n=t;n.status="fulfilled",n.value=e}},function(e){if("pending"===t.status){var n=t;n.status="rejected",n.reason=e}})}switch(t.status){case"fulfilled":return t.value;case"rejected":throw os(e=t.reason),e}throw is=t,Zi}}function rs(e){try{return(0,e._init)(e._payload)}catch(t){if(null!==t&&"object"===typeof t&&"function"===typeof t.then)throw is=t,Zi;throw t}}var is=null;function ss(){if(null===is)throw Error(o(459));var e=is;return is=null,e}function os(e){if(e===Zi||e===$i)throw Error(o(483))}var as=null,ls=0;function us(e){var t=ls;return ls+=1,null===as&&(as=[]),ns(as,e,t)}function cs(e,t){t=t.props.ref,e.ref=void 0!==t?t:null}function hs(e,t){if(t.$$typeof===p)throw Error(o(525));throw e=Object.prototype.toString.call(t),Error(o(31,"[object Object]"===e?"object with keys {"+Object.keys(t).join(", ")+"}":e))}function ds(e){function t(t,n){if(e){var r=t.deletions;null===r?(t.deletions=[n],t.flags|=16):r.push(n)}}function n(n,r){if(!e)return null;for(;null!==r;)t(n,r),r=r.sibling;return null}function r(e){for(var t=new Map;null!==e;)null!==e.key?t.set(e.key,e):t.set(e.index,e),e=e.sibling;return t}function i(e,t){return(e=Gr(e,t)).index=0,e.sibling=null,e}function s(t,n,r){return t.index=r,e?null!==(r=t.alternate)?(r=r.index)<n?(t.flags|=67108866,n):r:(t.flags|=67108866,n):(t.flags|=1048576,n)}function a(t){return e&&null===t.alternate&&(t.flags|=67108866),t}function l(e,t,n,r){return null===t||6!==t.tag?((t=Wr(n,e.mode,r)).return=e,t):((t=i(t,n)).return=e,t)}function u(e,t,n,r){var s=n.type;return s===y?h(e,t,n.props.children,r,n.key):null!==t&&(t.elementType===s||"object"===typeof s&&null!==s&&s.$$typeof===T&&rs(s)===t.type)?(cs(t=i(t,n.props),n),t.return=e,t):(cs(t=Hr(n.type,n.key,n.props,null,e.mode,r),n),t.return=e,t)}function c(e,t,n,r){return null===t||4!==t.tag||t.stateNode.containerInfo!==n.containerInfo||t.stateNode.implementation!==n.implementation?((t=Xr(n,e.mode,r)).return=e,t):((t=i(t,n.children||[])).return=e,t)}function h(e,t,n,r,s){return null===t||7!==t.tag?((t=jr(n,e.mode,r,s)).return=e,t):((t=i(t,n)).return=e,t)}function d(e,t,n){if("string"===typeof t&&""!==t||"number"===typeof t||"bigint"===typeof t)return(t=Wr(""+t,e.mode,n)).return=e,t;if("object"===typeof t&&null!==t){switch(t.$$typeof){case m:return cs(n=Hr(t.type,t.key,t.props,null,e.mode,n),t),n.return=e,n;case g:return(t=Xr(t,e.mode,n)).return=e,t;case T:return d(e,t=rs(t),n)}if(D(t)||P(t))return(t=jr(t,e.mode,n,null)).return=e,t;if("function"===typeof t.then)return d(e,us(t),n);if(t.$$typeof===x)return d(e,Di(e,t),n);hs(e,t)}return null}function f(e,t,n,r){var i=null!==t?t.key:null;if("string"===typeof n&&""!==n||"number"===typeof n||"bigint"===typeof n)return null!==i?null:l(e,t,""+n,r);if("object"===typeof n&&null!==n){switch(n.$$typeof){case m:return n.key===i?u(e,t,n,r):null;case g:return n.key===i?c(e,t,n,r):null;case T:return f(e,t,n=rs(n),r)}if(D(n)||P(n))return null!==i?null:h(e,t,n,r,null);if("function"===typeof n.then)return f(e,t,us(n),r);if(n.$$typeof===x)return f(e,t,Di(e,n),r);hs(e,n)}return null}function p(e,t,n,r,i){if("string"===typeof r&&""!==r||"number"===typeof r||"bigint"===typeof r)return l(t,e=e.get(n)||null,""+r,i);if("object"===typeof r&&null!==r){switch(r.$$typeof){case m:return u(t,e=e.get(null===r.key?n:r.key)||null,r,i);case g:return c(t,e=e.get(null===r.key?n:r.key)||null,r,i);case T:return p(e,t,n,r=rs(r),i)}if(D(r)||P(r))return h(t,e=e.get(n)||null,r,i,null);if("function"===typeof r.then)return p(e,t,n,us(r),i);if(r.$$typeof===x)return p(e,t,n,Di(t,r),i);hs(t,r)}return null}function v(l,u,c,h){if("object"===typeof c&&null!==c&&c.type===y&&null===c.key&&(c=c.props.children),"object"===typeof c&&null!==c){switch(c.$$typeof){case m:e:{for(var b=c.key;null!==u;){if(u.key===b){if((b=c.type)===y){if(7===u.tag){n(l,u.sibling),(h=i(u,c.props.children)).return=l,l=h;break e}}else if(u.elementType===b||"object"===typeof b&&null!==b&&b.$$typeof===T&&rs(b)===u.type){n(l,u.sibling),cs(h=i(u,c.props),c),h.return=l,l=h;break e}n(l,u);break}t(l,u),u=u.sibling}c.type===y?((h=jr(c.props.children,l.mode,h,c.key)).return=l,l=h):(cs(h=Hr(c.type,c.key,c.props,null,l.mode,h),c),h.return=l,l=h)}return a(l);case g:e:{for(b=c.key;null!==u;){if(u.key===b){if(4===u.tag&&u.stateNode.containerInfo===c.containerInfo&&u.stateNode.implementation===c.implementation){n(l,u.sibling),(h=i(u,c.children||[])).return=l,l=h;break e}n(l,u);break}t(l,u),u=u.sibling}(h=Xr(c,l.mode,h)).return=l,l=h}return a(l);case T:return v(l,u,c=rs(c),h)}if(D(c))return function(i,o,a,l){for(var u=null,c=null,h=o,m=o=0,g=null;null!==h&&m<a.length;m++){h.index>m?(g=h,h=null):g=h.sibling;var y=f(i,h,a[m],l);if(null===y){null===h&&(h=g);break}e&&h&&null===y.alternate&&t(i,h),o=s(y,o,m),null===c?u=y:c.sibling=y,c=y,h=g}if(m===a.length)return n(i,h),hi&&ii(i,m),u;if(null===h){for(;m<a.length;m++)null!==(h=d(i,a[m],l))&&(o=s(h,o,m),null===c?u=h:c.sibling=h,c=h);return hi&&ii(i,m),u}for(h=r(h);m<a.length;m++)null!==(g=p(h,i,m,a[m],l))&&(e&&null!==g.alternate&&h.delete(null===g.key?m:g.key),o=s(g,o,m),null===c?u=g:c.sibling=g,c=g);return e&&h.forEach(function(e){return t(i,e)}),hi&&ii(i,m),u}(l,u,c,h);if(P(c)){if("function"!==typeof(b=P(c)))throw Error(o(150));return function(i,a,l,u){if(null==l)throw Error(o(151));for(var c=null,h=null,m=a,g=a=0,y=null,v=l.next();null!==m&&!v.done;g++,v=l.next()){m.index>g?(y=m,m=null):y=m.sibling;var b=f(i,m,v.value,u);if(null===b){null===m&&(m=y);break}e&&m&&null===b.alternate&&t(i,m),a=s(b,a,g),null===h?c=b:h.sibling=b,h=b,m=y}if(v.done)return n(i,m),hi&&ii(i,g),c;if(null===m){for(;!v.done;g++,v=l.next())null!==(v=d(i,v.value,u))&&(a=s(v,a,g),null===h?c=v:h.sibling=v,h=v);return hi&&ii(i,g),c}for(m=r(m);!v.done;g++,v=l.next())null!==(v=p(m,i,g,v.value,u))&&(e&&null!==v.alternate&&m.delete(null===v.key?g:v.key),a=s(v,a,g),null===h?c=v:h.sibling=v,h=v);return e&&m.forEach(function(e){return t(i,e)}),hi&&ii(i,g),c}(l,u,c=b.call(c),h)}if("function"===typeof c.then)return v(l,u,us(c),h);if(c.$$typeof===x)return v(l,u,Di(l,c),h);hs(l,c)}return"string"===typeof c&&""!==c||"number"===typeof c||"bigint"===typeof c?(c=""+c,null!==u&&6===u.tag?(n(l,u.sibling),(h=i(u,c)).return=l,l=h):(n(l,u),(h=Wr(c,l.mode,h)).return=l,l=h),a(l)):n(l,u)}return function(e,t,n,r){try{ls=0;var i=v(e,t,n,r);return as=null,i}catch(o){if(o===Zi||o===$i)throw o;var s=Br(29,o,null,e.mode);return s.lanes=r,s.return=e,s}}}var fs=ds(!0),ps=ds(!1),ms=!1;function gs(e){e.updateQueue={baseState:e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function ys(e,t){e=e.updateQueue,t.updateQueue===e&&(t.updateQueue={baseState:e.baseState,firstBaseUpdate:e.firstBaseUpdate,lastBaseUpdate:e.lastBaseUpdate,shared:e.shared,callbacks:null})}function vs(e){return{lane:e,tag:0,payload:null,callback:null,next:null}}function bs(e,t,n){var r=e.updateQueue;if(null===r)return null;if(r=r.shared,0!==(2&fu)){var i=r.pending;return null===i?t.next=t:(t.next=i.next,i.next=t),r.pending=t,t=Lr(e),Or(e,null,n),t}return Ir(e,r,t,n),Lr(e)}function _s(e,t,n){if(null!==(t=t.updateQueue)&&(t=t.shared,0!==(4194048&n))){var r=t.lanes;n|=r&=e.pendingLanes,t.lanes=n,Oe(e,n)}}function xs(e,t){var n=e.updateQueue,r=e.alternate;if(null!==r&&n===(r=r.updateQueue)){var i=null,s=null;if(null!==(n=n.firstBaseUpdate)){do{var o={lane:n.lane,tag:n.tag,payload:n.payload,callback:null,next:null};null===s?i=s=o:s=s.next=o,n=n.next}while(null!==n);null===s?i=s=t:s=s.next=t}else i=s=t;return n={baseState:r.baseState,firstBaseUpdate:i,lastBaseUpdate:s,shared:r.shared,callbacks:r.callbacks},void(e.updateQueue=n)}null===(e=n.lastBaseUpdate)?n.firstBaseUpdate=t:e.next=t,n.lastBaseUpdate=t}var ws=!1;function As(){if(ws){if(null!==Wi)throw Wi}}function Es(e,t,n,r){ws=!1;var i=e.updateQueue;ms=!1;var s=i.firstBaseUpdate,o=i.lastBaseUpdate,a=i.shared.pending;if(null!==a){i.shared.pending=null;var l=a,u=l.next;l.next=null,null===o?s=u:o.next=u,o=l;var c=e.alternate;null!==c&&((a=(c=c.updateQueue).lastBaseUpdate)!==o&&(null===a?c.firstBaseUpdate=u:a.next=u,c.lastBaseUpdate=l))}if(null!==s){var h=i.baseState;for(o=0,c=u=l=null,a=s;;){var d=-536870913&a.lane,p=d!==a.lane;if(p?(gu&d)===d:(r&d)===d){0!==d&&d===ji&&(ws=!0),null!==c&&(c=c.next={lane:0,tag:a.tag,payload:a.payload,callback:null,next:null});e:{var m=e,g=a;d=t;var y=n;switch(g.tag){case 1:if("function"===typeof(m=g.payload)){h=m.call(y,h,d);break e}h=m;break e;case 3:m.flags=-65537&m.flags|128;case 0:if(null===(d="function"===typeof(m=g.payload)?m.call(y,h,d):m)||void 0===d)break e;h=f({},h,d);break e;case 2:ms=!0}}null!==(d=a.callback)&&(e.flags|=64,p&&(e.flags|=8192),null===(p=i.callbacks)?i.callbacks=[d]:p.push(d))}else p={lane:d,tag:a.tag,payload:a.payload,callback:a.callback,next:null},null===c?(u=c=p,l=h):c=c.next=p,o|=d;if(null===(a=a.next)){if(null===(a=i.shared.pending))break;a=(p=a).next,p.next=null,i.lastBaseUpdate=p,i.shared.pending=null}}null===c&&(l=h),i.baseState=l,i.firstBaseUpdate=u,i.lastBaseUpdate=c,null===s&&(i.shared.lanes=0),Eu|=o,e.lanes=o,e.memoizedState=h}}function Ss(e,t){if("function"!==typeof e)throw Error(o(191,e));e.call(t)}function Ts(e,t){var n=e.callbacks;if(null!==n)for(e.callbacks=null,e=0;e<n.length;e++)Ss(n[e],t)}var Cs=U(null),ks=U(0);function Rs(e,t){z(ks,e=wu),z(Cs,t),wu=e|t.baseLanes}function Ps(){z(ks,wu),z(Cs,Cs.current)}function Is(){wu=ks.current,G(Cs),G(ks)}var Ms=U(null),Ds=null;function Os(e){var t=e.alternate;z(Us,1&Us.current),z(Ms,e),null===Ds&&(null===t||null!==Cs.current||null!==t.memoizedState)&&(Ds=e)}function Ls(e){z(Us,Us.current),z(Ms,e),null===Ds&&(Ds=e)}function Ns(e){22===e.tag?(z(Us,Us.current),z(Ms,e),null===Ds&&(Ds=e)):Fs()}function Fs(){z(Us,Us.current),z(Ms,Ms.current)}function Bs(e){G(Ms),Ds===e&&(Ds=null),G(Us)}var Us=U(0);function Gs(e){for(var t=e;null!==t;){if(13===t.tag){var n=t.memoizedState;if(null!==n&&(null===(n=n.dehydrated)||Ih(n)||Mh(n)))return t}else if(19!==t.tag||"forwards"!==t.memoizedProps.revealOrder&&"backwards"!==t.memoizedProps.revealOrder&&"unstable_legacy-backwards"!==t.memoizedProps.revealOrder&&"together"!==t.memoizedProps.revealOrder){if(null!==t.child){t.child.return=t,t=t.child;continue}}else if(0!==(128&t.flags))return t;if(t===e)break;for(;null===t.sibling;){if(null===t.return||t.return===e)return null;t=t.return}t.sibling.return=t.return,t=t.sibling}return null}var zs=0,Hs=null,js=null,Ws=null,Vs=!1,Xs=!1,Ys=!1,qs=0,Ks=0,Qs=null,Zs=0;function Js(){throw Error(o(321))}function $s(e,t){if(null===t)return!1;for(var n=0;n<t.length&&n<e.length;n++)if(!Jn(e[n],t[n]))return!1;return!0}function eo(e,t,n,r,i,s){return zs=s,Hs=t,t.memoizedState=null,t.updateQueue=null,t.lanes=0,O.H=null===e||null===e.memoizedState?ga:ya,Ys=!1,s=n(r,i),Ys=!1,Xs&&(s=no(t,n,r,i)),to(e),s}function to(e){O.H=ma;var t=null!==js&&null!==js.next;if(zs=0,Ws=js=Hs=null,Vs=!1,Ks=0,Qs=null,t)throw Error(o(300));null===e||Da||null!==(e=e.dependencies)&&Pi(e)&&(Da=!0)}function no(e,t,n,r){Hs=e;var i=0;do{if(Xs&&(Qs=null),Ks=0,Xs=!1,25<=i)throw Error(o(301));if(i+=1,Ws=js=null,null!=e.updateQueue){var s=e.updateQueue;s.lastEffect=null,s.events=null,s.stores=null,null!=s.memoCache&&(s.memoCache.index=0)}O.H=va,s=t(n,r)}while(Xs);return s}function ro(){var e=O.H,t=e.useState()[0];return t="function"===typeof t.then?uo(t):t,e=e.useState()[0],(null!==js?js.memoizedState:null)!==e&&(Hs.flags|=1024),t}function io(){var e=0!==qs;return qs=0,e}function so(e,t,n){t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~n}function oo(e){if(Vs){for(e=e.memoizedState;null!==e;){var t=e.queue;null!==t&&(t.pending=null),e=e.next}Vs=!1}zs=0,Ws=js=Hs=null,Xs=!1,Ks=qs=0,Qs=null}function ao(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return null===Ws?Hs.memoizedState=Ws=e:Ws=Ws.next=e,Ws}function lo(){if(null===js){var e=Hs.alternate;e=null!==e?e.memoizedState:null}else e=js.next;var t=null===Ws?Hs.memoizedState:Ws.next;if(null!==t)Ws=t,js=e;else{if(null===e){if(null===Hs.alternate)throw Error(o(467));throw Error(o(310))}e={memoizedState:(js=e).memoizedState,baseState:js.baseState,baseQueue:js.baseQueue,queue:js.queue,next:null},null===Ws?Hs.memoizedState=Ws=e:Ws=Ws.next=e}return Ws}function uo(e){var t=Ks;return Ks+=1,null===Qs&&(Qs=[]),e=ns(Qs,e,t),t=Hs,null===(null===Ws?t.memoizedState:Ws.next)&&(t=t.alternate,O.H=null===t||null===t.memoizedState?ga:ya),e}function co(e){if(null!==e&&"object"===typeof e){if("function"===typeof e.then)return uo(e);if(e.$$typeof===x)return Mi(e)}throw Error(o(438,String(e)))}function ho(e){var t=null,n=Hs.updateQueue;if(null!==n&&(t=n.memoCache),null==t){var r=Hs.alternate;null!==r&&(null!==(r=r.updateQueue)&&(null!=(r=r.memoCache)&&(t={data:r.data.map(function(e){return e.slice()}),index:0})))}if(null==t&&(t={data:[],index:0}),null===n&&(n={lastEffect:null,events:null,stores:null,memoCache:null},Hs.updateQueue=n),n.memoCache=t,void 0===(n=t.data[t.index]))for(n=t.data[t.index]=Array(e),r=0;r<e;r++)n[r]=k;return t.index++,n}function fo(e,t){return"function"===typeof t?t(e):t}function po(e){return mo(lo(),js,e)}function mo(e,t,n){var r=e.queue;if(null===r)throw Error(o(311));r.lastRenderedReducer=n;var i=e.baseQueue,s=r.pending;if(null!==s){if(null!==i){var a=i.next;i.next=s.next,s.next=a}t.baseQueue=i=s,r.pending=null}if(s=e.baseState,null===i)e.memoizedState=s;else{var l=a=null,u=null,c=t=i.next,h=!1;do{var d=-536870913&c.lane;if(d!==c.lane?(gu&d)===d:(zs&d)===d){var f=c.revertLane;if(0===f)null!==u&&(u=u.next={lane:0,revertLane:0,gesture:null,action:c.action,hasEagerState:c.hasEagerState,eagerState:c.eagerState,next:null}),d===ji&&(h=!0);else{if((zs&f)===f){c=c.next,f===ji&&(h=!0);continue}d={lane:0,revertLane:c.revertLane,gesture:null,action:c.action,hasEagerState:c.hasEagerState,eagerState:c.eagerState,next:null},null===u?(l=u=d,a=s):u=u.next=d,Hs.lanes|=f,Eu|=f}d=c.action,Ys&&n(s,d),s=c.hasEagerState?c.eagerState:n(s,d)}else f={lane:d,revertLane:c.revertLane,gesture:c.gesture,action:c.action,hasEagerState:c.hasEagerState,eagerState:c.eagerState,next:null},null===u?(l=u=f,a=s):u=u.next=f,Hs.lanes|=d,Eu|=d;c=c.next}while(null!==c&&c!==t);if(null===u?a=s:u.next=l,!Jn(s,e.memoizedState)&&(Da=!0,h&&null!==(n=Wi)))throw n;e.memoizedState=s,e.baseState=a,e.baseQueue=u,r.lastRenderedState=s}return null===i&&(r.lanes=0),[e.memoizedState,r.dispatch]}function go(e){var t=lo(),n=t.queue;if(null===n)throw Error(o(311));n.lastRenderedReducer=e;var r=n.dispatch,i=n.pending,s=t.memoizedState;if(null!==i){n.pending=null;var a=i=i.next;do{s=e(s,a.action),a=a.next}while(a!==i);Jn(s,t.memoizedState)||(Da=!0),t.memoizedState=s,null===t.baseQueue&&(t.baseState=s),n.lastRenderedState=s}return[s,r]}function yo(e,t,n){var r=Hs,i=lo(),s=hi;if(s){if(void 0===n)throw Error(o(407));n=n()}else n=t();var a=!Jn((js||i).memoizedState,n);if(a&&(i.memoizedState=n,Da=!0),i=i.queue,Ho(_o.bind(null,r,i,e),[e]),i.getSnapshot!==t||a||null!==Ws&&1&Ws.memoizedState.tag){if(r.flags|=2048,Fo(9,{destroy:void 0},bo.bind(null,r,i,n,t),null),null===pu)throw Error(o(349));s||0!==(127&zs)||vo(r,t,n)}return n}function vo(e,t,n){e.flags|=16384,e={getSnapshot:t,value:n},null===(t=Hs.updateQueue)?(t={lastEffect:null,events:null,stores:null,memoCache:null},Hs.updateQueue=t,t.stores=[e]):null===(n=t.stores)?t.stores=[e]:n.push(e)}function bo(e,t,n,r){t.value=n,t.getSnapshot=r,xo(t)&&wo(e)}function _o(e,t,n){return n(function(){xo(t)&&wo(e)})}function xo(e){var t=e.getSnapshot;e=e.value;try{var n=t();return!Jn(e,n)}catch(r){return!0}}function wo(e){var t=Dr(e,2);null!==t&&qu(t,e,2)}function Ao(e){var t=ao();if("function"===typeof e){var n=e;if(e=n(),Ys){be(!0);try{n()}finally{be(!1)}}}return t.memoizedState=t.baseState=e,t.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:fo,lastRenderedState:e},t}function Eo(e,t,n,r){return e.baseState=n,mo(e,js,"function"===typeof r?r:fo)}function So(e,t,n,r,i){if(da(e))throw Error(o(485));if(null!==(e=t.action)){var s={payload:i,action:e,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(e){s.listeners.push(e)}};null!==O.T?n(!0):s.isTransition=!1,r(s),null===(n=t.pending)?(s.next=t.pending=s,To(t,s)):(s.next=n.next,t.pending=n.next=s)}}function To(e,t){var n=t.action,r=t.payload,i=e.state;if(t.isTransition){var s=O.T,o={};O.T=o;try{var a=n(i,r),l=O.S;null!==l&&l(o,a),Co(e,t,a)}catch(u){Ro(e,t,u)}finally{null!==s&&null!==o.types&&(s.types=o.types),O.T=s}}else try{Co(e,t,s=n(i,r))}catch(c){Ro(e,t,c)}}function Co(e,t,n){null!==n&&"object"===typeof n&&"function"===typeof n.then?n.then(function(n){ko(e,t,n)},function(n){return Ro(e,t,n)}):ko(e,t,n)}function ko(e,t,n){t.status="fulfilled",t.value=n,Po(t),e.state=n,null!==(t=e.pending)&&((n=t.next)===t?e.pending=null:(n=n.next,t.next=n,To(e,n)))}function Ro(e,t,n){var r=e.pending;if(e.pending=null,null!==r){r=r.next;do{t.status="rejected",t.reason=n,Po(t),t=t.next}while(t!==r)}e.action=null}function Po(e){e=e.listeners;for(var t=0;t<e.length;t++)(0,e[t])()}function Io(e,t){return t}function Mo(e,t){if(hi){var n=pu.formState;if(null!==n){e:{var r=Hs;if(hi){if(ci){t:{for(var i=ci,s=fi;8!==i.nodeType;){if(!s){i=null;break t}if(null===(i=Dh(i.nextSibling))){i=null;break t}}i="F!"===(s=i.data)||"F"===s?i:null}if(i){ci=Dh(i.nextSibling),r="F!"===i.data;break e}}mi(r)}r=!1}r&&(t=n[0])}}return(n=ao()).memoizedState=n.baseState=t,r={pending:null,lanes:0,dispatch:null,lastRenderedReducer:Io,lastRenderedState:t},n.queue=r,n=ua.bind(null,Hs,r),r.dispatch=n,r=Ao(!1),s=ha.bind(null,Hs,!1,r.queue),i={state:t,dispatch:null,action:e,pending:null},(r=ao()).queue=i,n=So.bind(null,Hs,i,s,n),i.dispatch=n,r.memoizedState=e,[t,n,!1]}function Do(e){return Oo(lo(),js,e)}function Oo(e,t,n){if(t=mo(e,t,Io)[0],e=po(fo)[0],"object"===typeof t&&null!==t&&"function"===typeof t.then)try{var r=uo(t)}catch(o){if(o===Zi)throw $i;throw o}else r=t;var i=(t=lo()).queue,s=i.dispatch;return n!==t.memoizedState&&(Hs.flags|=2048,Fo(9,{destroy:void 0},Lo.bind(null,i,n),null)),[r,s,e]}function Lo(e,t){e.action=t}function No(e){var t=lo(),n=js;if(null!==n)return Oo(t,n,e);lo(),t=t.memoizedState;var r=(n=lo()).queue.dispatch;return n.memoizedState=e,[t,r,!1]}function Fo(e,t,n,r){return e={tag:e,create:n,deps:r,inst:t,next:null},null===(t=Hs.updateQueue)&&(t={lastEffect:null,events:null,stores:null,memoCache:null},Hs.updateQueue=t),null===(n=t.lastEffect)?t.lastEffect=e.next=e:(r=n.next,n.next=e,e.next=r,t.lastEffect=e),e}function Bo(){return lo().memoizedState}function Uo(e,t,n,r){var i=ao();Hs.flags|=e,i.memoizedState=Fo(1|t,{destroy:void 0},n,void 0===r?null:r)}function Go(e,t,n,r){var i=lo();r=void 0===r?null:r;var s=i.memoizedState.inst;null!==js&&null!==r&&$s(r,js.memoizedState.deps)?i.memoizedState=Fo(t,s,n,r):(Hs.flags|=e,i.memoizedState=Fo(1|t,s,n,r))}function zo(e,t){Uo(8390656,8,e,t)}function Ho(e,t){Go(2048,8,e,t)}function jo(e){var t=lo().memoizedState;return function(e){Hs.flags|=4;var t=Hs.updateQueue;if(null===t)t={lastEffect:null,events:null,stores:null,memoCache:null},Hs.updateQueue=t,t.events=[e];else{var n=t.events;null===n?t.events=[e]:n.push(e)}}({ref:t,nextImpl:e}),function(){if(0!==(2&fu))throw Error(o(440));return t.impl.apply(void 0,arguments)}}function Wo(e,t){return Go(4,2,e,t)}function Vo(e,t){return Go(4,4,e,t)}function Xo(e,t){if("function"===typeof t){e=e();var n=t(e);return function(){"function"===typeof n?n():t(null)}}if(null!==t&&void 0!==t)return e=e(),t.current=e,function(){t.current=null}}function Yo(e,t,n){n=null!==n&&void 0!==n?n.concat([e]):null,Go(4,4,Xo.bind(null,t,e),n)}function qo(){}function Ko(e,t){var n=lo();t=void 0===t?null:t;var r=n.memoizedState;return null!==t&&$s(t,r[1])?r[0]:(n.memoizedState=[e,t],e)}function Qo(e,t){var n=lo();t=void 0===t?null:t;var r=n.memoizedState;if(null!==t&&$s(t,r[1]))return r[0];if(r=e(),Ys){be(!0);try{e()}finally{be(!1)}}return n.memoizedState=[r,t],r}function Zo(e,t,n){return void 0===n||0!==(1073741824&zs)&&0===(261930&gu)?e.memoizedState=t:(e.memoizedState=n,e=Yu(),Hs.lanes|=e,Eu|=e,n)}function Jo(e,t,n,r){return Jn(n,t)?n:null!==Cs.current?(e=Zo(e,n,r),Jn(e,t)||(Da=!0),e):0===(42&zs)||0!==(1073741824&zs)&&0===(261930&gu)?(Da=!0,e.memoizedState=n):(e=Yu(),Hs.lanes|=e,Eu|=e,t)}function $o(e,t,n,r,i){var s=L.p;L.p=0!==s&&8>s?s:8;var o=O.T,a={};O.T=a,ha(e,!1,t,n);try{var l=i(),u=O.S;if(null!==u&&u(a,l),null!==l&&"object"===typeof l&&"function"===typeof l.then)ca(e,t,function(e,t){var n=[],r={status:"pending",value:null,reason:null,then:function(e){n.push(e)}};return e.then(function(){r.status="fulfilled",r.value=t;for(var e=0;e<n.length;e++)(0,n[e])(t)},function(e){for(r.status="rejected",r.reason=e,e=0;e<n.length;e++)(0,n[e])(void 0)}),r}(l,r),Xu());else ca(e,t,r,Xu())}catch(c){ca(e,t,{then:function(){},status:"rejected",reason:c},Xu())}finally{L.p=s,null!==o&&null!==a.types&&(o.types=a.types),O.T=o}}function ea(){}function ta(e,t,n,r){if(5!==e.tag)throw Error(o(476));var i=na(e).queue;$o(e,i,t,N,null===n?ea:function(){return ra(e),n(r)})}function na(e){var t=e.memoizedState;if(null!==t)return t;var n={};return(t={memoizedState:N,baseState:N,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:fo,lastRenderedState:N},next:null}).next={memoizedState:n,baseState:n,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:fo,lastRenderedState:n},next:null},e.memoizedState=t,null!==(e=e.alternate)&&(e.memoizedState=t),t}function ra(e){var t=na(e);null===t.next&&(t=e.alternate.memoizedState),ca(e,t.next.queue,{},Xu())}function ia(){return Mi(cd)}function sa(){return lo().memoizedState}function oa(){return lo().memoizedState}function aa(e){for(var t=e.return;null!==t;){switch(t.tag){case 24:case 3:var n=Xu(),r=bs(t,e=vs(n),n);return null!==r&&(qu(r,t,n),_s(r,t,n)),t={cache:Ui()},void(e.payload=t)}t=t.return}}function la(e,t,n){var r=Xu();n={lane:r,revertLane:0,gesture:null,action:n,hasEagerState:!1,eagerState:null,next:null},da(e)?fa(t,n):null!==(n=Mr(e,t,n,r))&&(qu(n,e,r),pa(n,t,r))}function ua(e,t,n){ca(e,t,n,Xu())}function ca(e,t,n,r){var i={lane:r,revertLane:0,gesture:null,action:n,hasEagerState:!1,eagerState:null,next:null};if(da(e))fa(t,i);else{var s=e.alternate;if(0===e.lanes&&(null===s||0===s.lanes)&&null!==(s=t.lastRenderedReducer))try{var o=t.lastRenderedState,a=s(o,n);if(i.hasEagerState=!0,i.eagerState=a,Jn(a,o))return Ir(e,t,i,0),null===pu&&Pr(),!1}catch(l){}if(null!==(n=Mr(e,t,i,r)))return qu(n,e,r),pa(n,t,r),!0}return!1}function ha(e,t,n,r){if(r={lane:2,revertLane:Hc(),gesture:null,action:r,hasEagerState:!1,eagerState:null,next:null},da(e)){if(t)throw Error(o(479))}else null!==(t=Mr(e,n,r,2))&&qu(t,e,2)}function da(e){var t=e.alternate;return e===Hs||null!==t&&t===Hs}function fa(e,t){Xs=Vs=!0;var n=e.pending;null===n?t.next=t:(t.next=n.next,n.next=t),e.pending=t}function pa(e,t,n){if(0!==(4194048&n)){var r=t.lanes;n|=r&=e.pendingLanes,t.lanes=n,Oe(e,n)}}var ma={readContext:Mi,use:co,useCallback:Js,useContext:Js,useEffect:Js,useImperativeHandle:Js,useLayoutEffect:Js,useInsertionEffect:Js,useMemo:Js,useReducer:Js,useRef:Js,useState:Js,useDebugValue:Js,useDeferredValue:Js,useTransition:Js,useSyncExternalStore:Js,useId:Js,useHostTransitionStatus:Js,useFormState:Js,useActionState:Js,useOptimistic:Js,useMemoCache:Js,useCacheRefresh:Js};ma.useEffectEvent=Js;var ga={readContext:Mi,use:co,useCallback:function(e,t){return ao().memoizedState=[e,void 0===t?null:t],e},useContext:Mi,useEffect:zo,useImperativeHandle:function(e,t,n){n=null!==n&&void 0!==n?n.concat([e]):null,Uo(4194308,4,Xo.bind(null,t,e),n)},useLayoutEffect:function(e,t){return Uo(4194308,4,e,t)},useInsertionEffect:function(e,t){Uo(4,2,e,t)},useMemo:function(e,t){var n=ao();t=void 0===t?null:t;var r=e();if(Ys){be(!0);try{e()}finally{be(!1)}}return n.memoizedState=[r,t],r},useReducer:function(e,t,n){var r=ao();if(void 0!==n){var i=n(t);if(Ys){be(!0);try{n(t)}finally{be(!1)}}}else i=t;return r.memoizedState=r.baseState=i,e={pending:null,lanes:0,dispatch:null,lastRenderedReducer:e,lastRenderedState:i},r.queue=e,e=e.dispatch=la.bind(null,Hs,e),[r.memoizedState,e]},useRef:function(e){return e={current:e},ao().memoizedState=e},useState:function(e){var t=(e=Ao(e)).queue,n=ua.bind(null,Hs,t);return t.dispatch=n,[e.memoizedState,n]},useDebugValue:qo,useDeferredValue:function(e,t){return Zo(ao(),e,t)},useTransition:function(){var e=Ao(!1);return e=$o.bind(null,Hs,e.queue,!0,!1),ao().memoizedState=e,[!1,e]},useSyncExternalStore:function(e,t,n){var r=Hs,i=ao();if(hi){if(void 0===n)throw Error(o(407));n=n()}else{if(n=t(),null===pu)throw Error(o(349));0!==(127&gu)||vo(r,t,n)}i.memoizedState=n;var s={value:n,getSnapshot:t};return i.queue=s,zo(_o.bind(null,r,s,e),[e]),r.flags|=2048,Fo(9,{destroy:void 0},bo.bind(null,r,s,n,t),null),n},useId:function(){var e=ao(),t=pu.identifierPrefix;if(hi){var n=ri;t="_"+t+"R_"+(n=(ni&~(1<<32-_e(ni)-1)).toString(32)+n),0<(n=qs++)&&(t+="H"+n.toString(32)),t+="_"}else t="_"+t+"r_"+(n=Zs++).toString(32)+"_";return e.memoizedState=t},useHostTransitionStatus:ia,useFormState:Mo,useActionState:Mo,useOptimistic:function(e){var t=ao();t.memoizedState=t.baseState=e;var n={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return t.queue=n,t=ha.bind(null,Hs,!0,n),n.dispatch=t,[e,t]},useMemoCache:ho,useCacheRefresh:function(){return ao().memoizedState=aa.bind(null,Hs)},useEffectEvent:function(e){var t=ao(),n={impl:e};return t.memoizedState=n,function(){if(0!==(2&fu))throw Error(o(440));return n.impl.apply(void 0,arguments)}}},ya={readContext:Mi,use:co,useCallback:Ko,useContext:Mi,useEffect:Ho,useImperativeHandle:Yo,useInsertionEffect:Wo,useLayoutEffect:Vo,useMemo:Qo,useReducer:po,useRef:Bo,useState:function(){return po(fo)},useDebugValue:qo,useDeferredValue:function(e,t){return Jo(lo(),js.memoizedState,e,t)},useTransition:function(){var e=po(fo)[0],t=lo().memoizedState;return["boolean"===typeof e?e:uo(e),t]},useSyncExternalStore:yo,useId:sa,useHostTransitionStatus:ia,useFormState:Do,useActionState:Do,useOptimistic:function(e,t){return Eo(lo(),0,e,t)},useMemoCache:ho,useCacheRefresh:oa};ya.useEffectEvent=jo;var va={readContext:Mi,use:co,useCallback:Ko,useContext:Mi,useEffect:Ho,useImperativeHandle:Yo,useInsertionEffect:Wo,useLayoutEffect:Vo,useMemo:Qo,useReducer:go,useRef:Bo,useState:function(){return go(fo)},useDebugValue:qo,useDeferredValue:function(e,t){var n=lo();return null===js?Zo(n,e,t):Jo(n,js.memoizedState,e,t)},useTransition:function(){var e=go(fo)[0],t=lo().memoizedState;return["boolean"===typeof e?e:uo(e),t]},useSyncExternalStore:yo,useId:sa,useHostTransitionStatus:ia,useFormState:No,useActionState:No,useOptimistic:function(e,t){var n=lo();return null!==js?Eo(n,0,e,t):(n.baseState=e,[e,n.queue.dispatch])},useMemoCache:ho,useCacheRefresh:oa};function ba(e,t,n,r){n=null===(n=n(r,t=e.memoizedState))||void 0===n?t:f({},t,n),e.memoizedState=n,0===e.lanes&&(e.updateQueue.baseState=n)}va.useEffectEvent=jo;var _a={enqueueSetState:function(e,t,n){e=e._reactInternals;var r=Xu(),i=vs(r);i.payload=t,void 0!==n&&null!==n&&(i.callback=n),null!==(t=bs(e,i,r))&&(qu(t,e,r),_s(t,e,r))},enqueueReplaceState:function(e,t,n){e=e._reactInternals;var r=Xu(),i=vs(r);i.tag=1,i.payload=t,void 0!==n&&null!==n&&(i.callback=n),null!==(t=bs(e,i,r))&&(qu(t,e,r),_s(t,e,r))},enqueueForceUpdate:function(e,t){e=e._reactInternals;var n=Xu(),r=vs(n);r.tag=2,void 0!==t&&null!==t&&(r.callback=t),null!==(t=bs(e,r,n))&&(qu(t,e,n),_s(t,e,n))}};function xa(e,t,n,r,i,s,o){return"function"===typeof(e=e.stateNode).shouldComponentUpdate?e.shouldComponentUpdate(r,s,o):!t.prototype||!t.prototype.isPureReactComponent||(!$n(n,r)||!$n(i,s))}function wa(e,t,n,r){e=t.state,"function"===typeof t.componentWillReceiveProps&&t.componentWillReceiveProps(n,r),"function"===typeof t.UNSAFE_componentWillReceiveProps&&t.UNSAFE_componentWillReceiveProps(n,r),t.state!==e&&_a.enqueueReplaceState(t,t.state,null)}function Aa(e,t){var n=t;if("ref"in t)for(var r in n={},t)"ref"!==r&&(n[r]=t[r]);if(e=e.defaultProps)for(var i in n===t&&(n=f({},n)),e)void 0===n[i]&&(n[i]=e[i]);return n}function Ea(e){Tr(e)}function Sa(e){console.error(e)}function Ta(e){Tr(e)}function Ca(e,t){try{(0,e.onUncaughtError)(t.value,{componentStack:t.stack})}catch(n){setTimeout(function(){throw n})}}function ka(e,t,n){try{(0,e.onCaughtError)(n.value,{componentStack:n.stack,errorBoundary:1===t.tag?t.stateNode:null})}catch(r){setTimeout(function(){throw r})}}function Ra(e,t,n){return(n=vs(n)).tag=3,n.payload={element:null},n.callback=function(){Ca(e,t)},n}function Pa(e){return(e=vs(e)).tag=3,e}function Ia(e,t,n,r){var i=n.type.getDerivedStateFromError;if("function"===typeof i){var s=r.value;e.payload=function(){return i(s)},e.callback=function(){ka(t,n,r)}}var o=n.stateNode;null!==o&&"function"===typeof o.componentDidCatch&&(e.callback=function(){ka(t,n,r),"function"!==typeof i&&(null===Nu?Nu=new Set([this]):Nu.add(this));var e=r.stack;this.componentDidCatch(r.value,{componentStack:null!==e?e:""})})}var Ma=Error(o(461)),Da=!1;function Oa(e,t,n,r){t.child=null===e?ps(t,null,n,r):fs(t,e.child,n,r)}function La(e,t,n,r,i){n=n.render;var s=t.ref;if("ref"in r){var o={};for(var a in r)"ref"!==a&&(o[a]=r[a])}else o=r;return Ii(t),r=eo(e,t,n,o,s,i),a=io(),null===e||Da?(hi&&a&&oi(t),t.flags|=1,Oa(e,t,r,i),t.child):(so(e,t,i),il(e,t,i))}function Na(e,t,n,r,i){if(null===e){var s=n.type;return"function"!==typeof s||Ur(s)||void 0!==s.defaultProps||null!==n.compare?((e=Hr(n.type,null,r,t,t.mode,i)).ref=t.ref,e.return=t,t.child=e):(t.tag=15,t.type=s,Fa(e,t,s,r,i))}if(s=e.child,!sl(e,i)){var o=s.memoizedProps;if((n=null!==(n=n.compare)?n:$n)(o,r)&&e.ref===t.ref)return il(e,t,i)}return t.flags|=1,(e=Gr(s,r)).ref=t.ref,e.return=t,t.child=e}function Fa(e,t,n,r,i){if(null!==e){var s=e.memoizedProps;if($n(s,r)&&e.ref===t.ref){if(Da=!1,t.pendingProps=r=s,!sl(e,i))return t.lanes=e.lanes,il(e,t,i);0!==(131072&e.flags)&&(Da=!0)}}return Wa(e,t,n,r,i)}function Ba(e,t,n,r){var i=r.children,s=null!==e?e.memoizedState:null;if(null===e&&null===t.stateNode&&(t.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),"hidden"===r.mode){if(0!==(128&t.flags)){if(s=null!==s?s.baseLanes|n:n,null!==e){for(r=t.child=e.child,i=0;null!==r;)i=i|r.lanes|r.childLanes,r=r.sibling;r=i&~s}else r=0,t.child=null;return Ga(e,t,s,n,r)}if(0===(536870912&n))return r=t.lanes=536870912,Ga(e,t,null!==s?s.baseLanes|n:n,n,r);t.memoizedState={baseLanes:0,cachePool:null},null!==e&&Ki(0,null!==s?s.cachePool:null),null!==s?Rs(t,s):Ps(),Ns(t)}else null!==s?(Ki(0,s.cachePool),Rs(t,s),Fs(),t.memoizedState=null):(null!==e&&Ki(0,null),Ps(),Fs());return Oa(e,t,i,n),t.child}function Ua(e,t){return null!==e&&22===e.tag||null!==t.stateNode||(t.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),t.sibling}function Ga(e,t,n,r,i){var s=qi();return s=null===s?null:{parent:Bi._currentValue,pool:s},t.memoizedState={baseLanes:n,cachePool:s},null!==e&&Ki(0,null),Ps(),Ns(t),null!==e&&Ri(e,t,r,!0),t.childLanes=i,null}function za(e,t){return(t=$a({mode:t.mode,children:t.children},e.mode)).ref=e.ref,e.child=t,t.return=e,t}function Ha(e,t,n){return fs(t,e.child,null,n),(e=za(t,t.pendingProps)).flags|=2,Bs(t),t.memoizedState=null,e}function ja(e,t){var n=t.ref;if(null===n)null!==e&&null!==e.ref&&(t.flags|=4194816);else{if("function"!==typeof n&&"object"!==typeof n)throw Error(o(284));null!==e&&e.ref===n||(t.flags|=4194816)}}function Wa(e,t,n,r,i){return Ii(t),n=eo(e,t,n,r,void 0,i),r=io(),null===e||Da?(hi&&r&&oi(t),t.flags|=1,Oa(e,t,n,i),t.child):(so(e,t,i),il(e,t,i))}function Va(e,t,n,r,i,s){return Ii(t),t.updateQueue=null,n=no(t,r,n,i),to(e),r=io(),null===e||Da?(hi&&r&&oi(t),t.flags|=1,Oa(e,t,n,s),t.child):(so(e,t,s),il(e,t,s))}function Xa(e,t,n,r,i){if(Ii(t),null===t.stateNode){var s=Nr,o=n.contextType;"object"===typeof o&&null!==o&&(s=Mi(o)),s=new n(r,s),t.memoizedState=null!==s.state&&void 0!==s.state?s.state:null,s.updater=_a,t.stateNode=s,s._reactInternals=t,(s=t.stateNode).props=r,s.state=t.memoizedState,s.refs={},gs(t),o=n.contextType,s.context="object"===typeof o&&null!==o?Mi(o):Nr,s.state=t.memoizedState,"function"===typeof(o=n.getDerivedStateFromProps)&&(ba(t,n,o,r),s.state=t.memoizedState),"function"===typeof n.getDerivedStateFromProps||"function"===typeof s.getSnapshotBeforeUpdate||"function"!==typeof s.UNSAFE_componentWillMount&&"function"!==typeof s.componentWillMount||(o=s.state,"function"===typeof s.componentWillMount&&s.componentWillMount(),"function"===typeof s.UNSAFE_componentWillMount&&s.UNSAFE_componentWillMount(),o!==s.state&&_a.enqueueReplaceState(s,s.state,null),Es(t,r,s,i),As(),s.state=t.memoizedState),"function"===typeof s.componentDidMount&&(t.flags|=4194308),r=!0}else if(null===e){s=t.stateNode;var a=t.memoizedProps,l=Aa(n,a);s.props=l;var u=s.context,c=n.contextType;o=Nr,"object"===typeof c&&null!==c&&(o=Mi(c));var h=n.getDerivedStateFromProps;c="function"===typeof h||"function"===typeof s.getSnapshotBeforeUpdate,a=t.pendingProps!==a,c||"function"!==typeof s.UNSAFE_componentWillReceiveProps&&"function"!==typeof s.componentWillReceiveProps||(a||u!==o)&&wa(t,s,r,o),ms=!1;var d=t.memoizedState;s.state=d,Es(t,r,s,i),As(),u=t.memoizedState,a||d!==u||ms?("function"===typeof h&&(ba(t,n,h,r),u=t.memoizedState),(l=ms||xa(t,n,l,r,d,u,o))?(c||"function"!==typeof s.UNSAFE_componentWillMount&&"function"!==typeof s.componentWillMount||("function"===typeof s.componentWillMount&&s.componentWillMount(),"function"===typeof s.UNSAFE_componentWillMount&&s.UNSAFE_componentWillMount()),"function"===typeof s.componentDidMount&&(t.flags|=4194308)):("function"===typeof s.componentDidMount&&(t.flags|=4194308),t.memoizedProps=r,t.memoizedState=u),s.props=r,s.state=u,s.context=o,r=l):("function"===typeof s.componentDidMount&&(t.flags|=4194308),r=!1)}else{s=t.stateNode,ys(e,t),c=Aa(n,o=t.memoizedProps),s.props=c,h=t.pendingProps,d=s.context,u=n.contextType,l=Nr,"object"===typeof u&&null!==u&&(l=Mi(u)),(u="function"===typeof(a=n.getDerivedStateFromProps)||"function"===typeof s.getSnapshotBeforeUpdate)||"function"!==typeof s.UNSAFE_componentWillReceiveProps&&"function"!==typeof s.componentWillReceiveProps||(o!==h||d!==l)&&wa(t,s,r,l),ms=!1,d=t.memoizedState,s.state=d,Es(t,r,s,i),As();var f=t.memoizedState;o!==h||d!==f||ms||null!==e&&null!==e.dependencies&&Pi(e.dependencies)?("function"===typeof a&&(ba(t,n,a,r),f=t.memoizedState),(c=ms||xa(t,n,c,r,d,f,l)||null!==e&&null!==e.dependencies&&Pi(e.dependencies))?(u||"function"!==typeof s.UNSAFE_componentWillUpdate&&"function"!==typeof s.componentWillUpdate||("function"===typeof s.componentWillUpdate&&s.componentWillUpdate(r,f,l),"function"===typeof s.UNSAFE_componentWillUpdate&&s.UNSAFE_componentWillUpdate(r,f,l)),"function"===typeof s.componentDidUpdate&&(t.flags|=4),"function"===typeof s.getSnapshotBeforeUpdate&&(t.flags|=1024)):("function"!==typeof s.componentDidUpdate||o===e.memoizedProps&&d===e.memoizedState||(t.flags|=4),"function"!==typeof s.getSnapshotBeforeUpdate||o===e.memoizedProps&&d===e.memoizedState||(t.flags|=1024),t.memoizedProps=r,t.memoizedState=f),s.props=r,s.state=f,s.context=l,r=c):("function"!==typeof s.componentDidUpdate||o===e.memoizedProps&&d===e.memoizedState||(t.flags|=4),"function"!==typeof s.getSnapshotBeforeUpdate||o===e.memoizedProps&&d===e.memoizedState||(t.flags|=1024),r=!1)}return s=r,ja(e,t),r=0!==(128&t.flags),s||r?(s=t.stateNode,n=r&&"function"!==typeof n.getDerivedStateFromError?null:s.render(),t.flags|=1,null!==e&&r?(t.child=fs(t,e.child,null,i),t.child=fs(t,null,n,i)):Oa(e,t,n,i),t.memoizedState=s.state,e=t.child):e=il(e,t,i),e}function Ya(e,t,n,r){return bi(),t.flags|=256,Oa(e,t,n,r),t.child}var qa={dehydrated:null,treeContext:null,retryLane:0,hydrationErrors:null};function Ka(e){return{baseLanes:e,cachePool:Qi()}}function Qa(e,t,n){return e=null!==e?e.childLanes&~n:0,t&&(e|=Cu),e}function Za(e,t,n){var r,i=t.pendingProps,s=!1,a=0!==(128&t.flags);if((r=a)||(r=(null===e||null!==e.memoizedState)&&0!==(2&Us.current)),r&&(s=!0,t.flags&=-129),r=0!==(32&t.flags),t.flags&=-33,null===e){if(hi){if(s?Os(t):Fs(),(e=ci)?null!==(e=null!==(e=Ph(e,fi))&&"&"!==e.data?e:null)&&(t.memoizedState={dehydrated:e,treeContext:null!==ti?{id:ni,overflow:ri}:null,retryLane:536870912,hydrationErrors:null},(n=Vr(e)).return=t,t.child=n,ui=t,ci=null):e=null,null===e)throw mi(t);return Mh(e)?t.lanes=32:t.lanes=536870912,null}var l=i.children;return i=i.fallback,s?(Fs(),l=$a({mode:"hidden",children:l},s=t.mode),i=jr(i,s,n,null),l.return=t,i.return=t,l.sibling=i,t.child=l,(i=t.child).memoizedState=Ka(n),i.childLanes=Qa(e,r,n),t.memoizedState=qa,Ua(null,i)):(Os(t),Ja(t,l))}var u=e.memoizedState;if(null!==u&&null!==(l=u.dehydrated)){if(a)256&t.flags?(Os(t),t.flags&=-257,t=el(e,t,n)):null!==t.memoizedState?(Fs(),t.child=e.child,t.flags|=128,t=null):(Fs(),l=i.fallback,s=t.mode,i=$a({mode:"visible",children:i.children},s),(l=jr(l,s,n,null)).flags|=2,i.return=t,l.return=t,i.sibling=l,t.child=i,fs(t,e.child,null,n),(i=t.child).memoizedState=Ka(n),i.childLanes=Qa(e,r,n),t.memoizedState=qa,t=Ua(null,i));else if(Os(t),Mh(l)){if(r=l.nextSibling&&l.nextSibling.dataset)var c=r.dgst;r=c,(i=Error(o(419))).stack="",i.digest=r,xi({value:i,source:null,stack:null}),t=el(e,t,n)}else if(Da||Ri(e,t,n,!1),r=0!==(n&e.childLanes),Da||r){if(null!==(r=pu)&&(0!==(i=Le(r,n))&&i!==u.retryLane))throw u.retryLane=i,Dr(e,i),qu(r,e,i),Ma;Ih(l)||oc(),t=el(e,t,n)}else Ih(l)?(t.flags|=192,t.child=e.child,t=null):(e=u.treeContext,ci=Dh(l.nextSibling),ui=t,hi=!0,di=null,fi=!1,null!==e&&li(t,e),(t=Ja(t,i.children)).flags|=4096);return t}return s?(Fs(),l=i.fallback,s=t.mode,c=(u=e.child).sibling,(i=Gr(u,{mode:"hidden",children:i.children})).subtreeFlags=65011712&u.subtreeFlags,null!==c?l=Gr(c,l):(l=jr(l,s,n,null)).flags|=2,l.return=t,i.return=t,i.sibling=l,t.child=i,Ua(null,i),i=t.child,null===(l=e.child.memoizedState)?l=Ka(n):(null!==(s=l.cachePool)?(u=Bi._currentValue,s=s.parent!==u?{parent:u,pool:u}:s):s=Qi(),l={baseLanes:l.baseLanes|n,cachePool:s}),i.memoizedState=l,i.childLanes=Qa(e,r,n),t.memoizedState=qa,Ua(e.child,i)):(Os(t),e=(n=e.child).sibling,(n=Gr(n,{mode:"visible",children:i.children})).return=t,n.sibling=null,null!==e&&(null===(r=t.deletions)?(t.deletions=[e],t.flags|=16):r.push(e)),t.child=n,t.memoizedState=null,n)}function Ja(e,t){return(t=$a({mode:"visible",children:t},e.mode)).return=e,e.child=t}function $a(e,t){return(e=Br(22,e,null,t)).lanes=0,e}function el(e,t,n){return fs(t,e.child,null,n),(e=Ja(t,t.pendingProps.children)).flags|=2,t.memoizedState=null,e}function tl(e,t,n){e.lanes|=t;var r=e.alternate;null!==r&&(r.lanes|=t),Ci(e.return,t,n)}function nl(e,t,n,r,i,s){var o=e.memoizedState;null===o?e.memoizedState={isBackwards:t,rendering:null,renderingStartTime:0,last:r,tail:n,tailMode:i,treeForkCount:s}:(o.isBackwards=t,o.rendering=null,o.renderingStartTime=0,o.last=r,o.tail=n,o.tailMode=i,o.treeForkCount=s)}function rl(e,t,n){var r=t.pendingProps,i=r.revealOrder,s=r.tail;r=r.children;var o=Us.current,a=0!==(2&o);if(a?(o=1&o|2,t.flags|=128):o&=1,z(Us,o),Oa(e,t,r,n),r=hi?Jr:0,!a&&null!==e&&0!==(128&e.flags))e:for(e=t.child;null!==e;){if(13===e.tag)null!==e.memoizedState&&tl(e,n,t);else if(19===e.tag)tl(e,n,t);else if(null!==e.child){e.child.return=e,e=e.child;continue}if(e===t)break e;for(;null===e.sibling;){if(null===e.return||e.return===t)break e;e=e.return}e.sibling.return=e.return,e=e.sibling}switch(i){case"forwards":for(n=t.child,i=null;null!==n;)null!==(e=n.alternate)&&null===Gs(e)&&(i=n),n=n.sibling;null===(n=i)?(i=t.child,t.child=null):(i=n.sibling,n.sibling=null),nl(t,!1,i,n,s,r);break;case"backwards":case"unstable_legacy-backwards":for(n=null,i=t.child,t.child=null;null!==i;){if(null!==(e=i.alternate)&&null===Gs(e)){t.child=i;break}e=i.sibling,i.sibling=n,n=i,i=e}nl(t,!0,n,null,s,r);break;case"together":nl(t,!1,null,null,void 0,r);break;default:t.memoizedState=null}return t.child}function il(e,t,n){if(null!==e&&(t.dependencies=e.dependencies),Eu|=t.lanes,0===(n&t.childLanes)){if(null===e)return null;if(Ri(e,t,n,!1),0===(n&t.childLanes))return null}if(null!==e&&t.child!==e.child)throw Error(o(153));if(null!==t.child){for(n=Gr(e=t.child,e.pendingProps),t.child=n,n.return=t;null!==e.sibling;)e=e.sibling,(n=n.sibling=Gr(e,e.pendingProps)).return=t;n.sibling=null}return t.child}function sl(e,t){return 0!==(e.lanes&t)||!(null===(e=e.dependencies)||!Pi(e))}function ol(e,t,n){if(null!==e)if(e.memoizedProps!==t.pendingProps)Da=!0;else{if(!sl(e,n)&&0===(128&t.flags))return Da=!1,function(e,t,n){switch(t.tag){case 3:q(t,t.stateNode.containerInfo),Si(0,Bi,e.memoizedState.cache),bi();break;case 27:case 5:Q(t);break;case 4:q(t,t.stateNode.containerInfo);break;case 10:Si(0,t.type,t.memoizedProps.value);break;case 31:if(null!==t.memoizedState)return t.flags|=128,Ls(t),null;break;case 13:var r=t.memoizedState;if(null!==r)return null!==r.dehydrated?(Os(t),t.flags|=128,null):0!==(n&t.child.childLanes)?Za(e,t,n):(Os(t),null!==(e=il(e,t,n))?e.sibling:null);Os(t);break;case 19:var i=0!==(128&e.flags);if((r=0!==(n&t.childLanes))||(Ri(e,t,n,!1),r=0!==(n&t.childLanes)),i){if(r)return rl(e,t,n);t.flags|=128}if(null!==(i=t.memoizedState)&&(i.rendering=null,i.tail=null,i.lastEffect=null),z(Us,Us.current),r)break;return null;case 22:return t.lanes=0,Ba(e,t,n,t.pendingProps);case 24:Si(0,Bi,e.memoizedState.cache)}return il(e,t,n)}(e,t,n);Da=0!==(131072&e.flags)}else Da=!1,hi&&0!==(1048576&t.flags)&&si(t,Jr,t.index);switch(t.lanes=0,t.tag){case 16:e:{var r=t.pendingProps;if(e=rs(t.elementType),t.type=e,"function"!==typeof e){if(void 0!==e&&null!==e){var i=e.$$typeof;if(i===w){t.tag=11,t=La(null,t,e,r,n);break e}if(i===S){t.tag=14,t=Na(null,t,e,r,n);break e}}throw t=M(e)||e,Error(o(306,t,""))}Ur(e)?(r=Aa(e,r),t.tag=1,t=Xa(null,t,e,r,n)):(t.tag=0,t=Wa(null,t,e,r,n))}return t;case 0:return Wa(e,t,t.type,t.pendingProps,n);case 1:return Xa(e,t,r=t.type,i=Aa(r,t.pendingProps),n);case 3:e:{if(q(t,t.stateNode.containerInfo),null===e)throw Error(o(387));r=t.pendingProps;var s=t.memoizedState;i=s.element,ys(e,t),Es(t,r,null,n);var a=t.memoizedState;if(r=a.cache,Si(0,Bi,r),r!==s.cache&&ki(t,[Bi],n,!0),As(),r=a.element,s.isDehydrated){if(s={element:r,isDehydrated:!1,cache:a.cache},t.updateQueue.baseState=s,t.memoizedState=s,256&t.flags){t=Ya(e,t,r,n);break e}if(r!==i){xi(i=qr(Error(o(424)),t)),t=Ya(e,t,r,n);break e}if(9===(e=t.stateNode.containerInfo).nodeType)e=e.body;else e="HTML"===e.nodeName?e.ownerDocument.body:e;for(ci=Dh(e.firstChild),ui=t,hi=!0,di=null,fi=!0,n=ps(t,null,r,n),t.child=n;n;)n.flags=-3&n.flags|4096,n=n.sibling}else{if(bi(),r===i){t=il(e,t,n);break e}Oa(e,t,r,n)}t=t.child}return t;case 26:return ja(e,t),null===e?(n=Vh(t.type,null,t.pendingProps,null))?t.memoizedState=n:hi||(n=t.type,e=t.pendingProps,(r=gh(X.current).createElement(n))[ze]=t,r[He]=e,dh(r,n,e),et(r),t.stateNode=r):t.memoizedState=Vh(t.type,e.memoizedProps,t.pendingProps,e.memoizedState),null;case 27:return Q(t),null===e&&hi&&(r=t.stateNode=Fh(t.type,t.pendingProps,X.current),ui=t,fi=!0,i=ci,Th(t.type)?(Oh=i,ci=Dh(r.firstChild)):ci=i),Oa(e,t,t.pendingProps.children,n),ja(e,t),null===e&&(t.flags|=4194304),t.child;case 5:return null===e&&hi&&((i=r=ci)&&(null!==(r=function(e,t,n,r){for(;1===e.nodeType;){var i=n;if(e.nodeName.toLowerCase()!==t.toLowerCase()){if(!r&&("INPUT"!==e.nodeName||"hidden"!==e.type))break}else if(r){if(!e[qe])switch(t){case"meta":if(!e.hasAttribute("itemprop"))break;return e;case"link":if("stylesheet"===(s=e.getAttribute("rel"))&&e.hasAttribute("data-precedence"))break;if(s!==i.rel||e.getAttribute("href")!==(null==i.href||""===i.href?null:i.href)||e.getAttribute("crossorigin")!==(null==i.crossOrigin?null:i.crossOrigin)||e.getAttribute("title")!==(null==i.title?null:i.title))break;return e;case"style":if(e.hasAttribute("data-precedence"))break;return e;case"script":if(((s=e.getAttribute("src"))!==(null==i.src?null:i.src)||e.getAttribute("type")!==(null==i.type?null:i.type)||e.getAttribute("crossorigin")!==(null==i.crossOrigin?null:i.crossOrigin))&&s&&e.hasAttribute("async")&&!e.hasAttribute("itemprop"))break;return e;default:return e}}else{if("input"!==t||"hidden"!==e.type)return e;var s=null==i.name?null:""+i.name;if("hidden"===i.type&&e.getAttribute("name")===s)return e}if(null===(e=Dh(e.nextSibling)))break}return null}(r,t.type,t.pendingProps,fi))?(t.stateNode=r,ui=t,ci=Dh(r.firstChild),fi=!1,i=!0):i=!1),i||mi(t)),Q(t),i=t.type,s=t.pendingProps,a=null!==e?e.memoizedProps:null,r=s.children,bh(i,s)?r=null:null!==a&&bh(i,a)&&(t.flags|=32),null!==t.memoizedState&&(i=eo(e,t,ro,null,null,n),cd._currentValue=i),ja(e,t),Oa(e,t,r,n),t.child;case 6:return null===e&&hi&&((e=n=ci)&&(null!==(n=function(e,t,n){if(""===t)return null;for(;3!==e.nodeType;){if((1!==e.nodeType||"INPUT"!==e.nodeName||"hidden"!==e.type)&&!n)return null;if(null===(e=Dh(e.nextSibling)))return null}return e}(n,t.pendingProps,fi))?(t.stateNode=n,ui=t,ci=null,e=!0):e=!1),e||mi(t)),null;case 13:return Za(e,t,n);case 4:return q(t,t.stateNode.containerInfo),r=t.pendingProps,null===e?t.child=fs(t,null,r,n):Oa(e,t,r,n),t.child;case 11:return La(e,t,t.type,t.pendingProps,n);case 7:return Oa(e,t,t.pendingProps,n),t.child;case 8:case 12:return Oa(e,t,t.pendingProps.children,n),t.child;case 10:return r=t.pendingProps,Si(0,t.type,r.value),Oa(e,t,r.children,n),t.child;case 9:return i=t.type._context,r=t.pendingProps.children,Ii(t),r=r(i=Mi(i)),t.flags|=1,Oa(e,t,r,n),t.child;case 14:return Na(e,t,t.type,t.pendingProps,n);case 15:return Fa(e,t,t.type,t.pendingProps,n);case 19:return rl(e,t,n);case 31:return function(e,t,n){var r=t.pendingProps,i=0!==(128&t.flags);if(t.flags&=-129,null===e){if(hi){if("hidden"===r.mode)return e=za(t,r),t.lanes=536870912,Ua(null,e);if(Ls(t),(e=ci)?null!==(e=null!==(e=Ph(e,fi))&&"&"===e.data?e:null)&&(t.memoizedState={dehydrated:e,treeContext:null!==ti?{id:ni,overflow:ri}:null,retryLane:536870912,hydrationErrors:null},(n=Vr(e)).return=t,t.child=n,ui=t,ci=null):e=null,null===e)throw mi(t);return t.lanes=536870912,null}return za(t,r)}var s=e.memoizedState;if(null!==s){var a=s.dehydrated;if(Ls(t),i)if(256&t.flags)t.flags&=-257,t=Ha(e,t,n);else{if(null===t.memoizedState)throw Error(o(558));t.child=e.child,t.flags|=128,t=null}else if(Da||Ri(e,t,n,!1),i=0!==(n&e.childLanes),Da||i){if(null!==(r=pu)&&0!==(a=Le(r,n))&&a!==s.retryLane)throw s.retryLane=a,Dr(e,a),qu(r,e,a),Ma;oc(),t=Ha(e,t,n)}else e=s.treeContext,ci=Dh(a.nextSibling),ui=t,hi=!0,di=null,fi=!1,null!==e&&li(t,e),(t=za(t,r)).flags|=4096;return t}return(e=Gr(e.child,{mode:r.mode,children:r.children})).ref=t.ref,t.child=e,e.return=t,e}(e,t,n);case 22:return Ba(e,t,n,t.pendingProps);case 24:return Ii(t),r=Mi(Bi),null===e?(null===(i=qi())&&(i=pu,s=Ui(),i.pooledCache=s,s.refCount++,null!==s&&(i.pooledCacheLanes|=n),i=s),t.memoizedState={parent:r,cache:i},gs(t),Si(0,Bi,i)):(0!==(e.lanes&n)&&(ys(e,t),Es(t,null,null,n),As()),i=e.memoizedState,s=t.memoizedState,i.parent!==r?(i={parent:r,cache:r},t.memoizedState=i,0===t.lanes&&(t.memoizedState=t.updateQueue.baseState=i),Si(0,Bi,r)):(r=s.cache,Si(0,Bi,r),r!==i.cache&&ki(t,[Bi],n,!0))),Oa(e,t,t.pendingProps.children,n),t.child;case 29:throw t.pendingProps}throw Error(o(156,t.tag))}function al(e){e.flags|=4}function ll(e,t,n,r,i){if((t=0!==(32&e.mode))&&(t=!1),t){if(e.flags|=16777216,(335544128&i)===i)if(e.stateNode.complete)e.flags|=8192;else{if(!rc())throw is=es,Ji;e.flags|=8192}}else e.flags&=-16777217}function ul(e,t){if("stylesheet"!==t.type||0!==(4&t.state.loading))e.flags&=-16777217;else if(e.flags|=16777216,!id(t)){if(!rc())throw is=es,Ji;e.flags|=8192}}function cl(e,t){null!==t&&(e.flags|=4),16384&e.flags&&(t=22!==e.tag?Pe():536870912,e.lanes|=t,ku|=t)}function hl(e,t){if(!hi)switch(e.tailMode){case"hidden":t=e.tail;for(var n=null;null!==t;)null!==t.alternate&&(n=t),t=t.sibling;null===n?e.tail=null:n.sibling=null;break;case"collapsed":n=e.tail;for(var r=null;null!==n;)null!==n.alternate&&(r=n),n=n.sibling;null===r?t||null===e.tail?e.tail=null:e.tail.sibling=null:r.sibling=null}}function dl(e){var t=null!==e.alternate&&e.alternate.child===e.child,n=0,r=0;if(t)for(var i=e.child;null!==i;)n|=i.lanes|i.childLanes,r|=65011712&i.subtreeFlags,r|=65011712&i.flags,i.return=e,i=i.sibling;else for(i=e.child;null!==i;)n|=i.lanes|i.childLanes,r|=i.subtreeFlags,r|=i.flags,i.return=e,i=i.sibling;return e.subtreeFlags|=r,e.childLanes=n,t}function fl(e,t,n){var r=t.pendingProps;switch(ai(t),t.tag){case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:case 1:return dl(t),null;case 3:return n=t.stateNode,r=null,null!==e&&(r=e.memoizedState.cache),t.memoizedState.cache!==r&&(t.flags|=2048),Ti(Bi),K(),n.pendingContext&&(n.context=n.pendingContext,n.pendingContext=null),null!==e&&null!==e.child||(vi(t)?al(t):null===e||e.memoizedState.isDehydrated&&0===(256&t.flags)||(t.flags|=1024,_i())),dl(t),null;case 26:var i=t.type,s=t.memoizedState;return null===e?(al(t),null!==s?(dl(t),ul(t,s)):(dl(t),ll(t,i,0,0,n))):s?s!==e.memoizedState?(al(t),dl(t),ul(t,s)):(dl(t),t.flags&=-16777217):((e=e.memoizedProps)!==r&&al(t),dl(t),ll(t,i,0,0,n)),null;case 27:if(Z(t),n=X.current,i=t.type,null!==e&&null!=t.stateNode)e.memoizedProps!==r&&al(t);else{if(!r){if(null===t.stateNode)throw Error(o(166));return dl(t),null}e=W.current,vi(t)?gi(t):(e=Fh(i,r,n),t.stateNode=e,al(t))}return dl(t),null;case 5:if(Z(t),i=t.type,null!==e&&null!=t.stateNode)e.memoizedProps!==r&&al(t);else{if(!r){if(null===t.stateNode)throw Error(o(166));return dl(t),null}if(s=W.current,vi(t))gi(t);else{var a=gh(X.current);switch(s){case 1:s=a.createElementNS("http://www.w3.org/2000/svg",i);break;case 2:s=a.createElementNS("http://www.w3.org/1998/Math/MathML",i);break;default:switch(i){case"svg":s=a.createElementNS("http://www.w3.org/2000/svg",i);break;case"math":s=a.createElementNS("http://www.w3.org/1998/Math/MathML",i);break;case"script":(s=a.createElement("div")).innerHTML="<script><\/script>",s=s.removeChild(s.firstChild);break;case"select":s="string"===typeof r.is?a.createElement("select",{is:r.is}):a.createElement("select"),r.multiple?s.multiple=!0:r.size&&(s.size=r.size);break;default:s="string"===typeof r.is?a.createElement(i,{is:r.is}):a.createElement(i)}}s[ze]=t,s[He]=r;e:for(a=t.child;null!==a;){if(5===a.tag||6===a.tag)s.appendChild(a.stateNode);else if(4!==a.tag&&27!==a.tag&&null!==a.child){a.child.return=a,a=a.child;continue}if(a===t)break e;for(;null===a.sibling;){if(null===a.return||a.return===t)break e;a=a.return}a.sibling.return=a.return,a=a.sibling}t.stateNode=s;e:switch(dh(s,i,r),i){case"button":case"input":case"select":case"textarea":r=!!r.autoFocus;break e;case"img":r=!0;break e;default:r=!1}r&&al(t)}}return dl(t),ll(t,t.type,null===e||e.memoizedProps,t.pendingProps,n),null;case 6:if(e&&null!=t.stateNode)e.memoizedProps!==r&&al(t);else{if("string"!==typeof r&&null===t.stateNode)throw Error(o(166));if(e=X.current,vi(t)){if(e=t.stateNode,n=t.memoizedProps,r=null,null!==(i=ui))switch(i.tag){case 27:case 5:r=i.memoizedProps}e[ze]=t,(e=!!(e.nodeValue===n||null!==r&&!0===r.suppressHydrationWarning||uh(e.nodeValue,n)))||mi(t,!0)}else(e=gh(e).createTextNode(r))[ze]=t,t.stateNode=e}return dl(t),null;case 31:if(n=t.memoizedState,null===e||null!==e.memoizedState){if(r=vi(t),null!==n){if(null===e){if(!r)throw Error(o(318));if(!(e=null!==(e=t.memoizedState)?e.dehydrated:null))throw Error(o(557));e[ze]=t}else bi(),0===(128&t.flags)&&(t.memoizedState=null),t.flags|=4;dl(t),e=!1}else n=_i(),null!==e&&null!==e.memoizedState&&(e.memoizedState.hydrationErrors=n),e=!0;if(!e)return 256&t.flags?(Bs(t),t):(Bs(t),null);if(0!==(128&t.flags))throw Error(o(558))}return dl(t),null;case 13:if(r=t.memoizedState,null===e||null!==e.memoizedState&&null!==e.memoizedState.dehydrated){if(i=vi(t),null!==r&&null!==r.dehydrated){if(null===e){if(!i)throw Error(o(318));if(!(i=null!==(i=t.memoizedState)?i.dehydrated:null))throw Error(o(317));i[ze]=t}else bi(),0===(128&t.flags)&&(t.memoizedState=null),t.flags|=4;dl(t),i=!1}else i=_i(),null!==e&&null!==e.memoizedState&&(e.memoizedState.hydrationErrors=i),i=!0;if(!i)return 256&t.flags?(Bs(t),t):(Bs(t),null)}return Bs(t),0!==(128&t.flags)?(t.lanes=n,t):(n=null!==r,e=null!==e&&null!==e.memoizedState,n&&(i=null,null!==(r=t.child).alternate&&null!==r.alternate.memoizedState&&null!==r.alternate.memoizedState.cachePool&&(i=r.alternate.memoizedState.cachePool.pool),s=null,null!==r.memoizedState&&null!==r.memoizedState.cachePool&&(s=r.memoizedState.cachePool.pool),s!==i&&(r.flags|=2048)),n!==e&&n&&(t.child.flags|=8192),cl(t,t.updateQueue),dl(t),null);case 4:return K(),null===e&&$c(t.stateNode.containerInfo),dl(t),null;case 10:return Ti(t.type),dl(t),null;case 19:if(G(Us),null===(r=t.memoizedState))return dl(t),null;if(i=0!==(128&t.flags),null===(s=r.rendering))if(i)hl(r,!1);else{if(0!==Au||null!==e&&0!==(128&e.flags))for(e=t.child;null!==e;){if(null!==(s=Gs(e))){for(t.flags|=128,hl(r,!1),e=s.updateQueue,t.updateQueue=e,cl(t,e),t.subtreeFlags=0,e=n,n=t.child;null!==n;)zr(n,e),n=n.sibling;return z(Us,1&Us.current|2),hi&&ii(t,r.treeForkCount),t.child}e=e.sibling}null!==r.tail&&le()>Ou&&(t.flags|=128,i=!0,hl(r,!1),t.lanes=4194304)}else{if(!i)if(null!==(e=Gs(s))){if(t.flags|=128,i=!0,e=e.updateQueue,t.updateQueue=e,cl(t,e),hl(r,!0),null===r.tail&&"hidden"===r.tailMode&&!s.alternate&&!hi)return dl(t),null}else 2*le()-r.renderingStartTime>Ou&&536870912!==n&&(t.flags|=128,i=!0,hl(r,!1),t.lanes=4194304);r.isBackwards?(s.sibling=t.child,t.child=s):(null!==(e=r.last)?e.sibling=s:t.child=s,r.last=s)}return null!==r.tail?(e=r.tail,r.rendering=e,r.tail=e.sibling,r.renderingStartTime=le(),e.sibling=null,n=Us.current,z(Us,i?1&n|2:1&n),hi&&ii(t,r.treeForkCount),e):(dl(t),null);case 22:case 23:return Bs(t),Is(),r=null!==t.memoizedState,null!==e?null!==e.memoizedState!==r&&(t.flags|=8192):r&&(t.flags|=8192),r?0!==(536870912&n)&&0===(128&t.flags)&&(dl(t),6&t.subtreeFlags&&(t.flags|=8192)):dl(t),null!==(n=t.updateQueue)&&cl(t,n.retryQueue),n=null,null!==e&&null!==e.memoizedState&&null!==e.memoizedState.cachePool&&(n=e.memoizedState.cachePool.pool),r=null,null!==t.memoizedState&&null!==t.memoizedState.cachePool&&(r=t.memoizedState.cachePool.pool),r!==n&&(t.flags|=2048),null!==e&&G(Yi),null;case 24:return n=null,null!==e&&(n=e.memoizedState.cache),t.memoizedState.cache!==n&&(t.flags|=2048),Ti(Bi),dl(t),null;case 25:case 30:return null}throw Error(o(156,t.tag))}function pl(e,t){switch(ai(t),t.tag){case 1:return 65536&(e=t.flags)?(t.flags=-65537&e|128,t):null;case 3:return Ti(Bi),K(),0!==(65536&(e=t.flags))&&0===(128&e)?(t.flags=-65537&e|128,t):null;case 26:case 27:case 5:return Z(t),null;case 31:if(null!==t.memoizedState){if(Bs(t),null===t.alternate)throw Error(o(340));bi()}return 65536&(e=t.flags)?(t.flags=-65537&e|128,t):null;case 13:if(Bs(t),null!==(e=t.memoizedState)&&null!==e.dehydrated){if(null===t.alternate)throw Error(o(340));bi()}return 65536&(e=t.flags)?(t.flags=-65537&e|128,t):null;case 19:return G(Us),null;case 4:return K(),null;case 10:return Ti(t.type),null;case 22:case 23:return Bs(t),Is(),null!==e&&G(Yi),65536&(e=t.flags)?(t.flags=-65537&e|128,t):null;case 24:return Ti(Bi),null;default:return null}}function ml(e,t){switch(ai(t),t.tag){case 3:Ti(Bi),K();break;case 26:case 27:case 5:Z(t);break;case 4:K();break;case 31:null!==t.memoizedState&&Bs(t);break;case 13:Bs(t);break;case 19:G(Us);break;case 10:Ti(t.type);break;case 22:case 23:Bs(t),Is(),null!==e&&G(Yi);break;case 24:Ti(Bi)}}function gl(e,t){try{var n=t.updateQueue,r=null!==n?n.lastEffect:null;if(null!==r){var i=r.next;n=i;do{if((n.tag&e)===e){r=void 0;var s=n.create,o=n.inst;r=s(),o.destroy=r}n=n.next}while(n!==i)}}catch(a){Ac(t,t.return,a)}}function yl(e,t,n){try{var r=t.updateQueue,i=null!==r?r.lastEffect:null;if(null!==i){var s=i.next;r=s;do{if((r.tag&e)===e){var o=r.inst,a=o.destroy;if(void 0!==a){o.destroy=void 0,i=t;var l=n,u=a;try{u()}catch(c){Ac(i,l,c)}}}r=r.next}while(r!==s)}}catch(c){Ac(t,t.return,c)}}function vl(e){var t=e.updateQueue;if(null!==t){var n=e.stateNode;try{Ts(t,n)}catch(r){Ac(e,e.return,r)}}}function bl(e,t,n){n.props=Aa(e.type,e.memoizedProps),n.state=e.memoizedState;try{n.componentWillUnmount()}catch(r){Ac(e,t,r)}}function _l(e,t){try{var n=e.ref;if(null!==n){switch(e.tag){case 26:case 27:case 5:var r=e.stateNode;break;default:r=e.stateNode}"function"===typeof n?e.refCleanup=n(r):n.current=r}}catch(i){Ac(e,t,i)}}function xl(e,t){var n=e.ref,r=e.refCleanup;if(null!==n)if("function"===typeof r)try{r()}catch(i){Ac(e,t,i)}finally{e.refCleanup=null,null!=(e=e.alternate)&&(e.refCleanup=null)}else if("function"===typeof n)try{n(null)}catch(s){Ac(e,t,s)}else n.current=null}function wl(e){var t=e.type,n=e.memoizedProps,r=e.stateNode;try{e:switch(t){case"button":case"input":case"select":case"textarea":n.autoFocus&&r.focus();break e;case"img":n.src?r.src=n.src:n.srcSet&&(r.srcset=n.srcSet)}}catch(i){Ac(e,e.return,i)}}function Al(e,t,n){try{var r=e.stateNode;!function(e,t,n,r){switch(t){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var i=null,s=null,a=null,l=null,u=null,c=null,h=null;for(p in n){var d=n[p];if(n.hasOwnProperty(p)&&null!=d)switch(p){case"checked":case"value":break;case"defaultValue":u=d;default:r.hasOwnProperty(p)||ch(e,t,p,null,r,d)}}for(var f in r){var p=r[f];if(d=n[f],r.hasOwnProperty(f)&&(null!=p||null!=d))switch(f){case"type":s=p;break;case"name":i=p;break;case"checked":c=p;break;case"defaultChecked":h=p;break;case"value":a=p;break;case"defaultValue":l=p;break;case"children":case"dangerouslySetInnerHTML":if(null!=p)throw Error(o(137,t));break;default:p!==d&&ch(e,t,f,p,r,d)}}return void vt(e,a,l,u,c,h,s,i);case"select":for(s in p=a=l=f=null,n)if(u=n[s],n.hasOwnProperty(s)&&null!=u)switch(s){case"value":break;case"multiple":p=u;default:r.hasOwnProperty(s)||ch(e,t,s,null,r,u)}for(i in r)if(s=r[i],u=n[i],r.hasOwnProperty(i)&&(null!=s||null!=u))switch(i){case"value":f=s;break;case"defaultValue":l=s;break;case"multiple":a=s;default:s!==u&&ch(e,t,i,s,r,u)}return t=l,n=a,r=p,void(null!=f?xt(e,!!n,f,!1):!!r!==!!n&&(null!=t?xt(e,!!n,t,!0):xt(e,!!n,n?[]:"",!1)));case"textarea":for(l in p=f=null,n)if(i=n[l],n.hasOwnProperty(l)&&null!=i&&!r.hasOwnProperty(l))switch(l){case"value":case"children":break;default:ch(e,t,l,null,r,i)}for(a in r)if(i=r[a],s=n[a],r.hasOwnProperty(a)&&(null!=i||null!=s))switch(a){case"value":f=i;break;case"defaultValue":p=i;break;case"children":break;case"dangerouslySetInnerHTML":if(null!=i)throw Error(o(91));break;default:i!==s&&ch(e,t,a,i,r,s)}return void wt(e,f,p);case"option":for(var m in n)if(f=n[m],n.hasOwnProperty(m)&&null!=f&&!r.hasOwnProperty(m))if("selected"===m)e.selected=!1;else ch(e,t,m,null,r,f);for(u in r)if(f=r[u],p=n[u],r.hasOwnProperty(u)&&f!==p&&(null!=f||null!=p))if("selected"===u)e.selected=f&&"function"!==typeof f&&"symbol"!==typeof f;else ch(e,t,u,f,r,p);return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var g in n)f=n[g],n.hasOwnProperty(g)&&null!=f&&!r.hasOwnProperty(g)&&ch(e,t,g,null,r,f);for(c in r)if(f=r[c],p=n[c],r.hasOwnProperty(c)&&f!==p&&(null!=f||null!=p))switch(c){case"children":case"dangerouslySetInnerHTML":if(null!=f)throw Error(o(137,t));break;default:ch(e,t,c,f,r,p)}return;default:if(kt(t)){for(var y in n)f=n[y],n.hasOwnProperty(y)&&void 0!==f&&!r.hasOwnProperty(y)&&hh(e,t,y,void 0,r,f);for(h in r)f=r[h],p=n[h],!r.hasOwnProperty(h)||f===p||void 0===f&&void 0===p||hh(e,t,h,f,r,p);return}}for(var v in n)f=n[v],n.hasOwnProperty(v)&&null!=f&&!r.hasOwnProperty(v)&&ch(e,t,v,null,r,f);for(d in r)f=r[d],p=n[d],!r.hasOwnProperty(d)||f===p||null==f&&null==p||ch(e,t,d,f,r,p)}(r,e.type,n,t),r[He]=t}catch(i){Ac(e,e.return,i)}}function El(e){return 5===e.tag||3===e.tag||26===e.tag||27===e.tag&&Th(e.type)||4===e.tag}function Sl(e){e:for(;;){for(;null===e.sibling;){if(null===e.return||El(e.return))return null;e=e.return}for(e.sibling.return=e.return,e=e.sibling;5!==e.tag&&6!==e.tag&&18!==e.tag;){if(27===e.tag&&Th(e.type))continue e;if(2&e.flags)continue e;if(null===e.child||4===e.tag)continue e;e.child.return=e,e=e.child}if(!(2&e.flags))return e.stateNode}}function Tl(e,t,n){var r=e.tag;if(5===r||6===r)e=e.stateNode,t?(9===n.nodeType?n.body:"HTML"===n.nodeName?n.ownerDocument.body:n).insertBefore(e,t):((t=9===n.nodeType?n.body:"HTML"===n.nodeName?n.ownerDocument.body:n).appendChild(e),null!==(n=n._reactRootContainer)&&void 0!==n||null!==t.onclick||(t.onclick=Mt));else if(4!==r&&(27===r&&Th(e.type)&&(n=e.stateNode,t=null),null!==(e=e.child)))for(Tl(e,t,n),e=e.sibling;null!==e;)Tl(e,t,n),e=e.sibling}function Cl(e,t,n){var r=e.tag;if(5===r||6===r)e=e.stateNode,t?n.insertBefore(e,t):n.appendChild(e);else if(4!==r&&(27===r&&Th(e.type)&&(n=e.stateNode),null!==(e=e.child)))for(Cl(e,t,n),e=e.sibling;null!==e;)Cl(e,t,n),e=e.sibling}function kl(e){var t=e.stateNode,n=e.memoizedProps;try{for(var r=e.type,i=t.attributes;i.length;)t.removeAttributeNode(i[0]);dh(t,r,n),t[ze]=e,t[He]=n}catch(s){Ac(e,e.return,s)}}var Rl=!1,Pl=!1,Il=!1,Ml="function"===typeof WeakSet?WeakSet:Set,Dl=null;function Ol(e,t,n){var r=n.flags;switch(n.tag){case 0:case 11:case 15:ql(e,n),4&r&&gl(5,n);break;case 1:if(ql(e,n),4&r)if(e=n.stateNode,null===t)try{e.componentDidMount()}catch(o){Ac(n,n.return,o)}else{var i=Aa(n.type,t.memoizedProps);t=t.memoizedState;try{e.componentDidUpdate(i,t,e.__reactInternalSnapshotBeforeUpdate)}catch(a){Ac(n,n.return,a)}}64&r&&vl(n),512&r&&_l(n,n.return);break;case 3:if(ql(e,n),64&r&&null!==(e=n.updateQueue)){if(t=null,null!==n.child)switch(n.child.tag){case 27:case 5:case 1:t=n.child.stateNode}try{Ts(e,t)}catch(o){Ac(n,n.return,o)}}break;case 27:null===t&&4&r&&kl(n);case 26:case 5:ql(e,n),null===t&&4&r&&wl(n),512&r&&_l(n,n.return);break;case 12:ql(e,n);break;case 31:ql(e,n),4&r&&Gl(e,n);break;case 13:ql(e,n),4&r&&zl(e,n),64&r&&(null!==(e=n.memoizedState)&&(null!==(e=e.dehydrated)&&function(e,t){var n=e.ownerDocument;if("$~"===e.data)e._reactRetry=t;else if("$?"!==e.data||"loading"!==n.readyState)t();else{var r=function(){t(),n.removeEventListener("DOMContentLoaded",r)};n.addEventListener("DOMContentLoaded",r),e._reactRetry=r}}(e,n=Cc.bind(null,n))));break;case 22:if(!(r=null!==n.memoizedState||Rl)){t=null!==t&&null!==t.memoizedState||Pl,i=Rl;var s=Pl;Rl=r,(Pl=t)&&!s?Ql(e,n,0!==(8772&n.subtreeFlags)):ql(e,n),Rl=i,Pl=s}break;case 30:break;default:ql(e,n)}}function Ll(e){var t=e.alternate;null!==t&&(e.alternate=null,Ll(t)),e.child=null,e.deletions=null,e.sibling=null,5===e.tag&&(null!==(t=e.stateNode)&&Ke(t)),e.stateNode=null,e.return=null,e.dependencies=null,e.memoizedProps=null,e.memoizedState=null,e.pendingProps=null,e.stateNode=null,e.updateQueue=null}var Nl=null,Fl=!1;function Bl(e,t,n){for(n=n.child;null!==n;)Ul(e,t,n),n=n.sibling}function Ul(e,t,n){if(ve&&"function"===typeof ve.onCommitFiberUnmount)try{ve.onCommitFiberUnmount(ye,n)}catch(s){}switch(n.tag){case 26:Pl||xl(n,t),Bl(e,t,n),n.memoizedState?n.memoizedState.count--:n.stateNode&&(n=n.stateNode).parentNode.removeChild(n);break;case 27:Pl||xl(n,t);var r=Nl,i=Fl;Th(n.type)&&(Nl=n.stateNode,Fl=!1),Bl(e,t,n),Bh(n.stateNode),Nl=r,Fl=i;break;case 5:Pl||xl(n,t);case 6:if(r=Nl,i=Fl,Nl=null,Bl(e,t,n),Fl=i,null!==(Nl=r))if(Fl)try{(9===Nl.nodeType?Nl.body:"HTML"===Nl.nodeName?Nl.ownerDocument.body:Nl).removeChild(n.stateNode)}catch(o){Ac(n,t,o)}else try{Nl.removeChild(n.stateNode)}catch(o){Ac(n,t,o)}break;case 18:null!==Nl&&(Fl?(Ch(9===(e=Nl).nodeType?e.body:"HTML"===e.nodeName?e.ownerDocument.body:e,n.stateNode),Wd(e)):Ch(Nl,n.stateNode));break;case 4:r=Nl,i=Fl,Nl=n.stateNode.containerInfo,Fl=!0,Bl(e,t,n),Nl=r,Fl=i;break;case 0:case 11:case 14:case 15:yl(2,n,t),Pl||yl(4,n,t),Bl(e,t,n);break;case 1:Pl||(xl(n,t),"function"===typeof(r=n.stateNode).componentWillUnmount&&bl(n,t,r)),Bl(e,t,n);break;case 21:Bl(e,t,n);break;case 22:Pl=(r=Pl)||null!==n.memoizedState,Bl(e,t,n),Pl=r;break;default:Bl(e,t,n)}}function Gl(e,t){if(null===t.memoizedState&&(null!==(e=t.alternate)&&null!==(e=e.memoizedState))){e=e.dehydrated;try{Wd(e)}catch(n){Ac(t,t.return,n)}}}function zl(e,t){if(null===t.memoizedState&&(null!==(e=t.alternate)&&(null!==(e=e.memoizedState)&&null!==(e=e.dehydrated))))try{Wd(e)}catch(n){Ac(t,t.return,n)}}function Hl(e,t){var n=function(e){switch(e.tag){case 31:case 13:case 19:var t=e.stateNode;return null===t&&(t=e.stateNode=new Ml),t;case 22:return null===(t=(e=e.stateNode)._retryCache)&&(t=e._retryCache=new Ml),t;default:throw Error(o(435,e.tag))}}(e);t.forEach(function(t){if(!n.has(t)){n.add(t);var r=kc.bind(null,e,t);t.then(r,r)}})}function jl(e,t){var n=t.deletions;if(null!==n)for(var r=0;r<n.length;r++){var i=n[r],s=e,a=t,l=a;e:for(;null!==l;){switch(l.tag){case 27:if(Th(l.type)){Nl=l.stateNode,Fl=!1;break e}break;case 5:Nl=l.stateNode,Fl=!1;break e;case 3:case 4:Nl=l.stateNode.containerInfo,Fl=!0;break e}l=l.return}if(null===Nl)throw Error(o(160));Ul(s,a,i),Nl=null,Fl=!1,null!==(s=i.alternate)&&(s.return=null),i.return=null}if(13886&t.subtreeFlags)for(t=t.child;null!==t;)Vl(t,e),t=t.sibling}var Wl=null;function Vl(e,t){var n=e.alternate,r=e.flags;switch(e.tag){case 0:case 11:case 14:case 15:jl(t,e),Xl(e),4&r&&(yl(3,e,e.return),gl(3,e),yl(5,e,e.return));break;case 1:jl(t,e),Xl(e),512&r&&(Pl||null===n||xl(n,n.return)),64&r&&Rl&&(null!==(e=e.updateQueue)&&(null!==(r=e.callbacks)&&(n=e.shared.hiddenCallbacks,e.shared.hiddenCallbacks=null===n?r:n.concat(r))));break;case 26:var i=Wl;if(jl(t,e),Xl(e),512&r&&(Pl||null===n||xl(n,n.return)),4&r){var s=null!==n?n.memoizedState:null;if(r=e.memoizedState,null===n)if(null===r)if(null===e.stateNode){e:{r=e.type,n=e.memoizedProps,i=i.ownerDocument||i;t:switch(r){case"title":(!(s=i.getElementsByTagName("title")[0])||s[qe]||s[ze]||"http://www.w3.org/2000/svg"===s.namespaceURI||s.hasAttribute("itemprop"))&&(s=i.createElement(r),i.head.insertBefore(s,i.querySelector("head > title"))),dh(s,r,n),s[ze]=e,et(s),r=s;break e;case"link":var a=nd("link","href",i).get(r+(n.href||""));if(a)for(var l=0;l<a.length;l++)if((s=a[l]).getAttribute("href")===(null==n.href||""===n.href?null:n.href)&&s.getAttribute("rel")===(null==n.rel?null:n.rel)&&s.getAttribute("title")===(null==n.title?null:n.title)&&s.getAttribute("crossorigin")===(null==n.crossOrigin?null:n.crossOrigin)){a.splice(l,1);break t}dh(s=i.createElement(r),r,n),i.head.appendChild(s);break;case"meta":if(a=nd("meta","content",i).get(r+(n.content||"")))for(l=0;l<a.length;l++)if((s=a[l]).getAttribute("content")===(null==n.content?null:""+n.content)&&s.getAttribute("name")===(null==n.name?null:n.name)&&s.getAttribute("property")===(null==n.property?null:n.property)&&s.getAttribute("http-equiv")===(null==n.httpEquiv?null:n.httpEquiv)&&s.getAttribute("charset")===(null==n.charSet?null:n.charSet)){a.splice(l,1);break t}dh(s=i.createElement(r),r,n),i.head.appendChild(s);break;default:throw Error(o(468,r))}s[ze]=e,et(s),r=s}e.stateNode=r}else rd(i,e.type,e.stateNode);else e.stateNode=Zh(i,r,e.memoizedProps);else s!==r?(null===s?null!==n.stateNode&&(n=n.stateNode).parentNode.removeChild(n):s.count--,null===r?rd(i,e.type,e.stateNode):Zh(i,r,e.memoizedProps)):null===r&&null!==e.stateNode&&Al(e,e.memoizedProps,n.memoizedProps)}break;case 27:jl(t,e),Xl(e),512&r&&(Pl||null===n||xl(n,n.return)),null!==n&&4&r&&Al(e,e.memoizedProps,n.memoizedProps);break;case 5:if(jl(t,e),Xl(e),512&r&&(Pl||null===n||xl(n,n.return)),32&e.flags){i=e.stateNode;try{Et(i,"")}catch(m){Ac(e,e.return,m)}}4&r&&null!=e.stateNode&&Al(e,i=e.memoizedProps,null!==n?n.memoizedProps:i),1024&r&&(Il=!0);break;case 6:if(jl(t,e),Xl(e),4&r){if(null===e.stateNode)throw Error(o(162));r=e.memoizedProps,n=e.stateNode;try{n.nodeValue=r}catch(m){Ac(e,e.return,m)}}break;case 3:if(td=null,i=Wl,Wl=zh(t.containerInfo),jl(t,e),Wl=i,Xl(e),4&r&&null!==n&&n.memoizedState.isDehydrated)try{Wd(t.containerInfo)}catch(m){Ac(e,e.return,m)}Il&&(Il=!1,Yl(e));break;case 4:r=Wl,Wl=zh(e.stateNode.containerInfo),jl(t,e),Xl(e),Wl=r;break;case 12:default:jl(t,e),Xl(e);break;case 31:case 19:jl(t,e),Xl(e),4&r&&(null!==(r=e.updateQueue)&&(e.updateQueue=null,Hl(e,r)));break;case 13:jl(t,e),Xl(e),8192&e.child.flags&&null!==e.memoizedState!==(null!==n&&null!==n.memoizedState)&&(Mu=le()),4&r&&(null!==(r=e.updateQueue)&&(e.updateQueue=null,Hl(e,r)));break;case 22:i=null!==e.memoizedState;var u=null!==n&&null!==n.memoizedState,c=Rl,h=Pl;if(Rl=c||i,Pl=h||u,jl(t,e),Pl=h,Rl=c,Xl(e),8192&r)e:for(t=e.stateNode,t._visibility=i?-2&t._visibility:1|t._visibility,i&&(null===n||u||Rl||Pl||Kl(e)),n=null,t=e;;){if(5===t.tag||26===t.tag){if(null===n){u=n=t;try{if(s=u.stateNode,i)"function"===typeof(a=s.style).setProperty?a.setProperty("display","none","important"):a.display="none";else{l=u.stateNode;var d=u.memoizedProps.style,f=void 0!==d&&null!==d&&d.hasOwnProperty("display")?d.display:null;l.style.display=null==f||"boolean"===typeof f?"":(""+f).trim()}}catch(m){Ac(u,u.return,m)}}}else if(6===t.tag){if(null===n){u=t;try{u.stateNode.nodeValue=i?"":u.memoizedProps}catch(m){Ac(u,u.return,m)}}}else if(18===t.tag){if(null===n){u=t;try{var p=u.stateNode;i?kh(p,!0):kh(u.stateNode,!1)}catch(m){Ac(u,u.return,m)}}}else if((22!==t.tag&&23!==t.tag||null===t.memoizedState||t===e)&&null!==t.child){t.child.return=t,t=t.child;continue}if(t===e)break e;for(;null===t.sibling;){if(null===t.return||t.return===e)break e;n===t&&(n=null),t=t.return}n===t&&(n=null),t.sibling.return=t.return,t=t.sibling}4&r&&(null!==(r=e.updateQueue)&&(null!==(n=r.retryQueue)&&(r.retryQueue=null,Hl(e,n))));case 30:case 21:}}function Xl(e){var t=e.flags;if(2&t){try{for(var n,r=e.return;null!==r;){if(El(r)){n=r;break}r=r.return}if(null==n)throw Error(o(160));switch(n.tag){case 27:var i=n.stateNode;Cl(e,Sl(e),i);break;case 5:var s=n.stateNode;32&n.flags&&(Et(s,""),n.flags&=-33),Cl(e,Sl(e),s);break;case 3:case 4:var a=n.stateNode.containerInfo;Tl(e,Sl(e),a);break;default:throw Error(o(161))}}catch(l){Ac(e,e.return,l)}e.flags&=-3}4096&t&&(e.flags&=-4097)}function Yl(e){if(1024&e.subtreeFlags)for(e=e.child;null!==e;){var t=e;Yl(t),5===t.tag&&1024&t.flags&&t.stateNode.reset(),e=e.sibling}}function ql(e,t){if(8772&t.subtreeFlags)for(t=t.child;null!==t;)Ol(e,t.alternate,t),t=t.sibling}function Kl(e){for(e=e.child;null!==e;){var t=e;switch(t.tag){case 0:case 11:case 14:case 15:yl(4,t,t.return),Kl(t);break;case 1:xl(t,t.return);var n=t.stateNode;"function"===typeof n.componentWillUnmount&&bl(t,t.return,n),Kl(t);break;case 27:Bh(t.stateNode);case 26:case 5:xl(t,t.return),Kl(t);break;case 22:null===t.memoizedState&&Kl(t);break;default:Kl(t)}e=e.sibling}}function Ql(e,t,n){for(n=n&&0!==(8772&t.subtreeFlags),t=t.child;null!==t;){var r=t.alternate,i=e,s=t,o=s.flags;switch(s.tag){case 0:case 11:case 15:Ql(i,s,n),gl(4,s);break;case 1:if(Ql(i,s,n),"function"===typeof(i=(r=s).stateNode).componentDidMount)try{i.componentDidMount()}catch(u){Ac(r,r.return,u)}if(null!==(i=(r=s).updateQueue)){var a=r.stateNode;try{var l=i.shared.hiddenCallbacks;if(null!==l)for(i.shared.hiddenCallbacks=null,i=0;i<l.length;i++)Ss(l[i],a)}catch(u){Ac(r,r.return,u)}}n&&64&o&&vl(s),_l(s,s.return);break;case 27:kl(s);case 26:case 5:Ql(i,s,n),n&&null===r&&4&o&&wl(s),_l(s,s.return);break;case 12:Ql(i,s,n);break;case 31:Ql(i,s,n),n&&4&o&&Gl(i,s);break;case 13:Ql(i,s,n),n&&4&o&&zl(i,s);break;case 22:null===s.memoizedState&&Ql(i,s,n),_l(s,s.return);break;case 30:break;default:Ql(i,s,n)}t=t.sibling}}function Zl(e,t){var n=null;null!==e&&null!==e.memoizedState&&null!==e.memoizedState.cachePool&&(n=e.memoizedState.cachePool.pool),e=null,null!==t.memoizedState&&null!==t.memoizedState.cachePool&&(e=t.memoizedState.cachePool.pool),e!==n&&(null!=e&&e.refCount++,null!=n&&Gi(n))}function Jl(e,t){e=null,null!==t.alternate&&(e=t.alternate.memoizedState.cache),(t=t.memoizedState.cache)!==e&&(t.refCount++,null!=e&&Gi(e))}function $l(e,t,n,r){if(10256&t.subtreeFlags)for(t=t.child;null!==t;)eu(e,t,n,r),t=t.sibling}function eu(e,t,n,r){var i=t.flags;switch(t.tag){case 0:case 11:case 15:$l(e,t,n,r),2048&i&&gl(9,t);break;case 1:case 31:case 13:default:$l(e,t,n,r);break;case 3:$l(e,t,n,r),2048&i&&(e=null,null!==t.alternate&&(e=t.alternate.memoizedState.cache),(t=t.memoizedState.cache)!==e&&(t.refCount++,null!=e&&Gi(e)));break;case 12:if(2048&i){$l(e,t,n,r),e=t.stateNode;try{var s=t.memoizedProps,o=s.id,a=s.onPostCommit;"function"===typeof a&&a(o,null===t.alternate?"mount":"update",e.passiveEffectDuration,-0)}catch(l){Ac(t,t.return,l)}}else $l(e,t,n,r);break;case 23:break;case 22:s=t.stateNode,o=t.alternate,null!==t.memoizedState?2&s._visibility?$l(e,t,n,r):nu(e,t):2&s._visibility?$l(e,t,n,r):(s._visibility|=2,tu(e,t,n,r,0!==(10256&t.subtreeFlags)||!1)),2048&i&&Zl(o,t);break;case 24:$l(e,t,n,r),2048&i&&Jl(t.alternate,t)}}function tu(e,t,n,r,i){for(i=i&&(0!==(10256&t.subtreeFlags)||!1),t=t.child;null!==t;){var s=e,o=t,a=n,l=r,u=o.flags;switch(o.tag){case 0:case 11:case 15:tu(s,o,a,l,i),gl(8,o);break;case 23:break;case 22:var c=o.stateNode;null!==o.memoizedState?2&c._visibility?tu(s,o,a,l,i):nu(s,o):(c._visibility|=2,tu(s,o,a,l,i)),i&&2048&u&&Zl(o.alternate,o);break;case 24:tu(s,o,a,l,i),i&&2048&u&&Jl(o.alternate,o);break;default:tu(s,o,a,l,i)}t=t.sibling}}function nu(e,t){if(10256&t.subtreeFlags)for(t=t.child;null!==t;){var n=e,r=t,i=r.flags;switch(r.tag){case 22:nu(n,r),2048&i&&Zl(r.alternate,r);break;case 24:nu(n,r),2048&i&&Jl(r.alternate,r);break;default:nu(n,r)}t=t.sibling}}var ru=8192;function iu(e,t,n){if(e.subtreeFlags&ru)for(e=e.child;null!==e;)su(e,t,n),e=e.sibling}function su(e,t,n){switch(e.tag){case 26:iu(e,t,n),e.flags&ru&&null!==e.memoizedState&&function(e,t,n,r){if("stylesheet"===n.type&&("string"!==typeof r.media||!1!==matchMedia(r.media).matches)&&0===(4&n.state.loading)){if(null===n.instance){var i=Xh(r.href),s=t.querySelector(Yh(i));if(s)return null!==(t=s._p)&&"object"===typeof t&&"function"===typeof t.then&&(e.count++,e=od.bind(e),t.then(e,e)),n.state.loading|=4,n.instance=s,void et(s);s=t.ownerDocument||t,r=qh(r),(i=Uh.get(i))&&$h(r,i),et(s=s.createElement("link"));var o=s;o._p=new Promise(function(e,t){o.onload=e,o.onerror=t}),dh(s,"link",r),n.instance=s}null===e.stylesheets&&(e.stylesheets=new Map),e.stylesheets.set(n,t),(t=n.state.preload)&&0===(3&n.state.loading)&&(e.count++,n=od.bind(e),t.addEventListener("load",n),t.addEventListener("error",n))}}(n,Wl,e.memoizedState,e.memoizedProps);break;case 5:default:iu(e,t,n);break;case 3:case 4:var r=Wl;Wl=zh(e.stateNode.containerInfo),iu(e,t,n),Wl=r;break;case 22:null===e.memoizedState&&(null!==(r=e.alternate)&&null!==r.memoizedState?(r=ru,ru=16777216,iu(e,t,n),ru=r):iu(e,t,n))}}function ou(e){var t=e.alternate;if(null!==t&&null!==(e=t.child)){t.child=null;do{t=e.sibling,e.sibling=null,e=t}while(null!==e)}}function au(e){var t=e.deletions;if(0!==(16&e.flags)){if(null!==t)for(var n=0;n<t.length;n++){var r=t[n];Dl=r,cu(r,e)}ou(e)}if(10256&e.subtreeFlags)for(e=e.child;null!==e;)lu(e),e=e.sibling}function lu(e){switch(e.tag){case 0:case 11:case 15:au(e),2048&e.flags&&yl(9,e,e.return);break;case 3:case 12:default:au(e);break;case 22:var t=e.stateNode;null!==e.memoizedState&&2&t._visibility&&(null===e.return||13!==e.return.tag)?(t._visibility&=-3,uu(e)):au(e)}}function uu(e){var t=e.deletions;if(0!==(16&e.flags)){if(null!==t)for(var n=0;n<t.length;n++){var r=t[n];Dl=r,cu(r,e)}ou(e)}for(e=e.child;null!==e;){switch((t=e).tag){case 0:case 11:case 15:yl(8,t,t.return),uu(t);break;case 22:2&(n=t.stateNode)._visibility&&(n._visibility&=-3,uu(t));break;default:uu(t)}e=e.sibling}}function cu(e,t){for(;null!==Dl;){var n=Dl;switch(n.tag){case 0:case 11:case 15:yl(8,n,t);break;case 23:case 22:if(null!==n.memoizedState&&null!==n.memoizedState.cachePool){var r=n.memoizedState.cachePool.pool;null!=r&&r.refCount++}break;case 24:Gi(n.memoizedState.cache)}if(null!==(r=n.child))r.return=n,Dl=r;else e:for(n=e;null!==Dl;){var i=(r=Dl).sibling,s=r.return;if(Ll(r),r===n){Dl=null;break e}if(null!==i){i.return=s,Dl=i;break e}Dl=s}}}var hu={getCacheForType:function(e){var t=Mi(Bi),n=t.data.get(e);return void 0===n&&(n=e(),t.data.set(e,n)),n},cacheSignal:function(){return Mi(Bi).controller.signal}},du="function"===typeof WeakMap?WeakMap:Map,fu=0,pu=null,mu=null,gu=0,yu=0,vu=null,bu=!1,_u=!1,xu=!1,wu=0,Au=0,Eu=0,Su=0,Tu=0,Cu=0,ku=0,Ru=null,Pu=null,Iu=!1,Mu=0,Du=0,Ou=1/0,Lu=null,Nu=null,Fu=0,Bu=null,Uu=null,Gu=0,zu=0,Hu=null,ju=null,Wu=0,Vu=null;function Xu(){return 0!==(2&fu)&&0!==gu?gu&-gu:null!==O.T?Hc():Be()}function Yu(){if(0===Cu)if(0===(536870912&gu)||hi){var e=Ee;0===(3932160&(Ee<<=1))&&(Ee=262144),Cu=e}else Cu=536870912;return null!==(e=Ms.current)&&(e.flags|=32),Cu}function qu(e,t,n){(e!==pu||2!==yu&&9!==yu)&&null===e.cancelPendingCommit||(tc(e,0),Ju(e,gu,Cu,!1)),Me(e,n),0!==(2&fu)&&e===pu||(e===pu&&(0===(2&fu)&&(Su|=n),4===Au&&Ju(e,gu,Cu,!1)),Lc(e))}function Ku(e,t,n){if(0!==(6&fu))throw Error(o(327));for(var r=!n&&0===(127&t)&&0===(t&e.expiredLanes)||ke(e,t),i=r?function(e,t){var n=fu;fu|=2;var r=ic(),i=sc();pu!==e||gu!==t?(Lu=null,Ou=le()+500,tc(e,t)):_u=ke(e,t);e:for(;;)try{if(0!==yu&&null!==mu){t=mu;var s=vu;t:switch(yu){case 1:yu=0,vu=null,dc(e,t,s,1);break;case 2:case 9:if(ts(s)){yu=0,vu=null,hc(t);break}t=function(){2!==yu&&9!==yu||pu!==e||(yu=7),Lc(e)},s.then(t,t);break e;case 3:yu=7;break e;case 4:yu=5;break e;case 7:ts(s)?(yu=0,vu=null,hc(t)):(yu=0,vu=null,dc(e,t,s,7));break;case 5:var a=null;switch(mu.tag){case 26:a=mu.memoizedState;case 5:case 27:var l=mu;if(a?id(a):l.stateNode.complete){yu=0,vu=null;var u=l.sibling;if(null!==u)mu=u;else{var c=l.return;null!==c?(mu=c,fc(c)):mu=null}break t}}yu=0,vu=null,dc(e,t,s,5);break;case 6:yu=0,vu=null,dc(e,t,s,6);break;case 8:ec(),Au=6;break e;default:throw Error(o(462))}}uc();break}catch(h){nc(e,h)}return Ei=Ai=null,O.H=r,O.A=i,fu=n,null!==mu?0:(pu=null,gu=0,Pr(),Au)}(e,t):ac(e,t,!0),s=r;;){if(0===i){_u&&!r&&Ju(e,t,0,!1);break}if(n=e.current.alternate,!s||Zu(n)){if(2===i){if(s=t,e.errorRecoveryDisabledLanes&s)var a=0;else a=0!==(a=-536870913&e.pendingLanes)?a:536870912&a?536870912:0;if(0!==a){t=a;e:{var l=e;i=Ru;var u=l.current.memoizedState.isDehydrated;if(u&&(tc(l,a).flags|=256),2!==(a=ac(l,a,!1))){if(xu&&!u){l.errorRecoveryDisabledLanes|=s,Su|=s,i=4;break e}s=Pu,Pu=i,null!==s&&(null===Pu?Pu=s:Pu.push.apply(Pu,s))}i=a}if(s=!1,2!==i)continue}}if(1===i){tc(e,0),Ju(e,t,0,!0);break}e:{switch(r=e,s=i){case 0:case 1:throw Error(o(345));case 4:if((4194048&t)!==t)break;case 6:Ju(r,t,Cu,!bu);break e;case 2:Pu=null;break;case 3:case 5:break;default:throw Error(o(329))}if((62914560&t)===t&&10<(i=Mu+300-le())){if(Ju(r,t,Cu,!bu),0!==Ce(r,0,!0))break e;Gu=t,r.timeoutHandle=xh(Qu.bind(null,r,n,Pu,Lu,Iu,t,Cu,Su,ku,bu,s,"Throttled",-0,0),i)}else Qu(r,n,Pu,Lu,Iu,t,Cu,Su,ku,bu,s,null,-0,0)}break}i=ac(e,t,!1),s=!1}Lc(e)}function Qu(e,t,n,r,i,s,o,a,l,u,c,h,d,f){if(e.timeoutHandle=-1,8192&(h=t.subtreeFlags)||16785408===(16785408&h)){su(t,s,h={stylesheets:null,count:0,imgCount:0,imgBytes:0,suspenseyImages:[],waitingForImages:!0,waitingForViewTransition:!1,unsuspend:Mt});var p=(62914560&s)===s?Mu-le():(4194048&s)===s?Du-le():0;if(null!==(p=function(e,t){return e.stylesheets&&0===e.count&&ld(e,e.stylesheets),0<e.count||0<e.imgCount?function(n){var r=setTimeout(function(){if(e.stylesheets&&ld(e,e.stylesheets),e.unsuspend){var t=e.unsuspend;e.unsuspend=null,t()}},6e4+t);0<e.imgBytes&&0===sd&&(sd=62500*function(){if("function"===typeof performance.getEntriesByType){for(var e=0,t=0,n=performance.getEntriesByType("resource"),r=0;r<n.length;r++){var i=n[r],s=i.transferSize,o=i.initiatorType,a=i.duration;if(s&&a&&fh(o)){for(o=0,a=i.responseEnd,r+=1;r<n.length;r++){var l=n[r],u=l.startTime;if(u>a)break;var c=l.transferSize,h=l.initiatorType;c&&fh(h)&&(o+=c*((l=l.responseEnd)<a?1:(a-u)/(l-u)))}if(--r,t+=8*(s+o)/(i.duration/1e3),10<++e)break}}if(0<e)return t/e/1e6}return navigator.connection&&"number"===typeof(e=navigator.connection.downlink)?e:5}());var i=setTimeout(function(){if(e.waitingForImages=!1,0===e.count&&(e.stylesheets&&ld(e,e.stylesheets),e.unsuspend)){var t=e.unsuspend;e.unsuspend=null,t()}},(e.imgBytes>sd?50:800)+t);return e.unsuspend=n,function(){e.unsuspend=null,clearTimeout(r),clearTimeout(i)}}:null}(h,p)))return Gu=s,e.cancelPendingCommit=p(mc.bind(null,e,t,s,n,r,i,o,a,l,c,h,null,d,f)),void Ju(e,s,o,!u)}mc(e,t,s,n,r,i,o,a,l)}function Zu(e){for(var t=e;;){var n=t.tag;if((0===n||11===n||15===n)&&16384&t.flags&&(null!==(n=t.updateQueue)&&null!==(n=n.stores)))for(var r=0;r<n.length;r++){var i=n[r],s=i.getSnapshot;i=i.value;try{if(!Jn(s(),i))return!1}catch(o){return!1}}if(n=t.child,16384&t.subtreeFlags&&null!==n)n.return=t,t=n;else{if(t===e)break;for(;null===t.sibling;){if(null===t.return||t.return===e)return!0;t=t.return}t.sibling.return=t.return,t=t.sibling}}return!0}function Ju(e,t,n,r){t&=~Tu,t&=~Su,e.suspendedLanes|=t,e.pingedLanes&=~t,r&&(e.warmLanes|=t),r=e.expirationTimes;for(var i=t;0<i;){var s=31-_e(i),o=1<<s;r[s]=-1,i&=~o}0!==n&&De(e,n,t)}function $u(){return 0!==(6&fu)||(Nc(0,!1),!1)}function ec(){if(null!==mu){if(0===yu)var e=mu.return;else Ei=Ai=null,oo(e=mu),as=null,ls=0,e=mu;for(;null!==e;)ml(e.alternate,e),e=e.return;mu=null}}function tc(e,t){var n=e.timeoutHandle;-1!==n&&(e.timeoutHandle=-1,wh(n)),null!==(n=e.cancelPendingCommit)&&(e.cancelPendingCommit=null,n()),Gu=0,ec(),pu=e,mu=n=Gr(e.current,null),gu=t,yu=0,vu=null,bu=!1,_u=ke(e,t),xu=!1,ku=Cu=Tu=Su=Eu=Au=0,Pu=Ru=null,Iu=!1,0!==(8&t)&&(t|=32&t);var r=e.entangledLanes;if(0!==r)for(e=e.entanglements,r&=t;0<r;){var i=31-_e(r),s=1<<i;t|=e[i],r&=~s}return wu=t,Pr(),n}function nc(e,t){Hs=null,O.H=ma,t===Zi||t===$i?(t=ss(),yu=3):t===Ji?(t=ss(),yu=4):yu=t===Ma?8:null!==t&&"object"===typeof t&&"function"===typeof t.then?6:1,vu=t,null===mu&&(Au=1,Ca(e,qr(t,e.current)))}function rc(){var e=Ms.current;return null===e||((4194048&gu)===gu?null===Ds:((62914560&gu)===gu||0!==(536870912&gu))&&e===Ds)}function ic(){var e=O.H;return O.H=ma,null===e?ma:e}function sc(){var e=O.A;return O.A=hu,e}function oc(){Au=4,bu||(4194048&gu)!==gu&&null!==Ms.current||(_u=!0),0===(134217727&Eu)&&0===(134217727&Su)||null===pu||Ju(pu,gu,Cu,!1)}function ac(e,t,n){var r=fu;fu|=2;var i=ic(),s=sc();pu===e&&gu===t||(Lu=null,tc(e,t)),t=!1;var o=Au;e:for(;;)try{if(0!==yu&&null!==mu){var a=mu,l=vu;switch(yu){case 8:ec(),o=6;break e;case 3:case 2:case 9:case 6:null===Ms.current&&(t=!0);var u=yu;if(yu=0,vu=null,dc(e,a,l,u),n&&_u){o=0;break e}break;default:u=yu,yu=0,vu=null,dc(e,a,l,u)}}lc(),o=Au;break}catch(c){nc(e,c)}return t&&e.shellSuspendCounter++,Ei=Ai=null,fu=r,O.H=i,O.A=s,null===mu&&(pu=null,gu=0,Pr()),o}function lc(){for(;null!==mu;)cc(mu)}function uc(){for(;null!==mu&&!oe();)cc(mu)}function cc(e){var t=ol(e.alternate,e,wu);e.memoizedProps=e.pendingProps,null===t?fc(e):mu=t}function hc(e){var t=e,n=t.alternate;switch(t.tag){case 15:case 0:t=Va(n,t,t.pendingProps,t.type,void 0,gu);break;case 11:t=Va(n,t,t.pendingProps,t.type.render,t.ref,gu);break;case 5:oo(t);default:ml(n,t),t=ol(n,t=mu=zr(t,wu),wu)}e.memoizedProps=e.pendingProps,null===t?fc(e):mu=t}function dc(e,t,n,r){Ei=Ai=null,oo(t),as=null,ls=0;var i=t.return;try{if(function(e,t,n,r,i){if(n.flags|=32768,null!==r&&"object"===typeof r&&"function"===typeof r.then){if(null!==(t=n.alternate)&&Ri(t,n,i,!0),null!==(n=Ms.current)){switch(n.tag){case 31:case 13:return null===Ds?oc():null===n.alternate&&0===Au&&(Au=3),n.flags&=-257,n.flags|=65536,n.lanes=i,r===es?n.flags|=16384:(null===(t=n.updateQueue)?n.updateQueue=new Set([r]):t.add(r),Ec(e,r,i)),!1;case 22:return n.flags|=65536,r===es?n.flags|=16384:(null===(t=n.updateQueue)?(t={transitions:null,markerInstances:null,retryQueue:new Set([r])},n.updateQueue=t):null===(n=t.retryQueue)?t.retryQueue=new Set([r]):n.add(r),Ec(e,r,i)),!1}throw Error(o(435,n.tag))}return Ec(e,r,i),oc(),!1}if(hi)return null!==(t=Ms.current)?(0===(65536&t.flags)&&(t.flags|=256),t.flags|=65536,t.lanes=i,r!==pi&&xi(qr(e=Error(o(422),{cause:r}),n))):(r!==pi&&xi(qr(t=Error(o(423),{cause:r}),n)),(e=e.current.alternate).flags|=65536,i&=-i,e.lanes|=i,r=qr(r,n),xs(e,i=Ra(e.stateNode,r,i)),4!==Au&&(Au=2)),!1;var s=Error(o(520),{cause:r});if(s=qr(s,n),null===Ru?Ru=[s]:Ru.push(s),4!==Au&&(Au=2),null===t)return!0;r=qr(r,n),n=t;do{switch(n.tag){case 3:return n.flags|=65536,e=i&-i,n.lanes|=e,xs(n,e=Ra(n.stateNode,r,e)),!1;case 1:if(t=n.type,s=n.stateNode,0===(128&n.flags)&&("function"===typeof t.getDerivedStateFromError||null!==s&&"function"===typeof s.componentDidCatch&&(null===Nu||!Nu.has(s))))return n.flags|=65536,i&=-i,n.lanes|=i,Ia(i=Pa(i),e,n,r),xs(n,i),!1}n=n.return}while(null!==n);return!1}(e,i,t,n,gu))return Au=1,Ca(e,qr(n,e.current)),void(mu=null)}catch(s){if(null!==i)throw mu=i,s;return Au=1,Ca(e,qr(n,e.current)),void(mu=null)}32768&t.flags?(hi||1===r?e=!0:_u||0!==(536870912&gu)?e=!1:(bu=e=!0,(2===r||9===r||3===r||6===r)&&(null!==(r=Ms.current)&&13===r.tag&&(r.flags|=16384))),pc(t,e)):fc(t)}function fc(e){var t=e;do{if(0!==(32768&t.flags))return void pc(t,bu);e=t.return;var n=fl(t.alternate,t,wu);if(null!==n)return void(mu=n);if(null!==(t=t.sibling))return void(mu=t);mu=t=e}while(null!==t);0===Au&&(Au=5)}function pc(e,t){do{var n=pl(e.alternate,e);if(null!==n)return n.flags&=32767,void(mu=n);if(null!==(n=e.return)&&(n.flags|=32768,n.subtreeFlags=0,n.deletions=null),!t&&null!==(e=e.sibling))return void(mu=e);mu=e=n}while(null!==e);Au=6,mu=null}function mc(e,t,n,r,i,s,a,l,u){e.cancelPendingCommit=null;do{_c()}while(0!==Fu);if(0!==(6&fu))throw Error(o(327));if(null!==t){if(t===e.current)throw Error(o(177));if(s=t.lanes|t.childLanes,function(e,t,n,r,i,s){var o=e.pendingLanes;e.pendingLanes=n,e.suspendedLanes=0,e.pingedLanes=0,e.warmLanes=0,e.expiredLanes&=n,e.entangledLanes&=n,e.errorRecoveryDisabledLanes&=n,e.shellSuspendCounter=0;var a=e.entanglements,l=e.expirationTimes,u=e.hiddenUpdates;for(n=o&~n;0<n;){var c=31-_e(n),h=1<<c;a[c]=0,l[c]=-1;var d=u[c];if(null!==d)for(u[c]=null,c=0;c<d.length;c++){var f=d[c];null!==f&&(f.lane&=-536870913)}n&=~h}0!==r&&De(e,r,0),0!==s&&0===i&&0!==e.tag&&(e.suspendedLanes|=s&~(o&~t))}(e,n,s|=Rr,a,l,u),e===pu&&(mu=pu=null,gu=0),Uu=t,Bu=e,Gu=n,zu=s,Hu=i,ju=r,0!==(10256&t.subtreeFlags)||0!==(10256&t.flags)?(e.callbackNode=null,e.callbackPriority=0,ie(de,function(){return xc(),null})):(e.callbackNode=null,e.callbackPriority=0),r=0!==(13878&t.flags),0!==(13878&t.subtreeFlags)||r){r=O.T,O.T=null,i=L.p,L.p=2,a=fu,fu|=4;try{!function(e,t){if(e=e.containerInfo,ph=bd,ir(e=rr(e))){if("selectionStart"in e)var n={start:e.selectionStart,end:e.selectionEnd};else e:{var r=(n=(n=e.ownerDocument)&&n.defaultView||window).getSelection&&n.getSelection();if(r&&0!==r.rangeCount){n=r.anchorNode;var i=r.anchorOffset,s=r.focusNode;r=r.focusOffset;try{n.nodeType,s.nodeType}catch(g){n=null;break e}var a=0,l=-1,u=-1,c=0,h=0,d=e,f=null;t:for(;;){for(var p;d!==n||0!==i&&3!==d.nodeType||(l=a+i),d!==s||0!==r&&3!==d.nodeType||(u=a+r),3===d.nodeType&&(a+=d.nodeValue.length),null!==(p=d.firstChild);)f=d,d=p;for(;;){if(d===e)break t;if(f===n&&++c===i&&(l=a),f===s&&++h===r&&(u=a),null!==(p=d.nextSibling))break;f=(d=f).parentNode}d=p}n=-1===l||-1===u?null:{start:l,end:u}}else n=null}n=n||{start:0,end:0}}else n=null;for(mh={focusedElem:e,selectionRange:n},bd=!1,Dl=t;null!==Dl;)if(e=(t=Dl).child,0!==(1028&t.subtreeFlags)&&null!==e)e.return=t,Dl=e;else for(;null!==Dl;){switch(s=(t=Dl).alternate,e=t.flags,t.tag){case 0:if(0!==(4&e)&&null!==(e=null!==(e=t.updateQueue)?e.events:null))for(n=0;n<e.length;n++)(i=e[n]).ref.impl=i.nextImpl;break;case 11:case 15:case 5:case 26:case 27:case 6:case 4:case 17:break;case 1:if(0!==(1024&e)&&null!==s){e=void 0,n=t,i=s.memoizedProps,s=s.memoizedState,r=n.stateNode;try{var m=Aa(n.type,i);e=r.getSnapshotBeforeUpdate(m,s),r.__reactInternalSnapshotBeforeUpdate=e}catch(y){Ac(n,n.return,y)}}break;case 3:if(0!==(1024&e))if(9===(n=(e=t.stateNode.containerInfo).nodeType))Rh(e);else if(1===n)switch(e.nodeName){case"HEAD":case"HTML":case"BODY":Rh(e);break;default:e.textContent=""}break;default:if(0!==(1024&e))throw Error(o(163))}if(null!==(e=t.sibling)){e.return=t.return,Dl=e;break}Dl=t.return}}(e,t)}finally{fu=a,L.p=i,O.T=r}}Fu=1,gc(),yc(),vc()}}function gc(){if(1===Fu){Fu=0;var e=Bu,t=Uu,n=0!==(13878&t.flags);if(0!==(13878&t.subtreeFlags)||n){n=O.T,O.T=null;var r=L.p;L.p=2;var i=fu;fu|=4;try{Vl(t,e);var s=mh,o=rr(e.containerInfo),a=s.focusedElem,l=s.selectionRange;if(o!==a&&a&&a.ownerDocument&&nr(a.ownerDocument.documentElement,a)){if(null!==l&&ir(a)){var u=l.start,c=l.end;if(void 0===c&&(c=u),"selectionStart"in a)a.selectionStart=u,a.selectionEnd=Math.min(c,a.value.length);else{var h=a.ownerDocument||document,d=h&&h.defaultView||window;if(d.getSelection){var f=d.getSelection(),p=a.textContent.length,m=Math.min(l.start,p),g=void 0===l.end?m:Math.min(l.end,p);!f.extend&&m>g&&(o=g,g=m,m=o);var y=tr(a,m),v=tr(a,g);if(y&&v&&(1!==f.rangeCount||f.anchorNode!==y.node||f.anchorOffset!==y.offset||f.focusNode!==v.node||f.focusOffset!==v.offset)){var b=h.createRange();b.setStart(y.node,y.offset),f.removeAllRanges(),m>g?(f.addRange(b),f.extend(v.node,v.offset)):(b.setEnd(v.node,v.offset),f.addRange(b))}}}}for(h=[],f=a;f=f.parentNode;)1===f.nodeType&&h.push({element:f,left:f.scrollLeft,top:f.scrollTop});for("function"===typeof a.focus&&a.focus(),a=0;a<h.length;a++){var _=h[a];_.element.scrollLeft=_.left,_.element.scrollTop=_.top}}bd=!!ph,mh=ph=null}finally{fu=i,L.p=r,O.T=n}}e.current=t,Fu=2}}function yc(){if(2===Fu){Fu=0;var e=Bu,t=Uu,n=0!==(8772&t.flags);if(0!==(8772&t.subtreeFlags)||n){n=O.T,O.T=null;var r=L.p;L.p=2;var i=fu;fu|=4;try{Ol(e,t.alternate,t)}finally{fu=i,L.p=r,O.T=n}}Fu=3}}function vc(){if(4===Fu||3===Fu){Fu=0,ae();var e=Bu,t=Uu,n=Gu,r=ju;0!==(10256&t.subtreeFlags)||0!==(10256&t.flags)?Fu=5:(Fu=0,Uu=Bu=null,bc(e,e.pendingLanes));var i=e.pendingLanes;if(0===i&&(Nu=null),Fe(n),t=t.stateNode,ve&&"function"===typeof ve.onCommitFiberRoot)try{ve.onCommitFiberRoot(ye,t,void 0,128===(128&t.current.flags))}catch(l){}if(null!==r){t=O.T,i=L.p,L.p=2,O.T=null;try{for(var s=e.onRecoverableError,o=0;o<r.length;o++){var a=r[o];s(a.value,{componentStack:a.stack})}}finally{O.T=t,L.p=i}}0!==(3&Gu)&&_c(),Lc(e),i=e.pendingLanes,0!==(261930&n)&&0!==(42&i)?e===Vu?Wu++:(Wu=0,Vu=e):Wu=0,Nc(0,!1)}}function bc(e,t){0===(e.pooledCacheLanes&=t)&&(null!=(t=e.pooledCache)&&(e.pooledCache=null,Gi(t)))}function _c(){return gc(),yc(),vc(),xc()}function xc(){if(5!==Fu)return!1;var e=Bu,t=zu;zu=0;var n=Fe(Gu),r=O.T,i=L.p;try{L.p=32>n?32:n,O.T=null,n=Hu,Hu=null;var s=Bu,a=Gu;if(Fu=0,Uu=Bu=null,Gu=0,0!==(6&fu))throw Error(o(331));var l=fu;if(fu|=4,lu(s.current),eu(s,s.current,a,n),fu=l,Nc(0,!1),ve&&"function"===typeof ve.onPostCommitFiberRoot)try{ve.onPostCommitFiberRoot(ye,s)}catch(u){}return!0}finally{L.p=i,O.T=r,bc(e,t)}}function wc(e,t,n){t=qr(n,t),null!==(e=bs(e,t=Ra(e.stateNode,t,2),2))&&(Me(e,2),Lc(e))}function Ac(e,t,n){if(3===e.tag)wc(e,e,n);else for(;null!==t;){if(3===t.tag){wc(t,e,n);break}if(1===t.tag){var r=t.stateNode;if("function"===typeof t.type.getDerivedStateFromError||"function"===typeof r.componentDidCatch&&(null===Nu||!Nu.has(r))){e=qr(n,e),null!==(r=bs(t,n=Pa(2),2))&&(Ia(n,r,t,e),Me(r,2),Lc(r));break}}t=t.return}}function Ec(e,t,n){var r=e.pingCache;if(null===r){r=e.pingCache=new du;var i=new Set;r.set(t,i)}else void 0===(i=r.get(t))&&(i=new Set,r.set(t,i));i.has(n)||(xu=!0,i.add(n),e=Sc.bind(null,e,t,n),t.then(e,e))}function Sc(e,t,n){var r=e.pingCache;null!==r&&r.delete(t),e.pingedLanes|=e.suspendedLanes&n,e.warmLanes&=~n,pu===e&&(gu&n)===n&&(4===Au||3===Au&&(62914560&gu)===gu&&300>le()-Mu?0===(2&fu)&&tc(e,0):Tu|=n,ku===gu&&(ku=0)),Lc(e)}function Tc(e,t){0===t&&(t=Pe()),null!==(e=Dr(e,t))&&(Me(e,t),Lc(e))}function Cc(e){var t=e.memoizedState,n=0;null!==t&&(n=t.retryLane),Tc(e,n)}function kc(e,t){var n=0;switch(e.tag){case 31:case 13:var r=e.stateNode,i=e.memoizedState;null!==i&&(n=i.retryLane);break;case 19:r=e.stateNode;break;case 22:r=e.stateNode._retryCache;break;default:throw Error(o(314))}null!==r&&r.delete(t),Tc(e,n)}var Rc=null,Pc=null,Ic=!1,Mc=!1,Dc=!1,Oc=0;function Lc(e){e!==Pc&&null===e.next&&(null===Pc?Rc=Pc=e:Pc=Pc.next=e),Mc=!0,Ic||(Ic=!0,Eh(function(){0!==(6&fu)?ie(ce,Fc):Bc()}))}function Nc(e,t){if(!Dc&&Mc){Dc=!0;do{for(var n=!1,r=Rc;null!==r;){if(!t)if(0!==e){var i=r.pendingLanes;if(0===i)var s=0;else{var o=r.suspendedLanes,a=r.pingedLanes;s=(1<<31-_e(42|e)+1)-1,s=201326741&(s&=i&~(o&~a))?201326741&s|1:s?2|s:0}0!==s&&(n=!0,zc(r,s))}else s=gu,0===(3&(s=Ce(r,r===pu?s:0,null!==r.cancelPendingCommit||-1!==r.timeoutHandle)))||ke(r,s)||(n=!0,zc(r,s));r=r.next}}while(n);Dc=!1}}function Fc(){Bc()}function Bc(){Mc=Ic=!1;var e=0;0!==Oc&&function(){var e=window.event;if(e&&"popstate"===e.type)return e!==_h&&(_h=e,!0);return _h=null,!1}()&&(e=Oc);for(var t=le(),n=null,r=Rc;null!==r;){var i=r.next,s=Uc(r,t);0===s?(r.next=null,null===n?Rc=i:n.next=i,null===i&&(Pc=n)):(n=r,(0!==e||0!==(3&s))&&(Mc=!0)),r=i}0!==Fu&&5!==Fu||Nc(e,!1),0!==Oc&&(Oc=0)}function Uc(e,t){for(var n=e.suspendedLanes,r=e.pingedLanes,i=e.expirationTimes,s=-62914561&e.pendingLanes;0<s;){var o=31-_e(s),a=1<<o,l=i[o];-1===l?0!==(a&n)&&0===(a&r)||(i[o]=Re(a,t)):l<=t&&(e.expiredLanes|=a),s&=~a}if(n=gu,n=Ce(e,e===(t=pu)?n:0,null!==e.cancelPendingCommit||-1!==e.timeoutHandle),r=e.callbackNode,0===n||e===t&&(2===yu||9===yu)||null!==e.cancelPendingCommit)return null!==r&&null!==r&&se(r),e.callbackNode=null,e.callbackPriority=0;if(0===(3&n)||ke(e,n)){if((t=n&-n)===e.callbackPriority)return t;switch(null!==r&&se(r),Fe(n)){case 2:case 8:n=he;break;case 32:default:n=de;break;case 268435456:n=pe}return r=Gc.bind(null,e),n=ie(n,r),e.callbackPriority=t,e.callbackNode=n,t}return null!==r&&null!==r&&se(r),e.callbackPriority=2,e.callbackNode=null,2}function Gc(e,t){if(0!==Fu&&5!==Fu)return e.callbackNode=null,e.callbackPriority=0,null;var n=e.callbackNode;if(_c()&&e.callbackNode!==n)return null;var r=gu;return 0===(r=Ce(e,e===pu?r:0,null!==e.cancelPendingCommit||-1!==e.timeoutHandle))?null:(Ku(e,r,t),Uc(e,le()),null!=e.callbackNode&&e.callbackNode===n?Gc.bind(null,e):null)}function zc(e,t){if(_c())return null;Ku(e,t,!0)}function Hc(){if(0===Oc){var e=ji;0===e&&(e=Ae,0===(261888&(Ae<<=1))&&(Ae=256)),Oc=e}return Oc}function jc(e){return null==e||"symbol"===typeof e||"boolean"===typeof e?null:"function"===typeof e?e:It(""+e)}function Wc(e,t){var n=t.ownerDocument.createElement("input");return n.name=t.name,n.value=t.value,e.id&&n.setAttribute("form",e.id),t.parentNode.insertBefore(n,t),e=new FormData(e),n.parentNode.removeChild(n),e}for(var Vc=0;Vc<Er.length;Vc++){var Xc=Er[Vc];Sr(Xc.toLowerCase(),"on"+(Xc[0].toUpperCase()+Xc.slice(1)))}Sr(gr,"onAnimationEnd"),Sr(yr,"onAnimationIteration"),Sr(vr,"onAnimationStart"),Sr("dblclick","onDoubleClick"),Sr("focusin","onFocus"),Sr("focusout","onBlur"),Sr(br,"onTransitionRun"),Sr(_r,"onTransitionStart"),Sr(xr,"onTransitionCancel"),Sr(wr,"onTransitionEnd"),it("onMouseEnter",["mouseout","mouseover"]),it("onMouseLeave",["mouseout","mouseover"]),it("onPointerEnter",["pointerout","pointerover"]),it("onPointerLeave",["pointerout","pointerover"]),rt("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),rt("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),rt("onBeforeInput",["compositionend","keypress","textInput","paste"]),rt("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),rt("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),rt("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Yc="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),qc=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(Yc));function Kc(e,t){t=0!==(4&t);for(var n=0;n<e.length;n++){var r=e[n],i=r.event;r=r.listeners;e:{var s=void 0;if(t)for(var o=r.length-1;0<=o;o--){var a=r[o],l=a.instance,u=a.currentTarget;if(a=a.listener,l!==s&&i.isPropagationStopped())break e;s=a,i.currentTarget=u;try{s(i)}catch(c){Tr(c)}i.currentTarget=null,s=l}else for(o=0;o<r.length;o++){if(l=(a=r[o]).instance,u=a.currentTarget,a=a.listener,l!==s&&i.isPropagationStopped())break e;s=a,i.currentTarget=u;try{s(i)}catch(c){Tr(c)}i.currentTarget=null,s=l}}}}function Qc(e,t){var n=t[We];void 0===n&&(n=t[We]=new Set);var r=e+"__bubble";n.has(r)||(eh(t,e,2,!1),n.add(r))}function Zc(e,t,n){var r=0;t&&(r|=4),eh(n,e,r,t)}var Jc="_reactListening"+Math.random().toString(36).slice(2);function $c(e){if(!e[Jc]){e[Jc]=!0,tt.forEach(function(t){"selectionchange"!==t&&(qc.has(t)||Zc(t,!1,e),Zc(t,!0,e))});var t=9===e.nodeType?e:e.ownerDocument;null===t||t[Jc]||(t[Jc]=!0,Zc("selectionchange",!1,t))}}function eh(e,t,n,r){switch(Td(t)){case 2:var i=_d;break;case 8:i=xd;break;default:i=wd}n=i.bind(null,t,n,e),i=void 0,!Ht||"touchstart"!==t&&"touchmove"!==t&&"wheel"!==t||(i=!0),r?void 0!==i?e.addEventListener(t,n,{capture:!0,passive:i}):e.addEventListener(t,n,!0):void 0!==i?e.addEventListener(t,n,{passive:i}):e.addEventListener(t,n,!1)}function th(e,t,n,r,i){var s=r;if(0===(1&t)&&0===(2&t)&&null!==r)e:for(;;){if(null===r)return;var o=r.tag;if(3===o||4===o){var a=r.stateNode.containerInfo;if(a===i)break;if(4===o)for(o=r.return;null!==o;){var u=o.tag;if((3===u||4===u)&&o.stateNode.containerInfo===i)return;o=o.return}for(;null!==a;){if(null===(o=Qe(a)))return;if(5===(u=o.tag)||6===u||26===u||27===u){r=s=o;continue e}a=a.parentNode}}r=r.return}Ut(function(){var r=s,i=Ot(n),o=[];e:{var a=Ar.get(e);if(void 0!==a){var u=nn,c=e;switch(e){case"keypress":if(0===qt(n))break e;case"keydown":case"keyup":u=vn;break;case"focusin":c="focus",u=un;break;case"focusout":c="blur",u=un;break;case"beforeblur":case"afterblur":u=un;break;case"click":if(2===n.button)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":u=an;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":u=ln;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":u=_n;break;case gr:case yr:case vr:u=cn;break;case wr:u=xn;break;case"scroll":case"scrollend":u=sn;break;case"wheel":u=wn;break;case"copy":case"cut":case"paste":u=hn;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":u=bn;break;case"toggle":case"beforetoggle":u=An}var h=0!==(4&t),d=!h&&("scroll"===e||"scrollend"===e),f=h?null!==a?a+"Capture":null:a;h=[];for(var p,m=r;null!==m;){var g=m;if(p=g.stateNode,5!==(g=g.tag)&&26!==g&&27!==g||null===p||null===f||null!=(g=Gt(m,f))&&h.push(nh(m,g,p)),d)break;m=m.return}0<h.length&&(a=new u(a,c,null,n,i),o.push({event:a,listeners:h}))}}if(0===(7&t)){if(u="mouseout"===e||"pointerout"===e,(!(a="mouseover"===e||"pointerover"===e)||n===Dt||!(c=n.relatedTarget||n.fromElement)||!Qe(c)&&!c[je])&&(u||a)&&(a=i.window===i?i:(a=i.ownerDocument)?a.defaultView||a.parentWindow:window,u?(u=r,null!==(c=(c=n.relatedTarget||n.toElement)?Qe(c):null)&&(d=l(c),h=c.tag,c!==d||5!==h&&27!==h&&6!==h)&&(c=null)):(u=null,c=r),u!==c)){if(h=an,g="onMouseLeave",f="onMouseEnter",m="mouse","pointerout"!==e&&"pointerover"!==e||(h=bn,g="onPointerLeave",f="onPointerEnter",m="pointer"),d=null==u?a:Je(u),p=null==c?a:Je(c),(a=new h(g,m+"leave",u,n,i)).target=d,a.relatedTarget=p,g=null,Qe(i)===r&&((h=new h(f,m+"enter",c,n,i)).target=p,h.relatedTarget=d,g=h),d=g,u&&c)e:{for(h=ih,m=c,p=0,g=f=u;g;g=h(g))p++;g=0;for(var y=m;y;y=h(y))g++;for(;0<p-g;)f=h(f),p--;for(;0<g-p;)m=h(m),g--;for(;p--;){if(f===m||null!==m&&f===m.alternate){h=f;break e}f=h(f),m=h(m)}h=null}else h=null;null!==u&&sh(o,a,u,h,!1),null!==c&&null!==d&&sh(o,d,c,h,!0)}if("select"===(u=(a=r?Je(r):window).nodeName&&a.nodeName.toLowerCase())||"input"===u&&"file"===a.type)var v=zn;else if(Ln(a))if(Hn)v=Zn;else{v=Kn;var b=qn}else!(u=a.nodeName)||"input"!==u.toLowerCase()||"checkbox"!==a.type&&"radio"!==a.type?r&&kt(r.elementType)&&(v=zn):v=Qn;switch(v&&(v=v(e,r))?Nn(o,v,n,i):(b&&b(e,a,r),"focusout"===e&&r&&"number"===a.type&&null!=r.memoizedProps.value&&_t(a,"number",a.value)),b=r?Je(r):window,e){case"focusin":(Ln(b)||"true"===b.contentEditable)&&(or=b,ar=r,lr=null);break;case"focusout":lr=ar=or=null;break;case"mousedown":ur=!0;break;case"contextmenu":case"mouseup":case"dragend":ur=!1,cr(o,n,i);break;case"selectionchange":if(sr)break;case"keydown":case"keyup":cr(o,n,i)}var _;if(Sn)e:{switch(e){case"compositionstart":var x="onCompositionStart";break e;case"compositionend":x="onCompositionEnd";break e;case"compositionupdate":x="onCompositionUpdate";break e}x=void 0}else Dn?In(e,n)&&(x="onCompositionEnd"):"keydown"===e&&229===n.keyCode&&(x="onCompositionStart");x&&(kn&&"ko"!==n.locale&&(Dn||"onCompositionStart"!==x?"onCompositionEnd"===x&&Dn&&(_=Yt()):(Vt="value"in(Wt=i)?Wt.value:Wt.textContent,Dn=!0)),0<(b=rh(r,x)).length&&(x=new dn(x,e,null,n,i),o.push({event:x,listeners:b}),_?x.data=_:null!==(_=Mn(n))&&(x.data=_))),(_=Cn?function(e,t){switch(e){case"compositionend":return Mn(t);case"keypress":return 32!==t.which?null:(Pn=!0,Rn);case"textInput":return(e=t.data)===Rn&&Pn?null:e;default:return null}}(e,n):function(e,t){if(Dn)return"compositionend"===e||!Sn&&In(e,t)?(e=Yt(),Xt=Vt=Wt=null,Dn=!1,e):null;switch(e){case"paste":default:return null;case"keypress":if(!(t.ctrlKey||t.altKey||t.metaKey)||t.ctrlKey&&t.altKey){if(t.char&&1<t.char.length)return t.char;if(t.which)return String.fromCharCode(t.which)}return null;case"compositionend":return kn&&"ko"!==t.locale?null:t.data}}(e,n))&&(0<(x=rh(r,"onBeforeInput")).length&&(b=new dn("onBeforeInput","beforeinput",null,n,i),o.push({event:b,listeners:x}),b.data=_)),function(e,t,n,r,i){if("submit"===t&&n&&n.stateNode===i){var s=jc((i[He]||null).action),o=r.submitter;o&&null!==(t=(t=o[He]||null)?jc(t.formAction):o.getAttribute("formAction"))&&(s=t,o=null);var a=new nn("action","action",null,r,i);e.push({event:a,listeners:[{instance:null,listener:function(){if(r.defaultPrevented){if(0!==Oc){var e=o?Wc(i,o):new FormData(i);ta(n,{pending:!0,data:e,method:i.method,action:s},null,e)}}else"function"===typeof s&&(a.preventDefault(),e=o?Wc(i,o):new FormData(i),ta(n,{pending:!0,data:e,method:i.method,action:s},s,e))},currentTarget:i}]})}}(o,e,r,n,i)}Kc(o,t)})}function nh(e,t,n){return{instance:e,listener:t,currentTarget:n}}function rh(e,t){for(var n=t+"Capture",r=[];null!==e;){var i=e,s=i.stateNode;if(5!==(i=i.tag)&&26!==i&&27!==i||null===s||(null!=(i=Gt(e,n))&&r.unshift(nh(e,i,s)),null!=(i=Gt(e,t))&&r.push(nh(e,i,s))),3===e.tag)return r;e=e.return}return[]}function ih(e){if(null===e)return null;do{e=e.return}while(e&&5!==e.tag&&27!==e.tag);return e||null}function sh(e,t,n,r,i){for(var s=t._reactName,o=[];null!==n&&n!==r;){var a=n,l=a.alternate,u=a.stateNode;if(a=a.tag,null!==l&&l===r)break;5!==a&&26!==a&&27!==a||null===u||(l=u,i?null!=(u=Gt(n,s))&&o.unshift(nh(n,u,l)):i||null!=(u=Gt(n,s))&&o.push(nh(n,u,l))),n=n.return}0!==o.length&&e.push({event:t,listeners:o})}var oh=/\r\n?/g,ah=/\u0000|\uFFFD/g;function lh(e){return("string"===typeof e?e:""+e).replace(oh,"\n").replace(ah,"")}function uh(e,t){return t=lh(t),lh(e)===t}function ch(e,t,n,r,i,s){switch(n){case"children":"string"===typeof r?"body"===t||"textarea"===t&&""===r||Et(e,r):("number"===typeof r||"bigint"===typeof r)&&"body"!==t&&Et(e,""+r);break;case"className":ut(e,"class",r);break;case"tabIndex":ut(e,"tabindex",r);break;case"dir":case"role":case"viewBox":case"width":case"height":ut(e,n,r);break;case"style":Ct(e,r,s);break;case"data":if("object"!==t){ut(e,"data",r);break}case"src":case"href":if(""===r&&("a"!==t||"href"!==n)){e.removeAttribute(n);break}if(null==r||"function"===typeof r||"symbol"===typeof r||"boolean"===typeof r){e.removeAttribute(n);break}r=It(""+r),e.setAttribute(n,r);break;case"action":case"formAction":if("function"===typeof r){e.setAttribute(n,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}if("function"===typeof s&&("formAction"===n?("input"!==t&&ch(e,t,"name",i.name,i,null),ch(e,t,"formEncType",i.formEncType,i,null),ch(e,t,"formMethod",i.formMethod,i,null),ch(e,t,"formTarget",i.formTarget,i,null)):(ch(e,t,"encType",i.encType,i,null),ch(e,t,"method",i.method,i,null),ch(e,t,"target",i.target,i,null))),null==r||"symbol"===typeof r||"boolean"===typeof r){e.removeAttribute(n);break}r=It(""+r),e.setAttribute(n,r);break;case"onClick":null!=r&&(e.onclick=Mt);break;case"onScroll":null!=r&&Qc("scroll",e);break;case"onScrollEnd":null!=r&&Qc("scrollend",e);break;case"dangerouslySetInnerHTML":if(null!=r){if("object"!==typeof r||!("__html"in r))throw Error(o(61));if(null!=(n=r.__html)){if(null!=i.children)throw Error(o(60));e.innerHTML=n}}break;case"multiple":e.multiple=r&&"function"!==typeof r&&"symbol"!==typeof r;break;case"muted":e.muted=r&&"function"!==typeof r&&"symbol"!==typeof r;break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":case"autoFocus":break;case"xlinkHref":if(null==r||"function"===typeof r||"boolean"===typeof r||"symbol"===typeof r){e.removeAttribute("xlink:href");break}n=It(""+r),e.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",n);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":null!=r&&"function"!==typeof r&&"symbol"!==typeof r?e.setAttribute(n,""+r):e.removeAttribute(n);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":r&&"function"!==typeof r&&"symbol"!==typeof r?e.setAttribute(n,""):e.removeAttribute(n);break;case"capture":case"download":!0===r?e.setAttribute(n,""):!1!==r&&null!=r&&"function"!==typeof r&&"symbol"!==typeof r?e.setAttribute(n,r):e.removeAttribute(n);break;case"cols":case"rows":case"size":case"span":null!=r&&"function"!==typeof r&&"symbol"!==typeof r&&!isNaN(r)&&1<=r?e.setAttribute(n,r):e.removeAttribute(n);break;case"rowSpan":case"start":null==r||"function"===typeof r||"symbol"===typeof r||isNaN(r)?e.removeAttribute(n):e.setAttribute(n,r);break;case"popover":Qc("beforetoggle",e),Qc("toggle",e),lt(e,"popover",r);break;case"xlinkActuate":ct(e,"http://www.w3.org/1999/xlink","xlink:actuate",r);break;case"xlinkArcrole":ct(e,"http://www.w3.org/1999/xlink","xlink:arcrole",r);break;case"xlinkRole":ct(e,"http://www.w3.org/1999/xlink","xlink:role",r);break;case"xlinkShow":ct(e,"http://www.w3.org/1999/xlink","xlink:show",r);break;case"xlinkTitle":ct(e,"http://www.w3.org/1999/xlink","xlink:title",r);break;case"xlinkType":ct(e,"http://www.w3.org/1999/xlink","xlink:type",r);break;case"xmlBase":ct(e,"http://www.w3.org/XML/1998/namespace","xml:base",r);break;case"xmlLang":ct(e,"http://www.w3.org/XML/1998/namespace","xml:lang",r);break;case"xmlSpace":ct(e,"http://www.w3.org/XML/1998/namespace","xml:space",r);break;case"is":lt(e,"is",r);break;case"innerText":case"textContent":break;default:(!(2<n.length)||"o"!==n[0]&&"O"!==n[0]||"n"!==n[1]&&"N"!==n[1])&&lt(e,n=Rt.get(n)||n,r)}}function hh(e,t,n,r,i,s){switch(n){case"style":Ct(e,r,s);break;case"dangerouslySetInnerHTML":if(null!=r){if("object"!==typeof r||!("__html"in r))throw Error(o(61));if(null!=(n=r.__html)){if(null!=i.children)throw Error(o(60));e.innerHTML=n}}break;case"children":"string"===typeof r?Et(e,r):("number"===typeof r||"bigint"===typeof r)&&Et(e,""+r);break;case"onScroll":null!=r&&Qc("scroll",e);break;case"onScrollEnd":null!=r&&Qc("scrollend",e);break;case"onClick":null!=r&&(e.onclick=Mt);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":case"innerText":case"textContent":break;default:nt.hasOwnProperty(n)||("o"!==n[0]||"n"!==n[1]||(i=n.endsWith("Capture"),t=n.slice(2,i?n.length-7:void 0),"function"===typeof(s=null!=(s=e[He]||null)?s[n]:null)&&e.removeEventListener(t,s,i),"function"!==typeof r)?n in e?e[n]=r:!0===r?e.setAttribute(n,""):lt(e,n,r):("function"!==typeof s&&null!==s&&(n in e?e[n]=null:e.hasAttribute(n)&&e.removeAttribute(n)),e.addEventListener(t,r,i)))}}function dh(e,t,n){switch(t){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":Qc("error",e),Qc("load",e);var r,i=!1,s=!1;for(r in n)if(n.hasOwnProperty(r)){var a=n[r];if(null!=a)switch(r){case"src":i=!0;break;case"srcSet":s=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(o(137,t));default:ch(e,t,r,a,n,null)}}return s&&ch(e,t,"srcSet",n.srcSet,n,null),void(i&&ch(e,t,"src",n.src,n,null));case"input":Qc("invalid",e);var l=r=a=s=null,u=null,c=null;for(i in n)if(n.hasOwnProperty(i)){var h=n[i];if(null!=h)switch(i){case"name":s=h;break;case"type":a=h;break;case"checked":u=h;break;case"defaultChecked":c=h;break;case"value":r=h;break;case"defaultValue":l=h;break;case"children":case"dangerouslySetInnerHTML":if(null!=h)throw Error(o(137,t));break;default:ch(e,t,i,h,n,null)}}return void bt(e,r,l,u,c,a,s,!1);case"select":for(s in Qc("invalid",e),i=a=r=null,n)if(n.hasOwnProperty(s)&&null!=(l=n[s]))switch(s){case"value":r=l;break;case"defaultValue":a=l;break;case"multiple":i=l;default:ch(e,t,s,l,n,null)}return t=r,n=a,e.multiple=!!i,void(null!=t?xt(e,!!i,t,!1):null!=n&&xt(e,!!i,n,!0));case"textarea":for(a in Qc("invalid",e),r=s=i=null,n)if(n.hasOwnProperty(a)&&null!=(l=n[a]))switch(a){case"value":i=l;break;case"defaultValue":s=l;break;case"children":r=l;break;case"dangerouslySetInnerHTML":if(null!=l)throw Error(o(91));break;default:ch(e,t,a,l,n,null)}return void At(e,i,s,r);case"option":for(u in n)if(n.hasOwnProperty(u)&&null!=(i=n[u]))if("selected"===u)e.selected=i&&"function"!==typeof i&&"symbol"!==typeof i;else ch(e,t,u,i,n,null);return;case"dialog":Qc("beforetoggle",e),Qc("toggle",e),Qc("cancel",e),Qc("close",e);break;case"iframe":case"object":Qc("load",e);break;case"video":case"audio":for(i=0;i<Yc.length;i++)Qc(Yc[i],e);break;case"image":Qc("error",e),Qc("load",e);break;case"details":Qc("toggle",e);break;case"embed":case"source":case"link":Qc("error",e),Qc("load",e);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(c in n)if(n.hasOwnProperty(c)&&null!=(i=n[c]))switch(c){case"children":case"dangerouslySetInnerHTML":throw Error(o(137,t));default:ch(e,t,c,i,n,null)}return;default:if(kt(t)){for(h in n)n.hasOwnProperty(h)&&(void 0!==(i=n[h])&&hh(e,t,h,i,n,void 0));return}}for(l in n)n.hasOwnProperty(l)&&(null!=(i=n[l])&&ch(e,t,l,i,n,null))}function fh(e){switch(e){case"css":case"script":case"font":case"img":case"image":case"input":case"link":return!0;default:return!1}}var ph=null,mh=null;function gh(e){return 9===e.nodeType?e:e.ownerDocument}function yh(e){switch(e){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function vh(e,t){if(0===e)switch(t){case"svg":return 1;case"math":return 2;default:return 0}return 1===e&&"foreignObject"===t?0:e}function bh(e,t){return"textarea"===e||"noscript"===e||"string"===typeof t.children||"number"===typeof t.children||"bigint"===typeof t.children||"object"===typeof t.dangerouslySetInnerHTML&&null!==t.dangerouslySetInnerHTML&&null!=t.dangerouslySetInnerHTML.__html}var _h=null;var xh="function"===typeof setTimeout?setTimeout:void 0,wh="function"===typeof clearTimeout?clearTimeout:void 0,Ah="function"===typeof Promise?Promise:void 0,Eh="function"===typeof queueMicrotask?queueMicrotask:"undefined"!==typeof Ah?function(e){return Ah.resolve(null).then(e).catch(Sh)}:xh;function Sh(e){setTimeout(function(){throw e})}function Th(e){return"head"===e}function Ch(e,t){var n=t,r=0;do{var i=n.nextSibling;if(e.removeChild(n),i&&8===i.nodeType)if("/$"===(n=i.data)||"/&"===n){if(0===r)return e.removeChild(i),void Wd(t);r--}else if("$"===n||"$?"===n||"$~"===n||"$!"===n||"&"===n)r++;else if("html"===n)Bh(e.ownerDocument.documentElement);else if("head"===n){Bh(n=e.ownerDocument.head);for(var s=n.firstChild;s;){var o=s.nextSibling,a=s.nodeName;s[qe]||"SCRIPT"===a||"STYLE"===a||"LINK"===a&&"stylesheet"===s.rel.toLowerCase()||n.removeChild(s),s=o}}else"body"===n&&Bh(e.ownerDocument.body);n=i}while(n);Wd(t)}function kh(e,t){var n=e;e=0;do{var r=n.nextSibling;if(1===n.nodeType?t?(n._stashedDisplay=n.style.display,n.style.display="none"):(n.style.display=n._stashedDisplay||"",""===n.getAttribute("style")&&n.removeAttribute("style")):3===n.nodeType&&(t?(n._stashedText=n.nodeValue,n.nodeValue=""):n.nodeValue=n._stashedText||""),r&&8===r.nodeType)if("/$"===(n=r.data)){if(0===e)break;e--}else"$"!==n&&"$?"!==n&&"$~"!==n&&"$!"!==n||e++;n=r}while(n)}function Rh(e){var t=e.firstChild;for(t&&10===t.nodeType&&(t=t.nextSibling);t;){var n=t;switch(t=t.nextSibling,n.nodeName){case"HTML":case"HEAD":case"BODY":Rh(n),Ke(n);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if("stylesheet"===n.rel.toLowerCase())continue}e.removeChild(n)}}function Ph(e,t){for(;8!==e.nodeType;){if((1!==e.nodeType||"INPUT"!==e.nodeName||"hidden"!==e.type)&&!t)return null;if(null===(e=Dh(e.nextSibling)))return null}return e}function Ih(e){return"$?"===e.data||"$~"===e.data}function Mh(e){return"$!"===e.data||"$?"===e.data&&"loading"!==e.ownerDocument.readyState}function Dh(e){for(;null!=e;e=e.nextSibling){var t=e.nodeType;if(1===t||3===t)break;if(8===t){if("$"===(t=e.data)||"$!"===t||"$?"===t||"$~"===t||"&"===t||"F!"===t||"F"===t)break;if("/$"===t||"/&"===t)return null}}return e}var Oh=null;function Lh(e){e=e.nextSibling;for(var t=0;e;){if(8===e.nodeType){var n=e.data;if("/$"===n||"/&"===n){if(0===t)return Dh(e.nextSibling);t--}else"$"!==n&&"$!"!==n&&"$?"!==n&&"$~"!==n&&"&"!==n||t++}e=e.nextSibling}return null}function Nh(e){e=e.previousSibling;for(var t=0;e;){if(8===e.nodeType){var n=e.data;if("$"===n||"$!"===n||"$?"===n||"$~"===n||"&"===n){if(0===t)return e;t--}else"/$"!==n&&"/&"!==n||t++}e=e.previousSibling}return null}function Fh(e,t,n){switch(t=gh(n),e){case"html":if(!(e=t.documentElement))throw Error(o(452));return e;case"head":if(!(e=t.head))throw Error(o(453));return e;case"body":if(!(e=t.body))throw Error(o(454));return e;default:throw Error(o(451))}}function Bh(e){for(var t=e.attributes;t.length;)e.removeAttributeNode(t[0]);Ke(e)}var Uh=new Map,Gh=new Set;function zh(e){return"function"===typeof e.getRootNode?e.getRootNode():9===e.nodeType?e:e.ownerDocument}var Hh=L.d;L.d={f:function(){var e=Hh.f(),t=$u();return e||t},r:function(e){var t=Ze(e);null!==t&&5===t.tag&&"form"===t.type?ra(t):Hh.r(e)},D:function(e){Hh.D(e),Wh("dns-prefetch",e,null)},C:function(e,t){Hh.C(e,t),Wh("preconnect",e,t)},L:function(e,t,n){Hh.L(e,t,n);var r=jh;if(r&&e&&t){var i='link[rel="preload"][as="'+yt(t)+'"]';"image"===t&&n&&n.imageSrcSet?(i+='[imagesrcset="'+yt(n.imageSrcSet)+'"]',"string"===typeof n.imageSizes&&(i+='[imagesizes="'+yt(n.imageSizes)+'"]')):i+='[href="'+yt(e)+'"]';var s=i;switch(t){case"style":s=Xh(e);break;case"script":s=Kh(e)}Uh.has(s)||(e=f({rel:"preload",href:"image"===t&&n&&n.imageSrcSet?void 0:e,as:t},n),Uh.set(s,e),null!==r.querySelector(i)||"style"===t&&r.querySelector(Yh(s))||"script"===t&&r.querySelector(Qh(s))||(dh(t=r.createElement("link"),"link",e),et(t),r.head.appendChild(t)))}},m:function(e,t){Hh.m(e,t);var n=jh;if(n&&e){var r=t&&"string"===typeof t.as?t.as:"script",i='link[rel="modulepreload"][as="'+yt(r)+'"][href="'+yt(e)+'"]',s=i;switch(r){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":s=Kh(e)}if(!Uh.has(s)&&(e=f({rel:"modulepreload",href:e},t),Uh.set(s,e),null===n.querySelector(i))){switch(r){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(n.querySelector(Qh(s)))return}dh(r=n.createElement("link"),"link",e),et(r),n.head.appendChild(r)}}},X:function(e,t){Hh.X(e,t);var n=jh;if(n&&e){var r=$e(n).hoistableScripts,i=Kh(e),s=r.get(i);s||((s=n.querySelector(Qh(i)))||(e=f({src:e,async:!0},t),(t=Uh.get(i))&&ed(e,t),et(s=n.createElement("script")),dh(s,"link",e),n.head.appendChild(s)),s={type:"script",instance:s,count:1,state:null},r.set(i,s))}},S:function(e,t,n){Hh.S(e,t,n);var r=jh;if(r&&e){var i=$e(r).hoistableStyles,s=Xh(e);t=t||"default";var o=i.get(s);if(!o){var a={loading:0,preload:null};if(o=r.querySelector(Yh(s)))a.loading=5;else{e=f({rel:"stylesheet",href:e,"data-precedence":t},n),(n=Uh.get(s))&&$h(e,n);var l=o=r.createElement("link");et(l),dh(l,"link",e),l._p=new Promise(function(e,t){l.onload=e,l.onerror=t}),l.addEventListener("load",function(){a.loading|=1}),l.addEventListener("error",function(){a.loading|=2}),a.loading|=4,Jh(o,t,r)}o={type:"stylesheet",instance:o,count:1,state:a},i.set(s,o)}}},M:function(e,t){Hh.M(e,t);var n=jh;if(n&&e){var r=$e(n).hoistableScripts,i=Kh(e),s=r.get(i);s||((s=n.querySelector(Qh(i)))||(e=f({src:e,async:!0,type:"module"},t),(t=Uh.get(i))&&ed(e,t),et(s=n.createElement("script")),dh(s,"link",e),n.head.appendChild(s)),s={type:"script",instance:s,count:1,state:null},r.set(i,s))}}};var jh="undefined"===typeof document?null:document;function Wh(e,t,n){var r=jh;if(r&&"string"===typeof t&&t){var i=yt(t);i='link[rel="'+e+'"][href="'+i+'"]',"string"===typeof n&&(i+='[crossorigin="'+n+'"]'),Gh.has(i)||(Gh.add(i),e={rel:e,crossOrigin:n,href:t},null===r.querySelector(i)&&(dh(t=r.createElement("link"),"link",e),et(t),r.head.appendChild(t)))}}function Vh(e,t,n,r){var i,s,a,l,u=(u=X.current)?zh(u):null;if(!u)throw Error(o(446));switch(e){case"meta":case"title":return null;case"style":return"string"===typeof n.precedence&&"string"===typeof n.href?(t=Xh(n.href),(r=(n=$e(u).hoistableStyles).get(t))||(r={type:"style",instance:null,count:0,state:null},n.set(t,r)),r):{type:"void",instance:null,count:0,state:null};case"link":if("stylesheet"===n.rel&&"string"===typeof n.href&&"string"===typeof n.precedence){e=Xh(n.href);var c=$e(u).hoistableStyles,h=c.get(e);if(h||(u=u.ownerDocument||u,h={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},c.set(e,h),(c=u.querySelector(Yh(e)))&&!c._p&&(h.instance=c,h.state.loading=5),Uh.has(e)||(n={rel:"preload",as:"style",href:n.href,crossOrigin:n.crossOrigin,integrity:n.integrity,media:n.media,hrefLang:n.hrefLang,referrerPolicy:n.referrerPolicy},Uh.set(e,n),c||(i=u,s=e,a=n,l=h.state,i.querySelector('link[rel="preload"][as="style"]['+s+"]")?l.loading=1:(s=i.createElement("link"),l.preload=s,s.addEventListener("load",function(){return l.loading|=1}),s.addEventListener("error",function(){return l.loading|=2}),dh(s,"link",a),et(s),i.head.appendChild(s))))),t&&null===r)throw Error(o(528,""));return h}if(t&&null!==r)throw Error(o(529,""));return null;case"script":return t=n.async,"string"===typeof(n=n.src)&&t&&"function"!==typeof t&&"symbol"!==typeof t?(t=Kh(n),(r=(n=$e(u).hoistableScripts).get(t))||(r={type:"script",instance:null,count:0,state:null},n.set(t,r)),r):{type:"void",instance:null,count:0,state:null};default:throw Error(o(444,e))}}function Xh(e){return'href="'+yt(e)+'"'}function Yh(e){return'link[rel="stylesheet"]['+e+"]"}function qh(e){return f({},e,{"data-precedence":e.precedence,precedence:null})}function Kh(e){return'[src="'+yt(e)+'"]'}function Qh(e){return"script[async]"+e}function Zh(e,t,n){if(t.count++,null===t.instance)switch(t.type){case"style":var r=e.querySelector('style[data-href~="'+yt(n.href)+'"]');if(r)return t.instance=r,et(r),r;var i=f({},n,{"data-href":n.href,"data-precedence":n.precedence,href:null,precedence:null});return et(r=(e.ownerDocument||e).createElement("style")),dh(r,"style",i),Jh(r,n.precedence,e),t.instance=r;case"stylesheet":i=Xh(n.href);var s=e.querySelector(Yh(i));if(s)return t.state.loading|=4,t.instance=s,et(s),s;r=qh(n),(i=Uh.get(i))&&$h(r,i),et(s=(e.ownerDocument||e).createElement("link"));var a=s;return a._p=new Promise(function(e,t){a.onload=e,a.onerror=t}),dh(s,"link",r),t.state.loading|=4,Jh(s,n.precedence,e),t.instance=s;case"script":return s=Kh(n.src),(i=e.querySelector(Qh(s)))?(t.instance=i,et(i),i):(r=n,(i=Uh.get(s))&&ed(r=f({},n),i),et(i=(e=e.ownerDocument||e).createElement("script")),dh(i,"link",r),e.head.appendChild(i),t.instance=i);case"void":return null;default:throw Error(o(443,t.type))}else"stylesheet"===t.type&&0===(4&t.state.loading)&&(r=t.instance,t.state.loading|=4,Jh(r,n.precedence,e));return t.instance}function Jh(e,t,n){for(var r=n.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),i=r.length?r[r.length-1]:null,s=i,o=0;o<r.length;o++){var a=r[o];if(a.dataset.precedence===t)s=a;else if(s!==i)break}s?s.parentNode.insertBefore(e,s.nextSibling):(t=9===n.nodeType?n.head:n).insertBefore(e,t.firstChild)}function $h(e,t){null==e.crossOrigin&&(e.crossOrigin=t.crossOrigin),null==e.referrerPolicy&&(e.referrerPolicy=t.referrerPolicy),null==e.title&&(e.title=t.title)}function ed(e,t){null==e.crossOrigin&&(e.crossOrigin=t.crossOrigin),null==e.referrerPolicy&&(e.referrerPolicy=t.referrerPolicy),null==e.integrity&&(e.integrity=t.integrity)}var td=null;function nd(e,t,n){if(null===td){var r=new Map,i=td=new Map;i.set(n,r)}else(r=(i=td).get(n))||(r=new Map,i.set(n,r));if(r.has(e))return r;for(r.set(e,null),n=n.getElementsByTagName(e),i=0;i<n.length;i++){var s=n[i];if(!(s[qe]||s[ze]||"link"===e&&"stylesheet"===s.getAttribute("rel"))&&"http://www.w3.org/2000/svg"!==s.namespaceURI){var o=s.getAttribute(t)||"";o=e+o;var a=r.get(o);a?a.push(s):r.set(o,[s])}}return r}function rd(e,t,n){(e=e.ownerDocument||e).head.insertBefore(n,"title"===t?e.querySelector("head > title"):null)}function id(e){return"stylesheet"!==e.type||0!==(3&e.state.loading)}var sd=0;function od(){if(this.count--,0===this.count&&(0===this.imgCount||!this.waitingForImages))if(this.stylesheets)ld(this,this.stylesheets);else if(this.unsuspend){var e=this.unsuspend;this.unsuspend=null,e()}}var ad=null;function ld(e,t){e.stylesheets=null,null!==e.unsuspend&&(e.count++,ad=new Map,t.forEach(ud,e),ad=null,od.call(e))}function ud(e,t){if(!(4&t.state.loading)){var n=ad.get(e);if(n)var r=n.get(null);else{n=new Map,ad.set(e,n);for(var i=e.querySelectorAll("link[data-precedence],style[data-precedence]"),s=0;s<i.length;s++){var o=i[s];"LINK"!==o.nodeName&&"not all"===o.getAttribute("media")||(n.set(o.dataset.precedence,o),r=o)}r&&n.set(null,r)}o=(i=t.instance).getAttribute("data-precedence"),(s=n.get(o)||r)===r&&n.set(null,i),n.set(o,i),this.count++,r=od.bind(this),i.addEventListener("load",r),i.addEventListener("error",r),s?s.parentNode.insertBefore(i,s.nextSibling):(e=9===e.nodeType?e.head:e).insertBefore(i,e.firstChild),t.state.loading|=4}}var cd={$$typeof:x,Provider:null,Consumer:null,_currentValue:N,_currentValue2:N,_threadCount:0};function hd(e,t,n,r,i,s,o,a,l){this.tag=1,this.containerInfo=e,this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=Ie(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Ie(0),this.hiddenUpdates=Ie(null),this.identifierPrefix=r,this.onUncaughtError=i,this.onCaughtError=s,this.onRecoverableError=o,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=l,this.incompleteTransitions=new Map}function dd(e,t,n,r,i,s,o,a,l,u,c,h){return e=new hd(e,t,n,o,l,u,c,h,a),t=1,!0===s&&(t|=24),s=Br(3,null,null,t),e.current=s,s.stateNode=e,(t=Ui()).refCount++,e.pooledCache=t,t.refCount++,s.memoizedState={element:r,isDehydrated:n,cache:t},gs(s),e}function fd(e){return e?e=Nr:Nr}function pd(e,t,n,r,i,s){i=fd(i),null===r.context?r.context=i:r.pendingContext=i,(r=vs(t)).payload={element:n},null!==(s=void 0===s?null:s)&&(r.callback=s),null!==(n=bs(e,r,t))&&(qu(n,0,t),_s(n,e,t))}function md(e,t){if(null!==(e=e.memoizedState)&&null!==e.dehydrated){var n=e.retryLane;e.retryLane=0!==n&&n<t?n:t}}function gd(e,t){md(e,t),(e=e.alternate)&&md(e,t)}function yd(e){if(13===e.tag||31===e.tag){var t=Dr(e,67108864);null!==t&&qu(t,0,67108864),gd(e,67108864)}}function vd(e){if(13===e.tag||31===e.tag){var t=Xu(),n=Dr(e,t=Ne(t));null!==n&&qu(n,0,t),gd(e,t)}}var bd=!0;function _d(e,t,n,r){var i=O.T;O.T=null;var s=L.p;try{L.p=2,wd(e,t,n,r)}finally{L.p=s,O.T=i}}function xd(e,t,n,r){var i=O.T;O.T=null;var s=L.p;try{L.p=8,wd(e,t,n,r)}finally{L.p=s,O.T=i}}function wd(e,t,n,r){if(bd){var i=Ad(r);if(null===i)th(e,t,r,Ed,n),Ld(e,r);else if(function(e,t,n,r,i){switch(t){case"focusin":return kd=Nd(kd,e,t,n,r,i),!0;case"dragenter":return Rd=Nd(Rd,e,t,n,r,i),!0;case"mouseover":return Pd=Nd(Pd,e,t,n,r,i),!0;case"pointerover":var s=i.pointerId;return Id.set(s,Nd(Id.get(s)||null,e,t,n,r,i)),!0;case"gotpointercapture":return s=i.pointerId,Md.set(s,Nd(Md.get(s)||null,e,t,n,r,i)),!0}return!1}(i,e,t,n,r))r.stopPropagation();else if(Ld(e,r),4&t&&-1<Od.indexOf(e)){for(;null!==i;){var s=Ze(i);if(null!==s)switch(s.tag){case 3:if((s=s.stateNode).current.memoizedState.isDehydrated){var o=Te(s.pendingLanes);if(0!==o){var a=s;for(a.pendingLanes|=2,a.entangledLanes|=2;o;){var l=1<<31-_e(o);a.entanglements[1]|=l,o&=~l}Lc(s),0===(6&fu)&&(Ou=le()+500,Nc(0,!1))}}break;case 31:case 13:null!==(a=Dr(s,2))&&qu(a,0,2),$u(),gd(s,2)}if(null===(s=Ad(r))&&th(e,t,r,Ed,n),s===i)break;i=s}null!==i&&r.stopPropagation()}else th(e,t,r,null,n)}}function Ad(e){return Sd(e=Ot(e))}var Ed=null;function Sd(e){if(Ed=null,null!==(e=Qe(e))){var t=l(e);if(null===t)e=null;else{var n=t.tag;if(13===n){if(null!==(e=u(t)))return e;e=null}else if(31===n){if(null!==(e=c(t)))return e;e=null}else if(3===n){if(t.stateNode.current.memoizedState.isDehydrated)return 3===t.tag?t.stateNode.containerInfo:null;e=null}else t!==e&&(e=null)}}return Ed=e,null}function Td(e){switch(e){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(ue()){case ce:return 2;case he:return 8;case de:case fe:return 32;case pe:return 268435456;default:return 32}default:return 32}}var Cd=!1,kd=null,Rd=null,Pd=null,Id=new Map,Md=new Map,Dd=[],Od="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function Ld(e,t){switch(e){case"focusin":case"focusout":kd=null;break;case"dragenter":case"dragleave":Rd=null;break;case"mouseover":case"mouseout":Pd=null;break;case"pointerover":case"pointerout":Id.delete(t.pointerId);break;case"gotpointercapture":case"lostpointercapture":Md.delete(t.pointerId)}}function Nd(e,t,n,r,i,s){return null===e||e.nativeEvent!==s?(e={blockedOn:t,domEventName:n,eventSystemFlags:r,nativeEvent:s,targetContainers:[i]},null!==t&&(null!==(t=Ze(t))&&yd(t)),e):(e.eventSystemFlags|=r,t=e.targetContainers,null!==i&&-1===t.indexOf(i)&&t.push(i),e)}function Fd(e){var t=Qe(e.target);if(null!==t){var n=l(t);if(null!==n)if(13===(t=n.tag)){if(null!==(t=u(n)))return e.blockedOn=t,void Ue(e.priority,function(){vd(n)})}else if(31===t){if(null!==(t=c(n)))return e.blockedOn=t,void Ue(e.priority,function(){vd(n)})}else if(3===t&&n.stateNode.current.memoizedState.isDehydrated)return void(e.blockedOn=3===n.tag?n.stateNode.containerInfo:null)}e.blockedOn=null}function Bd(e){if(null!==e.blockedOn)return!1;for(var t=e.targetContainers;0<t.length;){var n=Ad(e.nativeEvent);if(null!==n)return null!==(t=Ze(n))&&yd(t),e.blockedOn=n,!1;var r=new(n=e.nativeEvent).constructor(n.type,n);Dt=r,n.target.dispatchEvent(r),Dt=null,t.shift()}return!0}function Ud(e,t,n){Bd(e)&&n.delete(t)}function Gd(){Cd=!1,null!==kd&&Bd(kd)&&(kd=null),null!==Rd&&Bd(Rd)&&(Rd=null),null!==Pd&&Bd(Pd)&&(Pd=null),Id.forEach(Ud),Md.forEach(Ud)}function zd(e,t){e.blockedOn===t&&(e.blockedOn=null,Cd||(Cd=!0,r.unstable_scheduleCallback(r.unstable_NormalPriority,Gd)))}var Hd=null;function jd(e){Hd!==e&&(Hd=e,r.unstable_scheduleCallback(r.unstable_NormalPriority,function(){Hd===e&&(Hd=null);for(var t=0;t<e.length;t+=3){var n=e[t],r=e[t+1],i=e[t+2];if("function"!==typeof r){if(null===Sd(r||n))continue;break}var s=Ze(n);null!==s&&(e.splice(t,3),t-=3,ta(s,{pending:!0,data:i,method:n.method,action:r},r,i))}}))}function Wd(e){function t(t){return zd(t,e)}null!==kd&&zd(kd,e),null!==Rd&&zd(Rd,e),null!==Pd&&zd(Pd,e),Id.forEach(t),Md.forEach(t);for(var n=0;n<Dd.length;n++){var r=Dd[n];r.blockedOn===e&&(r.blockedOn=null)}for(;0<Dd.length&&null===(n=Dd[0]).blockedOn;)Fd(n),null===n.blockedOn&&Dd.shift();if(null!=(n=(e.ownerDocument||e).$$reactFormReplay))for(r=0;r<n.length;r+=3){var i=n[r],s=n[r+1],o=i[He]||null;if("function"===typeof s)o||jd(n);else if(o){var a=null;if(s&&s.hasAttribute("formAction")){if(i=s,o=s[He]||null)a=o.formAction;else if(null!==Sd(i))continue}else a=o.action;"function"===typeof a?n[r+1]=a:(n.splice(r,3),r-=3),jd(n)}}}function Vd(){function e(e){e.canIntercept&&"react-transition"===e.info&&e.intercept({handler:function(){return new Promise(function(e){return i=e})},focusReset:"manual",scroll:"manual"})}function t(){null!==i&&(i(),i=null),r||setTimeout(n,20)}function n(){if(!r&&!navigation.transition){var e=navigation.currentEntry;e&&null!=e.url&&navigation.navigate(e.url,{state:e.getState(),info:"react-transition",history:"replace"})}}if("object"===typeof navigation){var r=!1,i=null;return navigation.addEventListener("navigate",e),navigation.addEventListener("navigatesuccess",t),navigation.addEventListener("navigateerror",t),setTimeout(n,100),function(){r=!0,navigation.removeEventListener("navigate",e),navigation.removeEventListener("navigatesuccess",t),navigation.removeEventListener("navigateerror",t),null!==i&&(i(),i=null)}}}function Xd(e){this._internalRoot=e}function Yd(e){this._internalRoot=e}Yd.prototype.render=Xd.prototype.render=function(e){var t=this._internalRoot;if(null===t)throw Error(o(409));pd(t.current,Xu(),e,t,null,null)},Yd.prototype.unmount=Xd.prototype.unmount=function(){var e=this._internalRoot;if(null!==e){this._internalRoot=null;var t=e.containerInfo;pd(e.current,2,null,e,null,null),$u(),t[je]=null}},Yd.prototype.unstable_scheduleHydration=function(e){if(e){var t=Be();e={blockedOn:null,target:e,priority:t};for(var n=0;n<Dd.length&&0!==t&&t<Dd[n].priority;n++);Dd.splice(n,0,e),0===n&&Fd(e)}};var qd=i.version;if("19.2.0"!==qd)throw Error(o(527,qd,"19.2.0"));L.findDOMNode=function(e){var t=e._reactInternals;if(void 0===t){if("function"===typeof e.render)throw Error(o(188));throw e=Object.keys(e).join(","),Error(o(268,e))}return e=function(e){var t=e.alternate;if(!t){if(null===(t=l(e)))throw Error(o(188));return t!==e?null:e}for(var n=e,r=t;;){var i=n.return;if(null===i)break;var s=i.alternate;if(null===s){if(null!==(r=i.return)){n=r;continue}break}if(i.child===s.child){for(s=i.child;s;){if(s===n)return h(i),e;if(s===r)return h(i),t;s=s.sibling}throw Error(o(188))}if(n.return!==r.return)n=i,r=s;else{for(var a=!1,u=i.child;u;){if(u===n){a=!0,n=i,r=s;break}if(u===r){a=!0,r=i,n=s;break}u=u.sibling}if(!a){for(u=s.child;u;){if(u===n){a=!0,n=s,r=i;break}if(u===r){a=!0,r=s,n=i;break}u=u.sibling}if(!a)throw Error(o(189))}}if(n.alternate!==r)throw Error(o(190))}if(3!==n.tag)throw Error(o(188));return n.stateNode.current===n?e:t}(t),e=null===(e=null!==e?d(e):null)?null:e.stateNode};var Kd={bundleType:0,version:"19.2.0",rendererPackageName:"react-dom",currentDispatcherRef:O,reconcilerVersion:"19.2.0"};if("undefined"!==typeof __REACT_DEVTOOLS_GLOBAL_HOOK__){var Qd=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Qd.isDisabled&&Qd.supportsFiber)try{ye=Qd.inject(Kd),ve=Qd}catch(Jd){}}t.createRoot=function(e,t){if(!a(e))throw Error(o(299));var n=!1,r="",i=Ea,s=Sa,l=Ta;return null!==t&&void 0!==t&&(!0===t.unstable_strictMode&&(n=!0),void 0!==t.identifierPrefix&&(r=t.identifierPrefix),void 0!==t.onUncaughtError&&(i=t.onUncaughtError),void 0!==t.onCaughtError&&(s=t.onCaughtError),void 0!==t.onRecoverableError&&(l=t.onRecoverableError)),t=dd(e,1,!1,null,0,n,r,null,i,s,l,Vd),e[je]=t.current,$c(e),new Xd(t)},t.hydrateRoot=function(e,t,n){if(!a(e))throw Error(o(299));var r=!1,i="",s=Ea,l=Sa,u=Ta,c=null;return null!==n&&void 0!==n&&(!0===n.unstable_strictMode&&(r=!0),void 0!==n.identifierPrefix&&(i=n.identifierPrefix),void 0!==n.onUncaughtError&&(s=n.onUncaughtError),void 0!==n.onCaughtError&&(l=n.onCaughtError),void 0!==n.onRecoverableError&&(u=n.onRecoverableError),void 0!==n.formState&&(c=n.formState)),(t=dd(e,1,!0,t,0,r,i,c,s,l,u,Vd)).context=fd(null),n=t.current,(i=vs(r=Ne(r=Xu()))).callback=null,bs(n,i,r),n=r,t.current.lanes=n,Me(t,n),Lc(t),e[je]=t.current,$c(e),new Yd(t)},t.version="19.2.0"},7283:e=>{"use strict";var t=Object.prototype.hasOwnProperty,n="~";function r(){}function i(e,t,n){this.fn=e,this.context=t,this.once=n||!1}function s(e,t,r,s,o){if("function"!==typeof r)throw new TypeError("The listener must be a function");var a=new i(r,s||e,o),l=n?n+t:t;return e._events[l]?e._events[l].fn?e._events[l]=[e._events[l],a]:e._events[l].push(a):(e._events[l]=a,e._eventsCount++),e}function o(e,t){0===--e._eventsCount?e._events=new r:delete e._events[t]}function a(){this._events=new r,this._eventsCount=0}Object.create&&(r.prototype=Object.create(null),(new r).__proto__||(n=!1)),a.prototype.eventNames=function(){var e,r,i=[];if(0===this._eventsCount)return i;for(r in e=this._events)t.call(e,r)&&i.push(n?r.slice(1):r);return Object.getOwnPropertySymbols?i.concat(Object.getOwnPropertySymbols(e)):i},a.prototype.listeners=function(e){var t=n?n+e:e,r=this._events[t];if(!r)return[];if(r.fn)return[r.fn];for(var i=0,s=r.length,o=new Array(s);i<s;i++)o[i]=r[i].fn;return o},a.prototype.listenerCount=function(e){var t=n?n+e:e,r=this._events[t];return r?r.fn?1:r.length:0},a.prototype.emit=function(e,t,r,i,s,o){var a=n?n+e:e;if(!this._events[a])return!1;var l,u,c=this._events[a],h=arguments.length;if(c.fn){switch(c.once&&this.removeListener(e,c.fn,void 0,!0),h){case 1:return c.fn.call(c.context),!0;case 2:return c.fn.call(c.context,t),!0;case 3:return c.fn.call(c.context,t,r),!0;case 4:return c.fn.call(c.context,t,r,i),!0;case 5:return c.fn.call(c.context,t,r,i,s),!0;case 6:return c.fn.call(c.context,t,r,i,s,o),!0}for(u=1,l=new Array(h-1);u<h;u++)l[u-1]=arguments[u];c.fn.apply(c.context,l)}else{var d,f=c.length;for(u=0;u<f;u++)switch(c[u].once&&this.removeListener(e,c[u].fn,void 0,!0),h){case 1:c[u].fn.call(c[u].context);break;case 2:c[u].fn.call(c[u].context,t);break;case 3:c[u].fn.call(c[u].context,t,r);break;case 4:c[u].fn.call(c[u].context,t,r,i);break;default:if(!l)for(d=1,l=new Array(h-1);d<h;d++)l[d-1]=arguments[d];c[u].fn.apply(c[u].context,l)}}return!0},a.prototype.on=function(e,t,n){return s(this,e,t,n,!1)},a.prototype.once=function(e,t,n){return s(this,e,t,n,!0)},a.prototype.removeListener=function(e,t,r,i){var s=n?n+e:e;if(!this._events[s])return this;if(!t)return o(this,s),this;var a=this._events[s];if(a.fn)a.fn!==t||i&&!a.once||r&&a.context!==r||o(this,s);else{for(var l=0,u=[],c=a.length;l<c;l++)(a[l].fn!==t||i&&!a[l].once||r&&a[l].context!==r)&&u.push(a[l]);u.length?this._events[s]=1===u.length?u[0]:u:o(this,s)}return this},a.prototype.removeAllListeners=function(e){var t;return e?(t=n?n+e:e,this._events[t]&&o(this,t)):(this._events=new r,this._eventsCount=0),this},a.prototype.off=a.prototype.removeListener,a.prototype.addListener=a.prototype.on,a.prefixed=n,a.EventEmitter=a,e.exports=a},7297:(e,t,n)=>{"use strict";var r,i=n(4781),s=n(5558);try{r=[].__proto__===Array.prototype}catch(u){if(!u||"object"!==typeof u||!("code"in u)||"ERR_PROTO_ACCESS"!==u.code)throw u}var o=!!r&&s&&s(Object.prototype,"__proto__"),a=Object,l=a.getPrototypeOf;e.exports=o&&"function"===typeof o.get?i([o.get]):"function"===typeof l&&function(e){return l(null==e?e:a(e))}},7324:e=>{e.exports=function(e,t,n,r){var i=n?n.call(r,e,t):void 0;if(void 0!==i)return!!i;if(e===t)return!0;if("object"!==typeof e||!e||"object"!==typeof t||!t)return!1;var s=Object.keys(e),o=Object.keys(t);if(s.length!==o.length)return!1;for(var a=Object.prototype.hasOwnProperty.bind(t),l=0;l<s.length;l++){var u=s[l];if(!a(u))return!1;var c=e[u],h=t[u];if(!1===(i=n?n.call(r,c,h,u):void 0)||void 0===i&&c!==h)return!1}return!0}},7583:e=>{"use strict";e.exports=Math.pow},7651:(e,t,n)=>{"use strict";var r=n(1251);e.exports=r.getPrototypeOf||null},7724:e=>{"use strict";var t=Object.prototype.toString,n=Math.max,r=function(e,t){for(var n=[],r=0;r<e.length;r+=1)n[r]=e[r];for(var i=0;i<t.length;i+=1)n[i+e.length]=t[i];return n};e.exports=function(e){var i=this;if("function"!==typeof i||"[object Function]"!==t.apply(i))throw new TypeError("Function.prototype.bind called on incompatible "+i);for(var s,o=function(e,t){for(var n=[],r=t||0,i=0;r<e.length;r+=1,i+=1)n[i]=e[r];return n}(arguments,1),a=n(0,i.length-o.length),l=[],u=0;u<a;u++)l[u]="$"+u;if(s=Function("binder","return function ("+function(e,t){for(var n="",r=0;r<e.length;r+=1)n+=e[r],r+1<e.length&&(n+=t);return n}(l,",")+"){ return binder.apply(this,arguments); }")(function(){if(this instanceof s){var t=i.apply(this,r(o,arguments));return Object(t)===t?t:this}return i.apply(e,r(o,arguments))}),i.prototype){var c=function(){};c.prototype=i.prototype,s.prototype=new c,c.prototype=null}return s}},7792:(e,t,n)=>{"use strict";var r=n(2816);e.exports=function(e){return r(e)||0===e?e:e<0?-1:1}},7858:(e,t,n)=>{"use strict";var r=n(2),i=n(8117),s=n(8206),o=n(4902),a=r("%Map%",!0),l=i("Map.prototype.get",!0),u=i("Map.prototype.set",!0),c=i("Map.prototype.has",!0),h=i("Map.prototype.delete",!0),d=i("Map.prototype.size",!0);e.exports=!!a&&function(){var e,t={assert:function(e){if(!t.has(e))throw new o("Side channel does not contain "+s(e))},delete:function(t){if(e){var n=h(e,t);return 0===d(e)&&(e=void 0),n}return!1},get:function(t){if(e)return l(e,t)},has:function(t){return!!e&&c(e,t)},set:function(t,n){e||(e=new a),u(e,t,n)}};return t}},7950:(e,t,n)=>{"use strict";!function e(){if("undefined"!==typeof __REACT_DEVTOOLS_GLOBAL_HOOK__&&"function"===typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE)try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(e)}catch(t){console.error(t)}}(),e.exports=n(6672)},8117:(e,t,n)=>{"use strict";var r=n(2),i=n(4781),s=i([r("%String.prototype.indexOf%")]);e.exports=function(e,t){var n=r(e,!!t);return"function"===typeof n&&s(e,".prototype.")>-1?i([n]):n}},8206:(e,t,n)=>{var r="function"===typeof Map&&Map.prototype,i=Object.getOwnPropertyDescriptor&&r?Object.getOwnPropertyDescriptor(Map.prototype,"size"):null,s=r&&i&&"function"===typeof i.get?i.get:null,o=r&&Map.prototype.forEach,a="function"===typeof Set&&Set.prototype,l=Object.getOwnPropertyDescriptor&&a?Object.getOwnPropertyDescriptor(Set.prototype,"size"):null,u=a&&l&&"function"===typeof l.get?l.get:null,c=a&&Set.prototype.forEach,h="function"===typeof WeakMap&&WeakMap.prototype?WeakMap.prototype.has:null,d="function"===typeof WeakSet&&WeakSet.prototype?WeakSet.prototype.has:null,f="function"===typeof WeakRef&&WeakRef.prototype?WeakRef.prototype.deref:null,p=Boolean.prototype.valueOf,m=Object.prototype.toString,g=Function.prototype.toString,y=String.prototype.match,v=String.prototype.slice,b=String.prototype.replace,_=String.prototype.toUpperCase,x=String.prototype.toLowerCase,w=RegExp.prototype.test,A=Array.prototype.concat,E=Array.prototype.join,S=Array.prototype.slice,T=Math.floor,C="function"===typeof BigInt?BigInt.prototype.valueOf:null,k=Object.getOwnPropertySymbols,R="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?Symbol.prototype.toString:null,P="function"===typeof Symbol&&"object"===typeof Symbol.iterator,I="function"===typeof Symbol&&Symbol.toStringTag&&(typeof Symbol.toStringTag===P||"symbol")?Symbol.toStringTag:null,M=Object.prototype.propertyIsEnumerable,D=("function"===typeof Reflect?Reflect.getPrototypeOf:Object.getPrototypeOf)||([].__proto__===Array.prototype?function(e){return e.__proto__}:null);function O(e,t){if(e===1/0||e===-1/0||e!==e||e&&e>-1e3&&e<1e3||w.call(/e/,t))return t;var n=/[0-9](?=(?:[0-9]{3})+(?![0-9]))/g;if("number"===typeof e){var r=e<0?-T(-e):T(e);if(r!==e){var i=String(r),s=v.call(t,i.length+1);return b.call(i,n,"$&_")+"."+b.call(b.call(s,/([0-9]{3})/g,"$&_"),/_$/,"")}}return b.call(t,n,"$&_")}var L=n(2634),N=L.custom,F=V(N)?N:null,B={__proto__:null,double:'"',single:"'"},U={__proto__:null,double:/(["\\])/g,single:/(['\\])/g};function G(e,t,n){var r=n.quoteStyle||t,i=B[r];return i+e+i}function z(e){return b.call(String(e),/"/g,"&quot;")}function H(e){return!I||!("object"===typeof e&&(I in e||"undefined"!==typeof e[I]))}function j(e){return"[object Array]"===q(e)&&H(e)}function W(e){return"[object RegExp]"===q(e)&&H(e)}function V(e){if(P)return e&&"object"===typeof e&&e instanceof Symbol;if("symbol"===typeof e)return!0;if(!e||"object"!==typeof e||!R)return!1;try{return R.call(e),!0}catch(t){}return!1}e.exports=function e(t,r,i,a){var l=r||{};if(Y(l,"quoteStyle")&&!Y(B,l.quoteStyle))throw new TypeError('option "quoteStyle" must be "single" or "double"');if(Y(l,"maxStringLength")&&("number"===typeof l.maxStringLength?l.maxStringLength<0&&l.maxStringLength!==1/0:null!==l.maxStringLength))throw new TypeError('option "maxStringLength", if provided, must be a positive integer, Infinity, or `null`');var m=!Y(l,"customInspect")||l.customInspect;if("boolean"!==typeof m&&"symbol"!==m)throw new TypeError("option \"customInspect\", if provided, must be `true`, `false`, or `'symbol'`");if(Y(l,"indent")&&null!==l.indent&&"\t"!==l.indent&&!(parseInt(l.indent,10)===l.indent&&l.indent>0))throw new TypeError('option "indent" must be "\\t", an integer > 0, or `null`');if(Y(l,"numericSeparator")&&"boolean"!==typeof l.numericSeparator)throw new TypeError('option "numericSeparator", if provided, must be `true` or `false`');var _=l.numericSeparator;if("undefined"===typeof t)return"undefined";if(null===t)return"null";if("boolean"===typeof t)return t?"true":"false";if("string"===typeof t)return Q(t,l);if("number"===typeof t){if(0===t)return 1/0/t>0?"0":"-0";var w=String(t);return _?O(t,w):w}if("bigint"===typeof t){var T=String(t)+"n";return _?O(t,T):T}var k="undefined"===typeof l.depth?5:l.depth;if("undefined"===typeof i&&(i=0),i>=k&&k>0&&"object"===typeof t)return j(t)?"[Array]":"[Object]";var N=function(e,t){var n;if("\t"===e.indent)n="\t";else{if(!("number"===typeof e.indent&&e.indent>0))return null;n=E.call(Array(e.indent+1)," ")}return{base:n,prev:E.call(Array(t+1),n)}}(l,i);if("undefined"===typeof a)a=[];else if(K(a,t)>=0)return"[Circular]";function U(t,n,r){if(n&&(a=S.call(a)).push(n),r){var s={depth:l.depth};return Y(l,"quoteStyle")&&(s.quoteStyle=l.quoteStyle),e(t,s,i+1,a)}return e(t,l,i+1,a)}if("function"===typeof t&&!W(t)){var X=function(e){if(e.name)return e.name;var t=y.call(g.call(e),/^function\s*([\w$]+)/);if(t)return t[1];return null}(t),Z=ne(t,U);return"[Function"+(X?": "+X:" (anonymous)")+"]"+(Z.length>0?" { "+E.call(Z,", ")+" }":"")}if(V(t)){var re=P?b.call(String(t),/^(Symbol\(.*\))_[^)]*$/,"$1"):R.call(t);return"object"!==typeof t||P?re:J(re)}if(function(e){if(!e||"object"!==typeof e)return!1;if("undefined"!==typeof HTMLElement&&e instanceof HTMLElement)return!0;return"string"===typeof e.nodeName&&"function"===typeof e.getAttribute}(t)){for(var ie="<"+x.call(String(t.nodeName)),se=t.attributes||[],oe=0;oe<se.length;oe++)ie+=" "+se[oe].name+"="+G(z(se[oe].value),"double",l);return ie+=">",t.childNodes&&t.childNodes.length&&(ie+="..."),ie+="</"+x.call(String(t.nodeName))+">"}if(j(t)){if(0===t.length)return"[]";var ae=ne(t,U);return N&&!function(e){for(var t=0;t<e.length;t++)if(K(e[t],"\n")>=0)return!1;return!0}(ae)?"["+te(ae,N)+"]":"[ "+E.call(ae,", ")+" ]"}if(function(e){return"[object Error]"===q(e)&&H(e)}(t)){var le=ne(t,U);return"cause"in Error.prototype||!("cause"in t)||M.call(t,"cause")?0===le.length?"["+String(t)+"]":"{ ["+String(t)+"] "+E.call(le,", ")+" }":"{ ["+String(t)+"] "+E.call(A.call("[cause]: "+U(t.cause),le),", ")+" }"}if("object"===typeof t&&m){if(F&&"function"===typeof t[F]&&L)return L(t,{depth:k-i});if("symbol"!==m&&"function"===typeof t.inspect)return t.inspect()}if(function(e){if(!s||!e||"object"!==typeof e)return!1;try{s.call(e);try{u.call(e)}catch(ie){return!0}return e instanceof Map}catch(t){}return!1}(t)){var ue=[];return o&&o.call(t,function(e,n){ue.push(U(n,t,!0)+" => "+U(e,t))}),ee("Map",s.call(t),ue,N)}if(function(e){if(!u||!e||"object"!==typeof e)return!1;try{u.call(e);try{s.call(e)}catch(t){return!0}return e instanceof Set}catch(n){}return!1}(t)){var ce=[];return c&&c.call(t,function(e){ce.push(U(e,t))}),ee("Set",u.call(t),ce,N)}if(function(e){if(!h||!e||"object"!==typeof e)return!1;try{h.call(e,h);try{d.call(e,d)}catch(ie){return!0}return e instanceof WeakMap}catch(t){}return!1}(t))return $("WeakMap");if(function(e){if(!d||!e||"object"!==typeof e)return!1;try{d.call(e,d);try{h.call(e,h)}catch(ie){return!0}return e instanceof WeakSet}catch(t){}return!1}(t))return $("WeakSet");if(function(e){if(!f||!e||"object"!==typeof e)return!1;try{return f.call(e),!0}catch(t){}return!1}(t))return $("WeakRef");if(function(e){return"[object Number]"===q(e)&&H(e)}(t))return J(U(Number(t)));if(function(e){if(!e||"object"!==typeof e||!C)return!1;try{return C.call(e),!0}catch(t){}return!1}(t))return J(U(C.call(t)));if(function(e){return"[object Boolean]"===q(e)&&H(e)}(t))return J(p.call(t));if(function(e){return"[object String]"===q(e)&&H(e)}(t))return J(U(String(t)));if("undefined"!==typeof window&&t===window)return"{ [object Window] }";if("undefined"!==typeof globalThis&&t===globalThis||"undefined"!==typeof n.g&&t===n.g)return"{ [object globalThis] }";if(!function(e){return"[object Date]"===q(e)&&H(e)}(t)&&!W(t)){var he=ne(t,U),de=D?D(t)===Object.prototype:t instanceof Object||t.constructor===Object,fe=t instanceof Object?"":"null prototype",pe=!de&&I&&Object(t)===t&&I in t?v.call(q(t),8,-1):fe?"Object":"",me=(de||"function"!==typeof t.constructor?"":t.constructor.name?t.constructor.name+" ":"")+(pe||fe?"["+E.call(A.call([],pe||[],fe||[]),": ")+"] ":"");return 0===he.length?me+"{}":N?me+"{"+te(he,N)+"}":me+"{ "+E.call(he,", ")+" }"}return String(t)};var X=Object.prototype.hasOwnProperty||function(e){return e in this};function Y(e,t){return X.call(e,t)}function q(e){return m.call(e)}function K(e,t){if(e.indexOf)return e.indexOf(t);for(var n=0,r=e.length;n<r;n++)if(e[n]===t)return n;return-1}function Q(e,t){if(e.length>t.maxStringLength){var n=e.length-t.maxStringLength,r="... "+n+" more character"+(n>1?"s":"");return Q(v.call(e,0,t.maxStringLength),t)+r}var i=U[t.quoteStyle||"single"];return i.lastIndex=0,G(b.call(b.call(e,i,"\\$1"),/[\x00-\x1f]/g,Z),"single",t)}function Z(e){var t=e.charCodeAt(0),n={8:"b",9:"t",10:"n",12:"f",13:"r"}[t];return n?"\\"+n:"\\x"+(t<16?"0":"")+_.call(t.toString(16))}function J(e){return"Object("+e+")"}function $(e){return e+" { ? }"}function ee(e,t,n,r){return e+" ("+t+") {"+(r?te(n,r):E.call(n,", "))+"}"}function te(e,t){if(0===e.length)return"";var n="\n"+t.prev+t.base;return n+E.call(e,","+n)+"\n"+t.prev}function ne(e,t){var n=j(e),r=[];if(n){r.length=e.length;for(var i=0;i<e.length;i++)r[i]=Y(e,i)?t(e[i],e):""}var s,o="function"===typeof k?k(e):[];if(P){s={};for(var a=0;a<o.length;a++)s["$"+o[a]]=o[a]}for(var l in e)Y(e,l)&&(n&&String(Number(l))===l&&l<e.length||P&&s["$"+l]instanceof Symbol||(w.call(/[^\w$]/,l)?r.push(t(l,e)+": "+t(e[l],e)):r.push(l+": "+t(e[l],e))));if("function"===typeof k)for(var u=0;u<o.length;u++)M.call(e,o[u])&&r.push("["+t(o[u])+"]: "+t(e[o[u]],e));return r}},8258:e=>{"use strict";e.exports=Object.getOwnPropertyDescriptor},8712:(e,t,n)=>{"use strict";var r=n(8206),i=n(4902),s=function(e,t,n){for(var r,i=e;null!=(r=i.next);i=r)if(r.key===t)return i.next=r.next,n||(r.next=e.next,e.next=r),r};e.exports=function(){var e,t={assert:function(e){if(!t.has(e))throw new i("Side channel does not contain "+r(e))},delete:function(t){var n=e&&e.next,r=function(e,t){if(e)return s(e,t,!0)}(e,t);return r&&n&&n===r&&(e=void 0),!!r},get:function(t){return function(e,t){if(e){var n=s(e,t);return n&&n.value}}(e,t)},has:function(t){return function(e,t){return!!e&&!!s(e,t)}(e,t)},set:function(t,n){e||(e={next:void 0}),function(e,t,n){var r=s(e,t);r?r.value=n:e.next={key:t,next:e.next,value:n}}(e,t,n)}};return t}},8853:(e,t,n)=>{"use strict";e.exports=n(5896)},9108:e=>{"use strict";var t=String.prototype.replace,n=/%20/g,r="RFC1738",i="RFC3986";e.exports={default:i,formatters:{RFC1738:function(e){return t.call(e,n,"+")},RFC3986:function(e){return String(e)}},RFC1738:r,RFC3986:i}},9269:(e,t,n)=>{"use strict";var r=n(4902),i=n(8206),s=n(8712),o=n(7858),a=n(5322)||o||s;e.exports=function(){var e,t={assert:function(e){if(!t.has(e))throw new r("Side channel does not contain "+i(e))},delete:function(t){return!!e&&e.delete(t)},get:function(t){return e&&e.get(t)},has:function(t){return!!e&&e.has(t)},set:function(t,n){e||(e=a()),e.set(t,n)}};return t}},9304:e=>{"use strict";e.exports=Error},9534:e=>{"use strict";e.exports=function(){if("function"!==typeof Symbol||"function"!==typeof Object.getOwnPropertySymbols)return!1;if("symbol"===typeof Symbol.iterator)return!0;var e={},t=Symbol("test"),n=Object(t);if("string"===typeof t)return!1;if("[object Symbol]"!==Object.prototype.toString.call(t))return!1;if("[object Symbol]"!==Object.prototype.toString.call(n))return!1;for(var r in e[t]=42,e)return!1;if("function"===typeof Object.keys&&0!==Object.keys(e).length)return!1;if("function"===typeof Object.getOwnPropertyNames&&0!==Object.getOwnPropertyNames(e).length)return!1;var i=Object.getOwnPropertySymbols(e);if(1!==i.length||i[0]!==t)return!1;if(!Object.prototype.propertyIsEnumerable.call(e,t))return!1;if("function"===typeof Object.getOwnPropertyDescriptor){var s=Object.getOwnPropertyDescriptor(e,t);if(42!==s.value||!0!==s.enumerable)return!1}return!0}},9820:e=>{"use strict";e.exports=EvalError}},t={};function n(r){var i=t[r];if(void 0!==i)return i.exports;var s=t[r]={id:r,loaded:!1,exports:{}};return e[r].call(s.exports,s,s.exports,n),s.loaded=!0,s.exports}n.n=e=>{var t=e&&e.__esModule?()=>e.default:()=>e;return n.d(t,{a:t}),t},n.d=(e,t)=>{for(var r in t)n.o(t,r)&&!n.o(e,r)&&Object.defineProperty(e,r,{enumerable:!0,get:t[r]})},n.g=function(){if("object"===typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(e){if("object"===typeof window)return window}}(),n.o=(e,t)=>Object.prototype.hasOwnProperty.call(e,t),n.nmd=e=>(e.paths=[],e.children||(e.children=[]),e),n.p="/rpg-portfolio/",n.nc=void 0,(()=>{"use strict";function e(e,t){return t||(t=e.slice(0)),Object.freeze(Object.defineProperties(e,{raw:{value:Object.freeze(t)}}))}var t=n(5043),r=n(4391);function i(e,t){if(null==e)return{};var n,r,i=function(e,t){if(null==e)return{};var n={};for(var r in e)if({}.hasOwnProperty.call(e,r)){if(-1!==t.indexOf(r))continue;n[r]=e[r]}return n}(e,t);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);for(r=0;r<s.length;r++)n=s[r],-1===t.indexOf(n)&&{}.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}function s(e){return s="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},s(e)}function o(e){var t=function(e,t){if("object"!=s(e)||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!=s(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==s(t)?t:t+""}function a(e,t,n){return(t=o(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function l(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,r)}return n}function u(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?l(Object(n),!0).forEach(function(t){a(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):l(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}const c=["sri"],h=["page"],d=["page","matches"],f=["onClick","discover","prefetch","relative","reloadDocument","replace","state","target","to","preventScrollReset","viewTransition"],p=["aria-current","caseSensitive","className","end","style","to","viewTransition","children"],m=["discover","fetcherKey","navigate","reloadDocument","replace","state","method","action","onSubmit","relative","preventScrollReset","viewTransition"];var g="popstate";function y(){return E(function(e,t){let{pathname:n,search:r,hash:i}=e.location;return x("",{pathname:n,search:r,hash:i},t.state&&t.state.usr||null,t.state&&t.state.key||"default")},function(e,t){return"string"===typeof t?t:w(t)},null,arguments.length>0&&void 0!==arguments[0]?arguments[0]:{})}function v(e,t){if(!1===e||null===e||"undefined"===typeof e)throw new Error(t)}function b(e,t){if(!e){"undefined"!==typeof console&&console.warn(t);try{throw new Error(t)}catch(n){}}}function _(e,t){return{usr:e.state,key:e.key,idx:t}}function x(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null,r=arguments.length>3?arguments[3]:void 0;return u(u({pathname:"string"===typeof e?e:e.pathname,search:"",hash:""},"string"===typeof t?A(t):t),{},{state:n,key:t&&t.key||r||Math.random().toString(36).substring(2,10)})}function w(e){let{pathname:t="/",search:n="",hash:r=""}=e;return n&&"?"!==n&&(t+="?"===n.charAt(0)?n:"?"+n),r&&"#"!==r&&(t+="#"===r.charAt(0)?r:"#"+r),t}function A(e){let t={};if(e){let n=e.indexOf("#");n>=0&&(t.hash=e.substring(n),e=e.substring(0,n));let r=e.indexOf("?");r>=0&&(t.search=e.substring(r),e=e.substring(0,r)),e&&(t.pathname=e)}return t}function E(e,t,n){let r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{},{window:i=document.defaultView,v5Compat:s=!1}=r,o=i.history,a="POP",l=null,c=h();function h(){return(o.state||{idx:null}).idx}function d(){a="POP";let e=h(),t=null==e?null:e-c;c=e,l&&l({action:a,location:p.location,delta:t})}function f(e){return S(e)}null==c&&(c=0,o.replaceState(u(u({},o.state),{},{idx:c}),""));let p={get action(){return a},get location(){return e(i,o)},listen(e){if(l)throw new Error("A history only accepts one active listener");return i.addEventListener(g,d),l=e,()=>{i.removeEventListener(g,d),l=null}},createHref:e=>t(i,e),createURL:f,encodeLocation(e){let t=f(e);return{pathname:t.pathname,search:t.search,hash:t.hash}},push:function(e,t){a="PUSH";let r=x(p.location,e,t);n&&n(r,e),c=h()+1;let u=_(r,c),d=p.createHref(r);try{o.pushState(u,"",d)}catch(f){if(f instanceof DOMException&&"DataCloneError"===f.name)throw f;i.location.assign(d)}s&&l&&l({action:a,location:p.location,delta:1})},replace:function(e,t){a="REPLACE";let r=x(p.location,e,t);n&&n(r,e),c=h();let i=_(r,c),u=p.createHref(r);o.replaceState(i,"",u),s&&l&&l({action:a,location:p.location,delta:0})},go:e=>o.go(e)};return p}function S(e){let t=arguments.length>1&&void 0!==arguments[1]&&arguments[1],n="http://localhost";"undefined"!==typeof window&&(n="null"!==window.location.origin?window.location.origin:window.location.href),v(n,"No window.location.(origin|href) available to create URL");let r="string"===typeof e?e:w(e);return r=r.replace(/ $/,"%20"),!t&&r.startsWith("//")&&(r=n+r),new URL(r,n)}new WeakMap;function T(e,t){return C(e,t,arguments.length>2&&void 0!==arguments[2]?arguments[2]:"/",!1)}function C(e,t,n,r){let i=H(("string"===typeof t?A(t):t).pathname||"/",n);if(null==i)return null;let s=k(e);!function(e){e.sort((e,t)=>e.score!==t.score?t.score-e.score:function(e,t){let n=e.length===t.length&&e.slice(0,-1).every((e,n)=>e===t[n]);return n?e[e.length-1]-t[t.length-1]:0}(e.routesMeta.map(e=>e.childrenIndex),t.routesMeta.map(e=>e.childrenIndex)))}(s);let o=null;for(let a=0;null==o&&a<s.length;++a){let e=z(i);o=B(s[a],e,r)}return o}function k(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[],n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:[],r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:"",i=arguments.length>4&&void 0!==arguments[4]&&arguments[4],s=function(e,s){let o=arguments.length>2&&void 0!==arguments[2]?arguments[2]:i,a=arguments.length>3?arguments[3]:void 0,l={relativePath:void 0===a?e.path||"":a,caseSensitive:!0===e.caseSensitive,childrenIndex:s,route:e};if(l.relativePath.startsWith("/")){if(!l.relativePath.startsWith(r)&&o)return;v(l.relativePath.startsWith(r),'Absolute route path "'.concat(l.relativePath,'" nested under path "').concat(r,'" is not valid. An absolute child route path must start with the combined path of all its parent routes.')),l.relativePath=l.relativePath.slice(r.length)}let u=Q([r,l.relativePath]),c=n.concat(l);e.children&&e.children.length>0&&(v(!0!==e.index,'Index routes must not have child routes. Please remove all child routes from route path "'.concat(u,'".')),k(e.children,t,c,u,o)),(null!=e.path||e.index)&&t.push({path:u,score:F(u,e.index),routesMeta:c})};return e.forEach((e,t)=>{var n;if(""!==e.path&&null!==(n=e.path)&&void 0!==n&&n.includes("?"))for(let r of R(e.path))s(e,t,!0,r);else s(e,t)}),t}function R(e){let t=e.split("/");if(0===t.length)return[];let[n,...r]=t,i=n.endsWith("?"),s=n.replace(/\?$/,"");if(0===r.length)return i?[s,""]:[s];let o=R(r.join("/")),a=[];return a.push(...o.map(e=>""===e?s:[s,e].join("/"))),i&&a.push(...o),a.map(t=>e.startsWith("/")&&""===t?"/":t)}var P=/^:[\w-]+$/,I=3,M=2,D=1,O=10,L=-2,N=e=>"*"===e;function F(e,t){let n=e.split("/"),r=n.length;return n.some(N)&&(r+=L),t&&(r+=M),n.filter(e=>!N(e)).reduce((e,t)=>e+(P.test(t)?I:""===t?D:O),r)}function B(e,t){let n=arguments.length>2&&void 0!==arguments[2]&&arguments[2],{routesMeta:r}=e,i={},s="/",o=[];for(let a=0;a<r.length;++a){let e=r[a],l=a===r.length-1,u="/"===s?t:t.slice(s.length)||"/",c=U({path:e.relativePath,caseSensitive:e.caseSensitive,end:l},u),h=e.route;if(!c&&l&&n&&!r[r.length-1].route.index&&(c=U({path:e.relativePath,caseSensitive:e.caseSensitive,end:!1},u)),!c)return null;Object.assign(i,c.params),o.push({params:i,pathname:Q([s,c.pathname]),pathnameBase:Z(Q([s,c.pathnameBase])),route:h}),"/"!==c.pathnameBase&&(s=Q([s,c.pathnameBase]))}return o}function U(e,t){"string"===typeof e&&(e={path:e,caseSensitive:!1,end:!0});let[n,r]=G(e.path,e.caseSensitive,e.end),i=t.match(n);if(!i)return null;let s=i[0],o=s.replace(/(.)\/+$/,"$1"),a=i.slice(1);return{params:r.reduce((e,t,n)=>{let{paramName:r,isOptional:i}=t;if("*"===r){let e=a[n]||"";o=s.slice(0,s.length-e.length).replace(/(.)\/+$/,"$1")}const l=a[n];return e[r]=i&&!l?void 0:(l||"").replace(/%2F/g,"/"),e},{}),pathname:s,pathnameBase:o,pattern:e}}function G(e){let t=arguments.length>1&&void 0!==arguments[1]&&arguments[1],n=!(arguments.length>2&&void 0!==arguments[2])||arguments[2];b("*"===e||!e.endsWith("*")||e.endsWith("/*"),'Route path "'.concat(e,'" will be treated as if it were "').concat(e.replace(/\*$/,"/*"),'" because the `*` character must always follow a `/` in the pattern. To get rid of this warning, please change the route path to "').concat(e.replace(/\*$/,"/*"),'".'));let r=[],i="^"+e.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(e,t,n)=>(r.push({paramName:t,isOptional:null!=n}),n?"/?([^\\/]+)?":"/([^\\/]+)")).replace(/\/([\w-]+)\?(\/|$)/g,"(/$1)?$2");return e.endsWith("*")?(r.push({paramName:"*"}),i+="*"===e||"/*"===e?"(.*)$":"(?:\\/(.+)|\\/*)$"):n?i+="\\/*$":""!==e&&"/"!==e&&(i+="(?:(?=\\/|$))"),[new RegExp(i,t?void 0:"i"),r]}function z(e){try{return e.split("/").map(e=>decodeURIComponent(e).replace(/\//g,"%2F")).join("/")}catch(t){return b(!1,'The URL path "'.concat(e,'" could not be decoded because it is a malformed URL segment. This is probably due to a bad percent encoding (').concat(t,").")),e}}function H(e,t){if("/"===t)return e;if(!e.toLowerCase().startsWith(t.toLowerCase()))return null;let n=t.endsWith("/")?t.length-1:t.length,r=e.charAt(n);return r&&"/"!==r?null:e.slice(n)||"/"}var j=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,W=e=>j.test(e);function V(e,t){let n=t.replace(/\/+$/,"").split("/");return e.split("/").forEach(e=>{".."===e?n.length>1&&n.pop():"."!==e&&n.push(e)}),n.length>1?n.join("/"):"/"}function X(e,t,n,r){return"Cannot include a '".concat(e,"' character in a manually specified `to.").concat(t,"` field [").concat(JSON.stringify(r),"].  Please separate it out to the `to.").concat(n,'` field. Alternatively you may provide the full path as a string in <Link to="..."> and the router will parse it for you.')}function Y(e){return e.filter((e,t)=>0===t||e.route.path&&e.route.path.length>0)}function q(e){let t=Y(e);return t.map((e,n)=>n===t.length-1?e.pathname:e.pathnameBase)}function K(e,t,n){let r,i=arguments.length>3&&void 0!==arguments[3]&&arguments[3];"string"===typeof e?r=A(e):(r=u({},e),v(!r.pathname||!r.pathname.includes("?"),X("?","pathname","search",r)),v(!r.pathname||!r.pathname.includes("#"),X("#","pathname","hash",r)),v(!r.search||!r.search.includes("#"),X("#","search","hash",r)));let s,o=""===e||""===r.pathname,a=o?"/":r.pathname;if(null==a)s=n;else{let e=t.length-1;if(!i&&a.startsWith("..")){let t=a.split("/");for(;".."===t[0];)t.shift(),e-=1;r.pathname=t.join("/")}s=e>=0?t[e]:"/"}let l=function(e){let t,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"/",{pathname:r,search:i="",hash:s=""}="string"===typeof e?A(e):e;if(r)if(W(r))t=r;else{if(r.includes("//")){let e=r;r=r.replace(/\/\/+/g,"/"),b(!1,"Pathnames cannot have embedded double slashes - normalizing ".concat(e," -> ").concat(r))}t=r.startsWith("/")?V(r.substring(1),"/"):V(r,n)}else t=n;return{pathname:t,search:J(i),hash:$(s)}}(r,s),c=a&&"/"!==a&&a.endsWith("/"),h=(o||"."===a)&&n.endsWith("/");return l.pathname.endsWith("/")||!c&&!h||(l.pathname+="/"),l}var Q=e=>e.join("/").replace(/\/\/+/g,"/"),Z=e=>e.replace(/\/+$/,"").replace(/^\/*/,"/"),J=e=>e&&"?"!==e?e.startsWith("?")?e:"?"+e:"",$=e=>e&&"#"!==e?e.startsWith("#")?e:"#"+e:"";function ee(e){return null!=e&&"number"===typeof e.status&&"string"===typeof e.statusText&&"boolean"===typeof e.internal&&"data"in e}Symbol("Uninstrumented");Object.getOwnPropertyNames(Object.prototype).sort().join("\0");var te=["POST","PUT","PATCH","DELETE"],ne=(new Set(te),["GET",...te]);new Set(ne),Symbol("ResetLoaderData");var re=t.createContext(null);re.displayName="DataRouter";var ie=t.createContext(null);ie.displayName="DataRouterState";var se=t.createContext(!1);var oe=t.createContext({isTransitioning:!1});oe.displayName="ViewTransition";var ae=t.createContext(new Map);ae.displayName="Fetchers";var le=t.createContext(null);le.displayName="Await";var ue=t.createContext(null);ue.displayName="Navigation";var ce=t.createContext(null);ce.displayName="Location";var he=t.createContext({outlet:null,matches:[],isDataRoute:!1});he.displayName="Route";var de=t.createContext(null);de.displayName="RouteError";function fe(){return null!=t.useContext(ce)}function pe(){return v(fe(),"useLocation() may be used only in the context of a <Router> component."),t.useContext(ce).location}var me="You should call navigate() in a React.useEffect(), not when your component is first rendered.";function ge(e){t.useContext(ue).static||t.useLayoutEffect(e)}function ye(){let{isDataRoute:e}=t.useContext(he);return e?function(){let{router:e}=Te("useNavigate"),n=ke("useNavigate"),r=t.useRef(!1);ge(()=>{r.current=!0});let i=t.useCallback(async function(t){let i=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};b(r.current,me),r.current&&("number"===typeof t?e.navigate(t):await e.navigate(t,u({fromRouteId:n},i)))},[e,n]);return i}():function(){v(fe(),"useNavigate() may be used only in the context of a <Router> component.");let e=t.useContext(re),{basename:n,navigator:r}=t.useContext(ue),{matches:i}=t.useContext(he),{pathname:s}=pe(),o=JSON.stringify(q(i)),a=t.useRef(!1);ge(()=>{a.current=!0});let l=t.useCallback(function(t){let i=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};if(b(a.current,me),!a.current)return;if("number"===typeof t)return void r.go(t);let l=K(t,JSON.parse(o),s,"path"===i.relative);null==e&&"/"!==n&&(l.pathname="/"===l.pathname?n:Q([n,l.pathname])),(i.replace?r.replace:r.push)(l,i.state,i)},[n,r,o,s,e]);return l}()}t.createContext(null);function ve(e){let{relative:n}=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},{matches:r}=t.useContext(he),{pathname:i}=pe(),s=JSON.stringify(q(r));return t.useMemo(()=>K(e,JSON.parse(s),i,"path"===n),[e,s,i,n])}function be(e,n,r,i,s){v(fe(),"useRoutes() may be used only in the context of a <Router> component.");let{navigator:o}=t.useContext(ue),{matches:a}=t.useContext(he),l=a[a.length-1],c=l?l.params:{},h=l?l.pathname:"/",d=l?l.pathnameBase:"/",f=l&&l.route;{let e=f&&f.path||"";Ie(h,!f||e.endsWith("*")||e.endsWith("*?"),'You rendered descendant <Routes> (or called `useRoutes()`) at "'.concat(h,'" (under <Route path="').concat(e,'">) but the parent route path has no trailing "*". This means if you navigate deeper, the parent won\'t match anymore and therefore the child routes will never render.\n\nPlease change the parent <Route path="').concat(e,'"> to <Route path="').concat("/"===e?"*":"".concat(e,"/*"),'">.'))}let p,m=pe();if(n){var g;let e="string"===typeof n?A(n):n;v("/"===d||(null===(g=e.pathname)||void 0===g?void 0:g.startsWith(d)),'When overriding the location using `<Routes location>` or `useRoutes(routes, location)`, the location pathname must begin with the portion of the URL pathname that was matched by all parent routes. The current pathname base is "'.concat(d,'" but pathname "').concat(e.pathname,'" was given in the `location` prop.')),p=e}else p=m;let y=p.pathname||"/",_=y;if("/"!==d){let e=d.replace(/^\//,"").split("/");_="/"+y.replace(/^\//,"").split("/").slice(e.length).join("/")}let x=T(e,{pathname:_});b(f||null!=x,'No routes matched location "'.concat(p.pathname).concat(p.search).concat(p.hash,'" ')),b(null==x||void 0!==x[x.length-1].route.element||void 0!==x[x.length-1].route.Component||void 0!==x[x.length-1].route.lazy,'Matched leaf route at location "'.concat(p.pathname).concat(p.search).concat(p.hash,'" does not have an element or Component. This means it will render an <Outlet /> with a null value by default resulting in an "empty" page.'));let w=Ee(x&&x.map(e=>Object.assign({},e,{params:Object.assign({},c,e.params),pathname:Q([d,o.encodeLocation?o.encodeLocation(e.pathname.replace(/\?/g,"%3F").replace(/#/g,"%23")).pathname:e.pathname]),pathnameBase:"/"===e.pathnameBase?d:Q([d,o.encodeLocation?o.encodeLocation(e.pathnameBase.replace(/\?/g,"%3F").replace(/#/g,"%23")).pathname:e.pathnameBase])})),a,r,i,s);return n&&w?t.createElement(ce.Provider,{value:{location:u({pathname:"/",search:"",hash:"",state:null,key:"default"},p),navigationType:"POP"}},w):w}function _e(){let e=Re(),n=ee(e)?"".concat(e.status," ").concat(e.statusText):e instanceof Error?e.message:JSON.stringify(e),r=e instanceof Error?e.stack:null,i="rgba(200,200,200, 0.5)",s={padding:"0.5rem",backgroundColor:i},o={padding:"2px 4px",backgroundColor:i},a=null;return console.error("Error handled by React Router default ErrorBoundary:",e),a=t.createElement(t.Fragment,null,t.createElement("p",null,"\ud83d\udcbf Hey developer \ud83d\udc4b"),t.createElement("p",null,"You can provide a way better UX than this when your app throws errors by providing your own ",t.createElement("code",{style:o},"ErrorBoundary")," or"," ",t.createElement("code",{style:o},"errorElement")," prop on your route.")),t.createElement(t.Fragment,null,t.createElement("h2",null,"Unexpected Application Error!"),t.createElement("h3",{style:{fontStyle:"italic"}},n),r?t.createElement("pre",{style:s},r):null,a)}var xe=t.createElement(_e,null),we=class extends t.Component{constructor(e){super(e),this.state={location:e.location,revalidation:e.revalidation,error:e.error}}static getDerivedStateFromError(e){return{error:e}}static getDerivedStateFromProps(e,t){return t.location!==e.location||"idle"!==t.revalidation&&"idle"===e.revalidation?{error:e.error,location:e.location,revalidation:e.revalidation}:{error:void 0!==e.error?e.error:t.error,location:t.location,revalidation:e.revalidation||t.revalidation}}componentDidCatch(e,t){this.props.onError?this.props.onError(e,t):console.error("React Router caught the following error during render",e)}render(){return void 0!==this.state.error?t.createElement(he.Provider,{value:this.props.routeContext},t.createElement(de.Provider,{value:this.state.error,children:this.props.component})):this.props.children}};function Ae(e){let{routeContext:n,match:r,children:i}=e,s=t.useContext(re);return s&&s.static&&s.staticContext&&(r.route.errorElement||r.route.ErrorBoundary)&&(s.staticContext._deepestRenderedBoundaryId=r.route.id),t.createElement(he.Provider,{value:n},i)}function Ee(e){let n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[],r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null,i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:null;if(null==e){if(!r)return null;if(r.errors)e=r.matches;else{if(0!==n.length||r.initialized||!(r.matches.length>0))return null;e=r.matches}}let s=e,o=null===r||void 0===r?void 0:r.errors;if(null!=o){let e=s.findIndex(e=>e.route.id&&void 0!==(null===o||void 0===o?void 0:o[e.route.id]));v(e>=0,"Could not find a matching route for errors on route IDs: ".concat(Object.keys(o).join(","))),s=s.slice(0,Math.min(s.length,e+1))}let a=!1,l=-1;if(r)for(let t=0;t<s.length;t++){let e=s[t];if((e.route.HydrateFallback||e.route.hydrateFallbackElement)&&(l=t),e.route.id){let{loaderData:t,errors:n}=r,i=e.route.loader&&!t.hasOwnProperty(e.route.id)&&(!n||void 0===n[e.route.id]);if(e.route.lazy||i){a=!0,s=l>=0?s.slice(0,l+1):[s[0]];break}}}let u=r&&i?(e,t)=>{var n,s;i(e,{location:r.location,params:null!==(n=null===(s=r.matches)||void 0===s||null===(s=s[0])||void 0===s?void 0:s.params)&&void 0!==n?n:{},errorInfo:t})}:void 0;return s.reduceRight((e,i,c)=>{let h,d=!1,f=null,p=null;r&&(h=o&&i.route.id?o[i.route.id]:void 0,f=i.route.errorElement||xe,a&&(l<0&&0===c?(Ie("route-fallback",!1,"No `HydrateFallback` element provided to render during initial hydration"),d=!0,p=null):l===c&&(d=!0,p=i.route.hydrateFallbackElement||null)));let m=n.concat(s.slice(0,c+1)),g=()=>{let n;return n=h?f:d?p:i.route.Component?t.createElement(i.route.Component,null):i.route.element?i.route.element:e,t.createElement(Ae,{match:i,routeContext:{outlet:e,matches:m,isDataRoute:null!=r},children:n})};return r&&(i.route.ErrorBoundary||i.route.errorElement||0===c)?t.createElement(we,{location:r.location,revalidation:r.revalidation,component:f,error:h,children:g(),routeContext:{outlet:null,matches:m,isDataRoute:!0},onError:u}):g()},null)}function Se(e){return"".concat(e," must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.")}function Te(e){let n=t.useContext(re);return v(n,Se(e)),n}function Ce(e){let n=t.useContext(ie);return v(n,Se(e)),n}function ke(e){let n=function(e){let n=t.useContext(he);return v(n,Se(e)),n}(e),r=n.matches[n.matches.length-1];return v(r.route.id,"".concat(e,' can only be used on routes that contain a unique "id"')),r.route.id}function Re(){var e;let n=t.useContext(de),r=Ce("useRouteError"),i=ke("useRouteError");return void 0!==n?n:null===(e=r.errors)||void 0===e?void 0:e[i]}var Pe={};function Ie(e,t,n){t||Pe[e]||(Pe[e]=!0,b(!1,n))}var Me={};function De(e,t){e||Me[t]||(Me[t]=!0,console.warn(t))}t.memo(function(e){let{routes:t,future:n,state:r,unstable_onError:i}=e;return be(t,void 0,r,i,n)});function Oe(e){v(!1,"A <Route> is only ever to be used as the child of <Routes> element, never rendered directly. Please wrap your <Route> in a <Routes>.")}function Le(e){let{basename:n="/",children:r=null,location:i,navigationType:s="POP",navigator:o,static:a=!1}=e;v(!fe(),"You cannot render a <Router> inside another <Router>. You should never have more than one in your app.");let l=n.replace(/^\/*/,"/"),u=t.useMemo(()=>({basename:l,navigator:o,static:a,future:{}}),[l,o,a]);"string"===typeof i&&(i=A(i));let{pathname:c="/",search:h="",hash:d="",state:f=null,key:p="default"}=i,m=t.useMemo(()=>{let e=H(c,l);return null==e?null:{location:{pathname:e,search:h,hash:d,state:f,key:p},navigationType:s}},[l,c,h,d,f,p,s]);return b(null!=m,'<Router basename="'.concat(l,'"> is not able to match the URL "').concat(c).concat(h).concat(d,"\" because it does not start with the basename, so the <Router> won't render anything.")),null==m?null:t.createElement(ue.Provider,{value:u},t.createElement(ce.Provider,{children:r,value:m}))}function Ne(e){let{children:t,location:n}=e;return be(Fe(t),n)}t.Component;function Fe(e){let n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[],r=[];return t.Children.forEach(e,(e,i)=>{if(!t.isValidElement(e))return;let s=[...n,i];if(e.type===t.Fragment)return void r.push.apply(r,Fe(e.props.children,s));v(e.type===Oe,"[".concat("string"===typeof e.type?e.type:e.type.name,"] is not a <Route> component. All component children of <Routes> must be a <Route> or <React.Fragment>")),v(!e.props.index||!e.props.children,"An index route cannot have child routes.");let o={id:e.props.id||s.join("-"),caseSensitive:e.props.caseSensitive,element:e.props.element,Component:e.props.Component,index:e.props.index,path:e.props.path,middleware:e.props.middleware,loader:e.props.loader,action:e.props.action,hydrateFallbackElement:e.props.hydrateFallbackElement,HydrateFallback:e.props.HydrateFallback,errorElement:e.props.errorElement,ErrorBoundary:e.props.ErrorBoundary,hasErrorBoundary:!0===e.props.hasErrorBoundary||null!=e.props.ErrorBoundary||null!=e.props.errorElement,shouldRevalidate:e.props.shouldRevalidate,handle:e.props.handle,lazy:e.props.lazy};e.props.children&&(o.children=Fe(e.props.children,s)),r.push(o)}),r}var Be="get",Ue="application/x-www-form-urlencoded";function Ge(e){return null!=e&&"string"===typeof e.tagName}var ze=null;var He=new Set(["application/x-www-form-urlencoded","multipart/form-data","text/plain"]);function je(e){return null==e||He.has(e)?e:(b(!1,'"'.concat(e,'" is not a valid `encType` for `<Form>`/`<fetcher.Form>` and will default to "').concat(Ue,'"')),null)}function We(e,t){let n,r,i,s,o;if(Ge(a=e)&&"form"===a.tagName.toLowerCase()){let o=e.getAttribute("action");r=o?H(o,t):null,n=e.getAttribute("method")||Be,i=je(e.getAttribute("enctype"))||Ue,s=new FormData(e)}else if(function(e){return Ge(e)&&"button"===e.tagName.toLowerCase()}(e)||function(e){return Ge(e)&&"input"===e.tagName.toLowerCase()}(e)&&("submit"===e.type||"image"===e.type)){let o=e.form;if(null==o)throw new Error('Cannot submit a <button> or <input type="submit"> without a <form>');let a=e.getAttribute("formaction")||o.getAttribute("action");if(r=a?H(a,t):null,n=e.getAttribute("formmethod")||o.getAttribute("method")||Be,i=je(e.getAttribute("formenctype"))||je(o.getAttribute("enctype"))||Ue,s=new FormData(o,e),!function(){if(null===ze)try{new FormData(document.createElement("form"),0),ze=!1}catch(e){ze=!0}return ze}()){let{name:t,type:n,value:r}=e;if("image"===n){let e=t?"".concat(t,"."):"";s.append("".concat(e,"x"),"0"),s.append("".concat(e,"y"),"0")}else t&&s.append(t,r)}}else{if(Ge(e))throw new Error('Cannot submit element that is not <form>, <button>, or <input type="submit|image">');n=Be,r=null,i=Ue,o=e}var a;return s&&"text/plain"===i&&(o=s,s=void 0),{action:r,method:n.toLowerCase(),encType:i,formData:s,body:o}}Object.getOwnPropertyNames(Object.prototype).sort().join("\0");"undefined"!==typeof window?window:"undefined"!==typeof globalThis&&globalThis;function Ve(e,t){if(!1===e||null===e||"undefined"===typeof e)throw new Error(t)}Symbol("SingleFetchRedirect");function Xe(e,t,n){let r="string"===typeof e?new URL(e,"undefined"===typeof window?"server://singlefetch/":window.location.origin):e;return"/"===r.pathname?r.pathname="_root.".concat(n):t&&"/"===H(r.pathname,t)?r.pathname="".concat(t.replace(/\/$/,""),"/_root.").concat(n):r.pathname="".concat(r.pathname.replace(/\/$/,""),".").concat(n),r}async function Ye(e,t){if(e.id in t)return t[e.id];try{let n=await import(e.module);return t[e.id]=n,n}catch(n){return console.error("Error loading route module `".concat(e.module,"`, reloading page...")),console.error(n),window.__reactRouterContext&&window.__reactRouterContext.isSpaMode,window.location.reload(),new Promise(()=>{})}}function qe(e){return null!=e&&"string"===typeof e.page}function Ke(e){return null!=e&&(null==e.href?"preload"===e.rel&&"string"===typeof e.imageSrcSet&&"string"===typeof e.imageSizes:"string"===typeof e.rel&&"string"===typeof e.href)}function Qe(e,t,n,r,i,s){let o=(e,t)=>!n[t]||e.route.id!==n[t].route.id,a=(e,t)=>{var r;return n[t].pathname!==e.pathname||(null===(r=n[t].route.path)||void 0===r?void 0:r.endsWith("*"))&&n[t].params["*"]!==e.params["*"]};return"assets"===s?t.filter((e,t)=>o(e,t)||a(e,t)):"data"===s?t.filter((t,s)=>{let l=r.routes[t.route.id];if(!l||!l.hasLoader)return!1;if(o(t,s)||a(t,s))return!0;if(t.route.shouldRevalidate){var u;let r=t.route.shouldRevalidate({currentUrl:new URL(i.pathname+i.search+i.hash,window.origin),currentParams:(null===(u=n[0])||void 0===u?void 0:u.params)||{},nextUrl:new URL(e,window.origin),nextParams:t.params,defaultShouldRevalidate:!0});if("boolean"===typeof r)return r}return!0}):[]}function Ze(e,t){let{includeHydrateFallback:n}=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};return r=e.map(e=>{let r=t.routes[e.route.id];if(!r)return[];let i=[r.module];return r.clientActionModule&&(i=i.concat(r.clientActionModule)),r.clientLoaderModule&&(i=i.concat(r.clientLoaderModule)),n&&r.hydrateFallbackModule&&(i=i.concat(r.hydrateFallbackModule)),r.imports&&(i=i.concat(r.imports)),i}).flat(1),[...new Set(r)];var r}function Je(e,t){let n=new Set,r=new Set(t);return e.reduce((e,i)=>{if(t&&!qe(i)&&"script"===i.as&&i.href&&r.has(i.href))return e;let s=JSON.stringify(function(e){let t={},n=Object.keys(e).sort();for(let r of n)t[r]=e[r];return t}(i));return n.has(s)||(n.add(s),e.push({key:s,link:i})),e},[])}function $e(e,t){return"lazy"===e.mode&&!0===t}function et(){let e=t.useContext(re);return Ve(e,"You must render this element inside a <DataRouterContext.Provider> element"),e}function tt(){let e=t.useContext(ie);return Ve(e,"You must render this element inside a <DataRouterStateContext.Provider> element"),e}var nt=t.createContext(void 0);function rt(){let e=t.useContext(nt);return Ve(e,"You must render this element inside a <HydratedRouter> element"),e}function it(e,t){return n=>{e&&e(n),n.defaultPrevented||t(n)}}function st(e,t,n){if(n&&!ut)return[e[0]];if(t){let n=e.findIndex(e=>void 0!==t[e.route.id]);return e.slice(0,n+1)}return e}nt.displayName="FrameworkContext";function ot(e){let{page:n}=e,r=i(e,h),{router:s}=et(),o=t.useMemo(()=>T(s.routes,n,s.basename),[s.routes,n,s.basename]);return o?t.createElement(lt,u({page:n,matches:o},r)):null}function at(e){let{manifest:n,routeModules:r}=rt(),[i,s]=t.useState([]);return t.useEffect(()=>{let t=!1;return async function(e,t,n){let r=await Promise.all(e.map(async e=>{let r=t.routes[e.route.id];if(r){let e=await Ye(r,n);return e.links?e.links():[]}return[]}));return Je(r.flat(1).filter(Ke).filter(e=>"stylesheet"===e.rel||"preload"===e.rel).map(e=>"stylesheet"===e.rel?u(u({},e),{},{rel:"prefetch",as:"style"}):u(u({},e),{},{rel:"prefetch"})))}(e,n,r).then(e=>{t||s(e)}),()=>{t=!0}},[e,n,r]),i}function lt(e){let{page:n,matches:r}=e,s=i(e,d),o=pe(),{manifest:a,routeModules:l}=rt(),{basename:c}=et(),{loaderData:h,matches:f}=tt(),p=t.useMemo(()=>Qe(n,r,f,a,o,"data"),[n,r,f,a,o]),m=t.useMemo(()=>Qe(n,r,f,a,o,"assets"),[n,r,f,a,o]),g=t.useMemo(()=>{if(n===o.pathname+o.search+o.hash)return[];let e=new Set,t=!1;if(r.forEach(n=>{var r;let i=a.routes[n.route.id];i&&i.hasLoader&&(!p.some(e=>e.route.id===n.route.id)&&n.route.id in h&&null!==(r=l[n.route.id])&&void 0!==r&&r.shouldRevalidate||i.hasClientLoader?t=!0:e.add(n.route.id))}),0===e.size)return[];let i=Xe(n,c,"data");return t&&e.size>0&&i.searchParams.set("_routes",r.filter(t=>e.has(t.route.id)).map(e=>e.route.id).join(",")),[i.pathname+i.search]},[c,h,o,a,p,r,n,l]),y=t.useMemo(()=>Ze(m,a),[m,a]),v=at(m);return t.createElement(t.Fragment,null,g.map(e=>t.createElement("link",u({key:e,rel:"prefetch",as:"fetch",href:e},s))),y.map(e=>t.createElement("link",u({key:e,rel:"modulepreload",href:e},s))),v.map(e=>{let{key:n,link:r}=e;return t.createElement("link",u({key:n,nonce:s.nonce},r))}))}var ut=!1;function ct(e){let{manifest:n,serverHandoffString:r,isSpaMode:s,renderMeta:o,routeDiscovery:a,ssr:l}=rt(),{router:h,static:d,staticContext:f}=et(),{matches:p}=tt(),m=t.useContext(se),g=$e(a,l);o&&(o.didRenderScripts=!0);let y=st(p,null,s);t.useEffect(()=>{0},[]);let v=t.useMemo(()=>{var s;if(m)return null;let o=f?"window.__reactRouterContext = ".concat(r,";").concat("window.__reactRouterContext.stream = new ReadableStream({start(controller){window.__reactRouterContext.streamController = controller;}}).pipeThrough(new TextEncoderStream());"):" ",a=d?"".concat(null!==n.hmr&&void 0!==s&&s.runtime?"import ".concat(JSON.stringify(n.hmr.runtime),";"):"").concat(g?"":"import ".concat(JSON.stringify(n.url)),";\n").concat(y.map((e,t)=>{let r="route".concat(t),i=n.routes[e.route.id];Ve(i,"Route ".concat(e.route.id," not found in manifest"));let{clientActionModule:s,clientLoaderModule:o,clientMiddlewareModule:a,hydrateFallbackModule:l,module:u}=i,c=[...s?[{module:s,varName:"".concat(r,"_clientAction")}]:[],...o?[{module:o,varName:"".concat(r,"_clientLoader")}]:[],...a?[{module:a,varName:"".concat(r,"_clientMiddleware")}]:[],...l?[{module:l,varName:"".concat(r,"_HydrateFallback")}]:[],{module:u,varName:"".concat(r,"_main")}];return 1===c.length?"import * as ".concat(r," from ").concat(JSON.stringify(u),";"):[c.map(e=>"import * as ".concat(e.varName,' from "').concat(e.module,'";')).join("\n"),"const ".concat(r," = {").concat(c.map(e=>"...".concat(e.varName)).join(","),"};")].join("\n")}).join("\n"),"\n  ").concat(g?"window.__reactRouterManifest = ".concat(JSON.stringify(function(e,t){let{sri:n}=e,r=i(e,c),s=new Set(t.state.matches.map(e=>e.route.id)),o=t.state.location.pathname.split("/").filter(Boolean),a=["/"];for(o.pop();o.length>0;)a.push("/".concat(o.join("/"))),o.pop();a.forEach(e=>{let n=T(t.routes,e,t.basename);n&&n.forEach(e=>s.add(e.route.id))});let l=[...s].reduce((e,t)=>Object.assign(e,{[t]:r.routes[t]}),{});return u(u({},r),{},{routes:l,sri:!!n||void 0})}(n,h),null,2),";"):"","\n  window.__reactRouterRouteModules = {").concat(y.map((e,t)=>"".concat(JSON.stringify(e.route.id),":route").concat(t)).join(","),"};\n\nimport(").concat(JSON.stringify(n.entry.module),");"):" ";return t.createElement(t.Fragment,null,t.createElement("script",u(u({},e),{},{suppressHydrationWarning:!0,dangerouslySetInnerHTML:{__html:o},type:void 0})),t.createElement("script",u(u({},e),{},{suppressHydrationWarning:!0,dangerouslySetInnerHTML:{__html:a},type:"module",async:!0})))},[]),b=ut||m?[]:(n.entry.imports.concat(Ze(y,n,{includeHydrateFallback:!0})),[...new Set(_)]);var _;let x="object"===typeof n.sri?n.sri:{};return De(!m,"The <Scripts /> element is a no-op when using RSC and can be safely removed."),ut||m?null:t.createElement(t.Fragment,null,"object"===typeof n.sri?t.createElement("script",{"rr-importmap":"",type:"importmap",suppressHydrationWarning:!0,dangerouslySetInnerHTML:{__html:JSON.stringify({integrity:x})}}):null,g?null:t.createElement("link",{rel:"modulepreload",href:n.url,crossOrigin:e.crossOrigin,integrity:x[n.url],suppressHydrationWarning:!0}),t.createElement("link",{rel:"modulepreload",href:n.entry.module,crossOrigin:e.crossOrigin,integrity:x[n.entry.module],suppressHydrationWarning:!0}),b.map(n=>t.createElement("link",{key:n,rel:"modulepreload",href:n,crossOrigin:e.crossOrigin,integrity:x[n],suppressHydrationWarning:!0})),v)}function ht(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return e=>{t.forEach(t=>{"function"===typeof t?t(e):null!=t&&(t.current=e)})}}t.Component;function dt(e){let{error:n,isOutsideRemixApp:r}=e;console.error(n);let i,s=t.createElement("script",{dangerouslySetInnerHTML:{__html:'\n        console.log(\n          "\ud83d\udcbf Hey developer \ud83d\udc4b. You can provide a way better UX than this when your app throws errors. Check out https://reactrouter.com/how-to/error-boundary for more information."\n        );\n      '}});if(ee(n))return t.createElement(ft,{title:"Unhandled Thrown Response!"},t.createElement("h1",{style:{fontSize:"24px"}},n.status," ",n.statusText),s);if(n instanceof Error)0;else{let e=null==n?"Unknown Error":"object"===typeof n&&"toString"in n?n.toString():JSON.stringify(n);new Error(e)}return t.createElement(ft,{title:"Application Error!",isOutsideRemixApp:r},t.createElement("h1",{style:{fontSize:"24px"}},"Application Error"),t.createElement("pre",{style:{padding:"2rem",background:"hsla(10, 50%, 50%, 0.1)",color:"red",overflow:"auto"}},i.stack),s)}function ft(e){var n;let{title:r,renderScripts:i,isOutsideRemixApp:s,children:o}=e,{routeModules:a}=rt();return null!==a.root&&void 0!==n&&n.Layout&&!s?o:t.createElement("html",{lang:"en"},t.createElement("head",null,t.createElement("meta",{charSet:"utf-8"}),t.createElement("meta",{name:"viewport",content:"width=device-width,initial-scale=1,viewport-fit=cover"}),t.createElement("title",null,r)),t.createElement("body",null,t.createElement("main",{style:{fontFamily:"system-ui, sans-serif",padding:"2rem"}},o,i?t.createElement(ct,null):null)))}var pt="undefined"!==typeof window&&"undefined"!==typeof window.document&&"undefined"!==typeof window.document.createElement;try{pt&&(window.__reactRouterVersion="7.9.6")}catch(ly){}function mt(e){let{basename:n,children:r,window:i}=e,s=t.useRef();null==s.current&&(s.current=y({window:i,v5Compat:!0}));let o=s.current,[a,l]=t.useState({action:o.action,location:o.location}),u=t.useCallback(e=>{t.startTransition(()=>l(e))},[l]);return t.useLayoutEffect(()=>o.listen(u),[o,u]),t.createElement(Le,{basename:n,children:r,location:a.location,navigationType:a.action,navigator:o})}var gt=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,yt=t.forwardRef(function(e,n){let r,{onClick:s,discover:o="render",prefetch:a="none",relative:l,reloadDocument:c,replace:h,state:d,target:p,to:m,preventScrollReset:g,viewTransition:y}=e,_=i(e,f),{basename:x}=t.useContext(ue),A="string"===typeof m&&gt.test(m),E=!1;if("string"===typeof m&&A&&(r=m,pt))try{let e=new URL(window.location.href),t=m.startsWith("//")?new URL(e.protocol+m):new URL(m),n=H(t.pathname,x);t.origin===e.origin&&null!=n?m=n+t.search+t.hash:E=!0}catch(ly){b(!1,'<Link to="'.concat(m,'"> contains an invalid URL which will probably break when clicked - please update to a valid URL path.'))}let S=function(e){let{relative:n}=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};v(fe(),"useHref() may be used only in the context of a <Router> component.");let{basename:r,navigator:i}=t.useContext(ue),{hash:s,pathname:o,search:a}=ve(e,{relative:n}),l=o;return"/"!==r&&(l="/"===o?r:Q([r,o])),i.createHref({pathname:l,search:a,hash:s})}(m,{relative:l}),[T,C,k]=function(e,n){let r=t.useContext(nt),[i,s]=t.useState(!1),[o,a]=t.useState(!1),{onFocus:l,onBlur:u,onMouseEnter:c,onMouseLeave:h,onTouchStart:d}=n,f=t.useRef(null);t.useEffect(()=>{if("render"===e&&a(!0),"viewport"===e){let e=new IntersectionObserver(e=>{e.forEach(e=>{a(e.isIntersecting)})},{threshold:.5});return f.current&&e.observe(f.current),()=>{e.disconnect()}}},[e]),t.useEffect(()=>{if(i){let e=setTimeout(()=>{a(!0)},100);return()=>{clearTimeout(e)}}},[i]);let p=()=>{s(!0)},m=()=>{s(!1),a(!1)};return r?"intent"!==e?[o,f,{}]:[o,f,{onFocus:it(l,p),onBlur:it(u,m),onMouseEnter:it(c,p),onMouseLeave:it(h,m),onTouchStart:it(d,p)}]:[!1,f,{}]}(a,_),R=function(e){let{target:n,replace:r,state:i,preventScrollReset:s,relative:o,viewTransition:a}=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},l=ye(),u=pe(),c=ve(e,{relative:o});return t.useCallback(t=>{if(function(e,t){return 0===e.button&&(!t||"_self"===t)&&!function(e){return!!(e.metaKey||e.altKey||e.ctrlKey||e.shiftKey)}(e)}(t,n)){t.preventDefault();let n=void 0!==r?r:w(u)===w(c);l(e,{replace:n,state:i,preventScrollReset:s,relative:o,viewTransition:a})}},[u,l,c,r,i,n,e,s,o,a])}(m,{replace:h,state:d,target:p,preventScrollReset:g,relative:l,viewTransition:y});let P=t.createElement("a",u(u(u({},_),k),{},{href:r||S,onClick:E||c?s:function(e){s&&s(e),e.defaultPrevented||R(e)},ref:ht(n,C),target:p,"data-discover":A||"render"!==o?void 0:"true"}));return T&&!A?t.createElement(t.Fragment,null,P,t.createElement(ot,{page:S})):P});yt.displayName="Link";var vt=t.forwardRef(function(e,n){let{"aria-current":r="page",caseSensitive:s=!1,className:o="",end:a=!1,style:l,to:c,viewTransition:h,children:d}=e,f=i(e,p),m=ve(c,{relative:f.relative}),g=pe(),y=t.useContext(ie),{navigator:b,basename:_}=t.useContext(ue),x=null!=y&&function(e){let{relative:n}=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},r=t.useContext(oe);v(null!=r,"`useViewTransitionState` must be used within `react-router-dom`'s `RouterProvider`.  Did you accidentally import `RouterProvider` from `react-router`?");let{basename:i}=xt("useViewTransitionState"),s=ve(e,{relative:n});if(!r.isTransitioning)return!1;let o=H(r.currentLocation.pathname,i)||r.currentLocation.pathname,a=H(r.nextLocation.pathname,i)||r.nextLocation.pathname;return null!=U(s.pathname,a)||null!=U(s.pathname,o)}(m)&&!0===h,w=b.encodeLocation?b.encodeLocation(m).pathname:m.pathname,A=g.pathname,E=y&&y.navigation&&y.navigation.location?y.navigation.location.pathname:null;s||(A=A.toLowerCase(),E=E?E.toLowerCase():null,w=w.toLowerCase()),E&&_&&(E=H(E,_)||E);const S="/"!==w&&w.endsWith("/")?w.length-1:w.length;let T,C=A===w||!a&&A.startsWith(w)&&"/"===A.charAt(S),k=null!=E&&(E===w||!a&&E.startsWith(w)&&"/"===E.charAt(w.length)),R={isActive:C,isPending:k,isTransitioning:x},P=C?r:void 0;T="function"===typeof o?o(R):[o,C?"active":null,k?"pending":null,x?"transitioning":null].filter(Boolean).join(" ");let I="function"===typeof l?l(R):l;return t.createElement(yt,u(u({},f),{},{"aria-current":P,className:T,ref:n,style:I,to:c,viewTransition:h}),"function"===typeof d?d(R):d)});vt.displayName="NavLink";var bt=t.forwardRef((e,n)=>{let{discover:r="render",fetcherKey:s,navigate:o,reloadDocument:a,replace:l,state:c,method:h=Be,action:d,onSubmit:f,relative:p,preventScrollReset:g,viewTransition:y}=e,b=i(e,m),_=Et(),x=function(e){let{relative:n}=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},{basename:r}=t.useContext(ue),i=t.useContext(he);v(i,"useFormAction must be used inside a RouteContext");let[s]=i.matches.slice(-1),o=u({},ve(e||".",{relative:n})),a=pe();if(null==e){o.search=a.search;let e=new URLSearchParams(o.search),t=e.getAll("index"),n=t.some(e=>""===e);if(n){e.delete("index"),t.filter(e=>e).forEach(t=>e.append("index",t));let n=e.toString();o.search=n?"?".concat(n):""}}e&&"."!==e||!s.route.index||(o.search=o.search?o.search.replace(/^\?/,"?index&"):"?index");"/"!==r&&(o.pathname="/"===o.pathname?r:Q([r,o.pathname]));return w(o)}(d,{relative:p}),A="get"===h.toLowerCase()?"get":"post",E="string"===typeof d&&gt.test(d);return t.createElement("form",u(u({ref:n,method:A,action:x,onSubmit:a?f:e=>{if(f&&f(e),e.defaultPrevented)return;e.preventDefault();let t=e.nativeEvent.submitter,n=(null===t||void 0===t?void 0:t.getAttribute("formmethod"))||h;_(t||e.currentTarget,{fetcherKey:s,method:n,navigate:o,replace:l,state:c,relative:p,preventScrollReset:g,viewTransition:y})}},b),{},{"data-discover":E||"render"!==r?void 0:"true"}))});function _t(e){return"".concat(e," must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.")}function xt(e){let n=t.useContext(re);return v(n,_t(e)),n}bt.displayName="Form";var wt=0,At=()=>"__".concat(String(++wt),"__");function Et(){let{router:e}=xt("useSubmit"),{basename:n}=t.useContext(ue),r=ke("useRouteId");return t.useCallback(async function(t){let i=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},{action:s,method:o,encType:a,formData:l,body:u}=We(t,n);if(!1===i.navigate){let t=i.fetcherKey||At();await e.fetch(t,r,i.action||s,{preventScrollReset:i.preventScrollReset,formData:l,body:u,formMethod:i.method||o,formEncType:i.encType||a,flushSync:i.flushSync})}else await e.navigate(i.action||s,{preventScrollReset:i.preventScrollReset,formData:l,body:u,formMethod:i.method||o,formEncType:i.encType||a,replace:i.replace,state:i.state,fromRouteId:r,flushSync:i.flushSync,viewTransition:i.viewTransition})},[e,n,r])}function St(e){return"init"in e}function Tt(e){return!!e.write}function Ct(e){return"v"in e||"e"in e}function kt(e){if("e"in e)throw e.e;if(!("v"in e))throw new Error("[Bug] atom state is not initialized");return e.v}const Rt=new WeakMap;function Pt(e){var t;return Mt(e)&&!!(null==(t=Rt.get(e))?void 0:t[0])}function It(e,t){let n=Rt.get(e);if(!n){n=[!0,new Set],Rt.set(e,n);const t=()=>{n[0]=!1};e.then(t,t)}n[1].add(t)}function Mt(e){return"function"===typeof(null==e?void 0:e.then)}function Dt(e,t,n){if(!n.p.has(e)){n.p.add(e);const r=()=>n.p.delete(e);t.then(r,r)}}function Ot(e,t,n){var r;const i=new Set;for(const s of(null==(r=n.get(e))?void 0:r.t)||[])n.has(s)&&i.add(s);for(const s of t.p)i.add(s);return i}const Lt=function(e,t){for(var n=arguments.length,r=new Array(n>2?n-2:0),i=2;i<n;i++)r[i-2]=arguments[i];return t.read(...r)},Nt=function(e,t){for(var n=arguments.length,r=new Array(n>2?n-2:0),i=2;i<n;i++)r[i-2]=arguments[i];return t.write(...r)},Ft=(e,t)=>{var n;return null==(n=t.unstable_onInit)?void 0:n.call(t,e)},Bt=(e,t,n)=>{var r;return null==(r=t.onMount)?void 0:r.call(t,n)},Ut=(e,t)=>{const n=$t(e),r=n[0],i=n[9];if(!t)throw new Error("Atom is undefined or null");let s=r.get(t);return s||(s={d:new Map,p:new Set,n:0},r.set(t,s),null==i||i(e,t)),s},Gt=e=>{const t=$t(e),n=t[1],r=t[3],i=t[4],s=t[5],o=t[6],a=t[13],l=[],u=e=>{try{e()}catch(ly){l.push(ly)}};do{o.f&&u(o.f);const t=new Set,l=t.add.bind(t);r.forEach(e=>{var t;return null==(t=n.get(e))?void 0:t.l.forEach(l)}),r.clear(),s.forEach(l),s.clear(),i.forEach(l),i.clear(),t.forEach(u),r.size&&a(e)}while(r.size||s.size||i.size);if(l.length)throw new AggregateError(l)},zt=e=>{const t=$t(e),n=t[1],r=t[2],i=t[3],s=t[11],o=t[14],a=t[17],l=[],u=new WeakSet,c=new WeakSet,h=Array.from(i);for(;h.length;){const t=h[h.length-1],i=s(e,t);if(c.has(t))h.pop();else if(u.has(t)){if(r.get(t)===i.n)l.push([t,i]);else if(r.has(t))throw new Error("[Bug] invalidated atom exists");c.add(t),h.pop()}else{u.add(t);for(const e of Ot(t,i,n))u.has(e)||h.push(e)}}for(let d=l.length-1;d>=0;--d){const[t,n]=l[d];let s=!1;for(const e of n.d.keys())if(e!==t&&i.has(e)){s=!0;break}s&&(o(e,t),a(e,t)),r.delete(t)}},Ht=(e,t)=>{var n,r;const i=$t(e),s=i[1],o=i[2],a=i[3],l=i[6],u=i[7],c=i[11],h=i[12],d=i[13],f=i[14],p=i[16],m=i[17],g=c(e,t);if(Ct(g)){if(s.has(t)&&o.get(t)!==g.n)return g;if(Array.from(g.d).every(t=>{let[n,r]=t;return f(e,n).n===r}))return g}g.d.clear();let y,v,b=!0;function _(){s.has(t)&&(m(e,t),d(e),h(e))}const x={get signal(){return y||(y=new AbortController),y.signal},get setSelf(){return Tt(t)||console.warn("setSelf function cannot be used with read-only atom"),!v&&Tt(t)&&(v=function(){if(b&&console.warn("setSelf function cannot be called in sync"),!b)try{for(var n=arguments.length,r=new Array(n),i=0;i<n;i++)r[i]=arguments[i];return p(e,t,...r)}finally{d(e),h(e)}}),v}},w=g.n;try{const r=u(e,t,function(n){var r;if(n===t){const t=c(e,n);if(!Ct(t)){if(!St(n))throw new Error("no atom init");qt(e,n,n.init)}return kt(t)}const i=f(e,n);try{return kt(i)}finally{g.d.set(n,i.n),Pt(g.v)&&Dt(t,g.v,i),null==(r=s.get(n))||r.t.add(t),b||_()}},x);return qt(e,t,r),Mt(r)&&(It(r,()=>null==y?void 0:y.abort()),r.then(_,_)),null==(n=l.r)||n.call(l,t),g}catch(A){return delete g.v,g.e=A,++g.n,g}finally{b=!1,w!==g.n&&o.get(t)===w&&(o.set(t,g.n),a.add(t),null==(r=l.c)||r.call(l,t))}},jt=(e,t)=>{const n=$t(e),r=n[1],i=n[2],s=n[11],o=[t];for(;o.length;){const t=o.pop(),n=s(e,t);for(const a of Ot(t,n,r)){const t=s(e,a);i.set(a,t.n),o.push(a)}}},Wt=function(e,t){const n=$t(e),r=n[3],i=n[6],s=n[8],o=n[11],a=n[12],l=n[13],u=n[14],c=n[15],h=n[17];let d=!0;const f=t=>kt(u(e,t)),p=function(n){var s;const u=o(e,n);try{for(var f=arguments.length,p=new Array(f>1?f-1:0),m=1;m<f;m++)p[m-1]=arguments[m];if(n===t){if(!St(n))throw new Error("atom not writable");const t=u.n,o=p[0];return qt(e,n,o),h(e,n),void(t!==u.n&&(r.add(n),null==(s=i.c)||s.call(i,n),c(e,n)))}return Wt(e,n,...p)}finally{d||(l(e),a(e))}};try{for(var m=arguments.length,g=new Array(m>2?m-2:0),y=2;y<m;y++)g[y-2]=arguments[y];return s(e,t,f,p,...g)}finally{d=!1}},Vt=(e,t)=>{var n;const r=$t(e),i=r[1],s=r[3],o=r[6],a=r[11],l=r[15],u=r[18],c=r[19],h=a(e,t),d=i.get(t);if(d&&!Pt(h.v)){for(const[r,i]of h.d)if(!d.d.has(r)){const c=a(e,r);u(e,r).t.add(t),d.d.add(r),i!==c.n&&(s.add(r),null==(n=o.c)||n.call(o,r),l(e,r))}for(const n of d.d||[])if(!h.d.has(n)){d.d.delete(n);const r=c(e,n);null==r||r.t.delete(t)}}},Xt=(e,t)=>{var n;const r=$t(e),i=r[1],s=r[4],o=r[6],a=r[10],l=r[11],u=r[12],c=r[13],h=r[14],d=r[16],f=l(e,t);let p=i.get(t);if(!p){h(e,t);for(const n of f.d.keys()){Xt(e,n).t.add(t)}if(p={l:new Set,d:new Set(f.d.keys()),t:new Set},i.set(t,p),null==(n=o.m)||n.call(o,t),Tt(t)){const n=()=>{let n=!0;const r=function(){try{for(var r=arguments.length,i=new Array(r),s=0;s<r;s++)i[s]=arguments[s];return d(e,t,...i)}finally{n||(c(e),u(e))}};try{const i=a(e,t,r);i&&(p.u=()=>{n=!0;try{i()}finally{n=!1}})}finally{n=!1}};s.add(n)}}return p},Yt=(e,t)=>{var n;const r=$t(e),i=r[1],s=r[5],o=r[6],a=r[11],l=r[19],u=a(e,t);let c=i.get(t);if(!c||c.l.size||Array.from(c.t).some(e=>{var n;return null==(n=i.get(e))?void 0:n.d.has(t)}))return c;c.u&&s.add(c.u),c=void 0,i.delete(t),null==(n=o.u)||n.call(o,t);for(const h of u.d.keys()){const n=l(e,h);null==n||n.t.delete(t)}},qt=(e,t,n)=>{const r=$t(e)[11],i=r(e,t),s="v"in i,o=i.v;if(Mt(n))for(const a of i.d.keys())Dt(t,n,r(e,a));i.v=n,delete i.e,s&&Object.is(o,i.v)||(++i.n,Mt(o)&&function(e){const t=Rt.get(e);(null==t?void 0:t[0])&&(t[0]=!1,t[1].forEach(e=>e()))}(o))},Kt=(e,t)=>kt((0,$t(e)[14])(e,t)),Qt=function(e,t){const n=$t(e),r=n[12],i=n[13],s=n[16];try{for(var o=arguments.length,a=new Array(o>2?o-2:0),l=2;l<o;l++)a[l-2]=arguments[l];return s(e,t,...a)}finally{i(e),r(e)}},Zt=(e,t,n)=>{const r=$t(e),i=r[12],s=r[18],o=r[19],a=s(e,t).l;return a.add(n),i(e),()=>{a.delete(n),o(e,t),i(e)}},Jt=new WeakMap,$t=e=>{const t=Jt.get(e);if(!t)throw new Error("Store must be created by buildStore to read its building blocks");return t};let en,tn,nn=0;function rn(e,t){const n="atom".concat(++nn),r={toString(){return this.debugLabel?n+":"+this.debugLabel:n}};return"function"===typeof e?r.read=e:(r.init=e,r.read=sn,r.write=on),t&&(r.write=t),r}function sn(e){return e(this)}function on(e,t,n){return t(this,"function"===typeof n?n(e(this)):n)}function an(){return en?en():function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];const r={get:e=>(0,$t(r)[21])(r,e),set(e){const t=$t(r)[22];for(var n=arguments.length,i=new Array(n>1?n-1:0),s=1;s<n;s++)i[s-1]=arguments[s];return t(r,e,...i)},sub:(e,t)=>(0,$t(r)[23])(r,e,t)},i=[new WeakMap,new WeakMap,new WeakMap,new Set,new Set,new Set,{},Lt,Nt,Ft,Bt,Ut,Gt,zt,Ht,jt,Wt,Vt,Xt,Yt,qt,Kt,Qt,Zt,void 0].map((e,n)=>t[n]||e);return Jt.set(r,Object.freeze(i)),r}()}const ln=(0,t.createContext)(void 0);function un(e){const n=(0,t.useContext)(ln);return(null==e?void 0:e.store)||n||(tn||(tn=an(),globalThis.__JOTAI_DEFAULT_STORE__||(globalThis.__JOTAI_DEFAULT_STORE__=tn),globalThis.__JOTAI_DEFAULT_STORE__!==tn&&console.warn("Detected multiple Jotai instances. It may cause unexpected behavior with the default store. https://github.com/pmndrs/jotai/discussions/2044")),tn)}const cn=e=>"function"===typeof(null==e?void 0:e.then),hn=e=>{e.status||(e.status="pending",e.then(t=>{e.status="fulfilled",e.value=t},t=>{e.status="rejected",e.reason=t}))},dn=t.use||(e=>{if("pending"===e.status)throw e;if("fulfilled"===e.status)return e.value;throw"rejected"===e.status?e.reason:(hn(e),e)}),fn=new WeakMap,pn=(e,t)=>{let n=fn.get(e);return n||(n=new Promise((r,i)=>{let s=e;const o=e=>t=>{s===e&&r(t)},a=e=>t=>{s===e&&i(t)},l=()=>{try{const e=t();cn(e)?(fn.set(e,n),s=e,e.then(o(e),a(e)),It(e,l)):r(e)}catch(ly){i(ly)}};e.then(o(e),a(e)),It(e,l)}),fn.set(e,n)),n};function mn(e,n){const{delay:r,unstable_promiseStatus:i=!t.use}=n||{},s=un(n),[[o,a,l],u]=(0,t.useReducer)(t=>{const n=s.get(e);return Object.is(t[0],n)&&t[1]===s&&t[2]===e?t:[n,s,e]},void 0,()=>[s.get(e),s,e]);let c=o;if(a===s&&l===e||(u(),c=s.get(e)),(0,t.useEffect)(()=>{const t=s.sub(e,()=>{if(i)try{const t=s.get(e);cn(t)&&hn(pn(t,()=>s.get(e)))}catch(ly){}"number"!==typeof r?u():setTimeout(u,r)});return u(),t},[s,e,r,i]),(0,t.useDebugValue)(c),cn(c)){const t=pn(c,()=>s.get(e));return i&&hn(t),dn(t)}return c}function gn(e,n){const r=un(n),i=(0,t.useCallback)(function(){if(!("write"in e))throw new Error("not writable atom");for(var t=arguments.length,n=new Array(t),i=0;i<t;i++)n[i]=arguments[i];return r.set(e,...n)},[r,e]);return i}function yn(e,t){return[mn(e,t),gn(e,t)]}var vn=(e=>(e[e.WEBGL_LEGACY=0]="WEBGL_LEGACY",e[e.WEBGL=1]="WEBGL",e[e.WEBGL2=2]="WEBGL2",e))(vn||{}),bn=(e=>(e[e.UNKNOWN=0]="UNKNOWN",e[e.WEBGL=1]="WEBGL",e[e.CANVAS=2]="CANVAS",e))(bn||{}),_n=(e=>(e[e.COLOR=16384]="COLOR",e[e.DEPTH=256]="DEPTH",e[e.STENCIL=1024]="STENCIL",e))(_n||{}),xn=(e=>(e[e.NORMAL=0]="NORMAL",e[e.ADD=1]="ADD",e[e.MULTIPLY=2]="MULTIPLY",e[e.SCREEN=3]="SCREEN",e[e.OVERLAY=4]="OVERLAY",e[e.DARKEN=5]="DARKEN",e[e.LIGHTEN=6]="LIGHTEN",e[e.COLOR_DODGE=7]="COLOR_DODGE",e[e.COLOR_BURN=8]="COLOR_BURN",e[e.HARD_LIGHT=9]="HARD_LIGHT",e[e.SOFT_LIGHT=10]="SOFT_LIGHT",e[e.DIFFERENCE=11]="DIFFERENCE",e[e.EXCLUSION=12]="EXCLUSION",e[e.HUE=13]="HUE",e[e.SATURATION=14]="SATURATION",e[e.COLOR=15]="COLOR",e[e.LUMINOSITY=16]="LUMINOSITY",e[e.NORMAL_NPM=17]="NORMAL_NPM",e[e.ADD_NPM=18]="ADD_NPM",e[e.SCREEN_NPM=19]="SCREEN_NPM",e[e.NONE=20]="NONE",e[e.SRC_OVER=0]="SRC_OVER",e[e.SRC_IN=21]="SRC_IN",e[e.SRC_OUT=22]="SRC_OUT",e[e.SRC_ATOP=23]="SRC_ATOP",e[e.DST_OVER=24]="DST_OVER",e[e.DST_IN=25]="DST_IN",e[e.DST_OUT=26]="DST_OUT",e[e.DST_ATOP=27]="DST_ATOP",e[e.ERASE=26]="ERASE",e[e.SUBTRACT=28]="SUBTRACT",e[e.XOR=29]="XOR",e))(xn||{}),wn=(e=>(e[e.POINTS=0]="POINTS",e[e.LINES=1]="LINES",e[e.LINE_LOOP=2]="LINE_LOOP",e[e.LINE_STRIP=3]="LINE_STRIP",e[e.TRIANGLES=4]="TRIANGLES",e[e.TRIANGLE_STRIP=5]="TRIANGLE_STRIP",e[e.TRIANGLE_FAN=6]="TRIANGLE_FAN",e))(wn||{}),An=(e=>(e[e.RGBA=6408]="RGBA",e[e.RGB=6407]="RGB",e[e.RG=33319]="RG",e[e.RED=6403]="RED",e[e.RGBA_INTEGER=36249]="RGBA_INTEGER",e[e.RGB_INTEGER=36248]="RGB_INTEGER",e[e.RG_INTEGER=33320]="RG_INTEGER",e[e.RED_INTEGER=36244]="RED_INTEGER",e[e.ALPHA=6406]="ALPHA",e[e.LUMINANCE=6409]="LUMINANCE",e[e.LUMINANCE_ALPHA=6410]="LUMINANCE_ALPHA",e[e.DEPTH_COMPONENT=6402]="DEPTH_COMPONENT",e[e.DEPTH_STENCIL=34041]="DEPTH_STENCIL",e))(An||{}),En=(e=>(e[e.TEXTURE_2D=3553]="TEXTURE_2D",e[e.TEXTURE_CUBE_MAP=34067]="TEXTURE_CUBE_MAP",e[e.TEXTURE_2D_ARRAY=35866]="TEXTURE_2D_ARRAY",e[e.TEXTURE_CUBE_MAP_POSITIVE_X=34069]="TEXTURE_CUBE_MAP_POSITIVE_X",e[e.TEXTURE_CUBE_MAP_NEGATIVE_X=34070]="TEXTURE_CUBE_MAP_NEGATIVE_X",e[e.TEXTURE_CUBE_MAP_POSITIVE_Y=34071]="TEXTURE_CUBE_MAP_POSITIVE_Y",e[e.TEXTURE_CUBE_MAP_NEGATIVE_Y=34072]="TEXTURE_CUBE_MAP_NEGATIVE_Y",e[e.TEXTURE_CUBE_MAP_POSITIVE_Z=34073]="TEXTURE_CUBE_MAP_POSITIVE_Z",e[e.TEXTURE_CUBE_MAP_NEGATIVE_Z=34074]="TEXTURE_CUBE_MAP_NEGATIVE_Z",e))(En||{}),Sn=(e=>(e[e.UNSIGNED_BYTE=5121]="UNSIGNED_BYTE",e[e.UNSIGNED_SHORT=5123]="UNSIGNED_SHORT",e[e.UNSIGNED_SHORT_5_6_5=33635]="UNSIGNED_SHORT_5_6_5",e[e.UNSIGNED_SHORT_4_4_4_4=32819]="UNSIGNED_SHORT_4_4_4_4",e[e.UNSIGNED_SHORT_5_5_5_1=32820]="UNSIGNED_SHORT_5_5_5_1",e[e.UNSIGNED_INT=5125]="UNSIGNED_INT",e[e.UNSIGNED_INT_10F_11F_11F_REV=35899]="UNSIGNED_INT_10F_11F_11F_REV",e[e.UNSIGNED_INT_2_10_10_10_REV=33640]="UNSIGNED_INT_2_10_10_10_REV",e[e.UNSIGNED_INT_24_8=34042]="UNSIGNED_INT_24_8",e[e.UNSIGNED_INT_5_9_9_9_REV=35902]="UNSIGNED_INT_5_9_9_9_REV",e[e.BYTE=5120]="BYTE",e[e.SHORT=5122]="SHORT",e[e.INT=5124]="INT",e[e.FLOAT=5126]="FLOAT",e[e.FLOAT_32_UNSIGNED_INT_24_8_REV=36269]="FLOAT_32_UNSIGNED_INT_24_8_REV",e[e.HALF_FLOAT=36193]="HALF_FLOAT",e))(Sn||{}),Tn=(e=>(e[e.FLOAT=0]="FLOAT",e[e.INT=1]="INT",e[e.UINT=2]="UINT",e))(Tn||{}),Cn=(e=>(e[e.NEAREST=0]="NEAREST",e[e.LINEAR=1]="LINEAR",e))(Cn||{}),kn=(e=>(e[e.CLAMP=33071]="CLAMP",e[e.REPEAT=10497]="REPEAT",e[e.MIRRORED_REPEAT=33648]="MIRRORED_REPEAT",e))(kn||{}),Rn=(e=>(e[e.OFF=0]="OFF",e[e.POW2=1]="POW2",e[e.ON=2]="ON",e[e.ON_MANUAL=3]="ON_MANUAL",e))(Rn||{}),Pn=(e=>(e[e.NPM=0]="NPM",e[e.UNPACK=1]="UNPACK",e[e.PMA=2]="PMA",e[e.NO_PREMULTIPLIED_ALPHA=0]="NO_PREMULTIPLIED_ALPHA",e[e.PREMULTIPLY_ON_UPLOAD=1]="PREMULTIPLY_ON_UPLOAD",e[e.PREMULTIPLIED_ALPHA=2]="PREMULTIPLIED_ALPHA",e))(Pn||{}),In=(e=>(e[e.NO=0]="NO",e[e.YES=1]="YES",e[e.AUTO=2]="AUTO",e[e.BLEND=0]="BLEND",e[e.CLEAR=1]="CLEAR",e[e.BLIT=2]="BLIT",e))(In||{}),Mn=(e=>(e[e.AUTO=0]="AUTO",e[e.MANUAL=1]="MANUAL",e))(Mn||{}),Dn=(e=>(e.LOW="lowp",e.MEDIUM="mediump",e.HIGH="highp",e))(Dn||{}),On=(e=>(e[e.NONE=0]="NONE",e[e.SCISSOR=1]="SCISSOR",e[e.STENCIL=2]="STENCIL",e[e.SPRITE=3]="SPRITE",e[e.COLOR=4]="COLOR",e))(On||{}),Ln=(e=>(e[e.NONE=0]="NONE",e[e.LOW=2]="LOW",e[e.MEDIUM=4]="MEDIUM",e[e.HIGH=8]="HIGH",e))(Ln||{}),Nn=(e=>(e[e.ELEMENT_ARRAY_BUFFER=34963]="ELEMENT_ARRAY_BUFFER",e[e.ARRAY_BUFFER=34962]="ARRAY_BUFFER",e[e.UNIFORM_BUFFER=35345]="UNIFORM_BUFFER",e))(Nn||{});const Fn={createCanvas:(e,t)=>{const n=document.createElement("canvas");return n.width=e,n.height=t,n},getCanvasRenderingContext2D:()=>CanvasRenderingContext2D,getWebGLRenderingContext:()=>WebGLRenderingContext,getNavigator:()=>navigator,getBaseUrl:()=>{var e;return null!==(e=document.baseURI)&&void 0!==e?e:window.location.href},getFontFaceSet:()=>document.fonts,fetch:(e,t)=>fetch(e,t),parseXML:e=>(new DOMParser).parseFromString(e,"text/xml")},Bn={ADAPTER:Fn,RESOLUTION:1,CREATE_IMAGE_BITMAP:!1,ROUND_PIXELS:!1};var Un,Gn=/iPhone/i,zn=/iPod/i,Hn=/iPad/i,jn=/\biOS-universal(?:.+)Mac\b/i,Wn=/\bAndroid(?:.+)Mobile\b/i,Vn=/Android/i,Xn=/(?:SD4930UR|\bSilk(?:.+)Mobile\b)/i,Yn=/Silk/i,qn=/Windows Phone/i,Kn=/\bWindows(?:.+)ARM\b/i,Qn=/BlackBerry/i,Zn=/BB10/i,Jn=/Opera Mini/i,$n=/\b(CriOS|Chrome)(?:.+)Mobile/i,er=/Mobile(?:.+)Firefox\b/i,tr=function(e){return"undefined"!==typeof e&&"MacIntel"===e.platform&&"number"===typeof e.maxTouchPoints&&e.maxTouchPoints>1&&"undefined"===typeof MSStream};function nr(e){var t={userAgent:"",platform:"",maxTouchPoints:0};e||"undefined"===typeof navigator?"string"===typeof e?t.userAgent=e:e&&e.userAgent&&(t={userAgent:e.userAgent,platform:e.platform,maxTouchPoints:e.maxTouchPoints||0}):t={userAgent:navigator.userAgent,platform:navigator.platform,maxTouchPoints:navigator.maxTouchPoints||0};var n=t.userAgent,r=n.split("[FBAN");"undefined"!==typeof r[1]&&(n=r[0]),"undefined"!==typeof(r=n.split("Twitter"))[1]&&(n=r[0]);var i=function(e){return function(t){return t.test(e)}}(n),s={apple:{phone:i(Gn)&&!i(qn),ipod:i(zn),tablet:!i(Gn)&&(i(Hn)||tr(t))&&!i(qn),universal:i(jn),device:(i(Gn)||i(zn)||i(Hn)||i(jn)||tr(t))&&!i(qn)},amazon:{phone:i(Xn),tablet:!i(Xn)&&i(Yn),device:i(Xn)||i(Yn)},android:{phone:!i(qn)&&i(Xn)||!i(qn)&&i(Wn),tablet:!i(qn)&&!i(Xn)&&!i(Wn)&&(i(Yn)||i(Vn)),device:!i(qn)&&(i(Xn)||i(Yn)||i(Wn)||i(Vn))||i(/\bokhttp\b/i)},windows:{phone:i(qn),tablet:i(Kn),device:i(qn)||i(Kn)},other:{blackberry:i(Qn),blackberry10:i(Zn),opera:i(Jn),firefox:i(er),chrome:i($n),device:i(Qn)||i(Zn)||i(Jn)||i(er)||i($n)},any:!1,phone:!1,tablet:!1};return s.any=s.apple.device||s.android.device||s.windows.device||s.other.device,s.phone=s.apple.phone||s.android.phone||s.windows.phone,s.tablet=s.apple.tablet||s.android.tablet||s.windows.tablet,s}const rr=(null!==(Un=nr.default)&&void 0!==Un?Un:nr)(globalThis.navigator);Bn.RETINA_PREFIX=/@([0-9\.]+)x/,Bn.FAIL_IF_MAJOR_PERFORMANCE_CAVEAT=!1;var ir=n(7283),sr=n(973);n(4080);const or={};function ar(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:3;if(or[t])return;let r=(new Error).stack;typeof r>"u"?console.warn("PixiJS Deprecation Warning: ","".concat(t,"\nDeprecated since v").concat(e)):(r=r.split("\n").splice(n).join("\n"),console.groupCollapsed?(console.groupCollapsed("%cPixiJS Deprecation Warning: %c%s","color:#614108;background:#fffbe6","font-weight:normal;color:#614108;background:#fffbe6","".concat(t,"\nDeprecated since v").concat(e)),console.warn(r),console.groupEnd()):(console.warn("PixiJS Deprecation Warning: ","".concat(t,"\nDeprecated since v").concat(e)),console.warn(r))),or[t]=!0}function lr(e){if("string"!=typeof e)throw new TypeError("Path must be a string. Received ".concat(JSON.stringify(e)))}function ur(e){return e.split("?")[0].split("#")[0]}const cr={toPosix:e=>function(e,t,n){return e.replace(new RegExp(t.replace(/[.*+?^${}()|[\]\\]/g,"\\$&"),"g"),n)}(e,"\\","/"),isUrl(e){return/^https?:/.test(this.toPosix(e))},isDataUrl:e=>/^data:([a-z]+\/[a-z0-9-+.]+(;[a-z0-9-.!#$%*+.{}|~`]+=[a-z0-9-.!#$%*+.{}()_|~`]+)*)?(;base64)?,([a-z0-9!$&',()*+;=\-._~:@\/?%\s<>]*?)$/i.test(e),isBlobUrl:e=>e.startsWith("blob:"),hasProtocol(e){return/^[^/:]+:/.test(this.toPosix(e))},getProtocol(e){lr(e),e=this.toPosix(e);const t=/^file:\/\/\//.exec(e);if(t)return t[0];const n=/^[^/:]+:\/{0,2}/.exec(e);return n?n[0]:""},toAbsolute(e,t,n){if(lr(e),this.isDataUrl(e)||this.isBlobUrl(e))return e;const r=ur(this.toPosix(null!==t&&void 0!==t?t:Bn.ADAPTER.getBaseUrl())),i=ur(this.toPosix(null!==n&&void 0!==n?n:this.rootname(r)));return(e=this.toPosix(e)).startsWith("/")?cr.join(i,e.slice(1)):this.isAbsolute(e)?e:this.join(r,e)},normalize(e){if(lr(e),0===e.length)return".";if(this.isDataUrl(e)||this.isBlobUrl(e))return e;let t="";const n=(e=this.toPosix(e)).startsWith("/");this.hasProtocol(e)&&(t=this.rootname(e),e=e.slice(t.length));const r=e.endsWith("/");return(e=function(e,t){let n="",r=0,i=-1,s=0,o=-1;for(let a=0;a<=e.length;++a){if(a<e.length)o=e.charCodeAt(a);else{if(47===o)break;o=47}if(47===o){if(i!==a-1&&1!==s)if(i!==a-1&&2===s){if(n.length<2||2!==r||46!==n.charCodeAt(n.length-1)||46!==n.charCodeAt(n.length-2))if(n.length>2){const e=n.lastIndexOf("/");if(e!==n.length-1){-1===e?(n="",r=0):(n=n.slice(0,e),r=n.length-1-n.lastIndexOf("/")),i=a,s=0;continue}}else if(2===n.length||1===n.length){n="",r=0,i=a,s=0;continue}t&&(n.length>0?n+="/..":n="..",r=2)}else n.length>0?n+="/".concat(e.slice(i+1,a)):n=e.slice(i+1,a),r=a-i-1;i=a,s=0}else 46===o&&-1!==s?++s:s=-1}return n}(e,!1)).length>0&&r&&(e+="/"),n?"/".concat(e):t+e},isAbsolute(e){return lr(e),e=this.toPosix(e),!!this.hasProtocol(e)||e.startsWith("/")},join(){if(0===arguments.length)return".";let e;for(let n=0;n<arguments.length;++n){const r=n<0||arguments.length<=n?void 0:arguments[n];if(lr(r),r.length>0)if(void 0===e)e=r;else{var t;const i=null!==(t=n-1<0||arguments.length<=n-1?void 0:arguments[n-1])&&void 0!==t?t:"";this.joinExtensions.includes(this.extname(i).toLowerCase())?e+="/../".concat(r):e+="/".concat(r)}}return void 0===e?".":this.normalize(e)},dirname(e){if(lr(e),0===e.length)return".";let t=(e=this.toPosix(e)).charCodeAt(0);const n=47===t;let r=-1,i=!0;const s=this.getProtocol(e),o=e;for(let a=(e=e.slice(s.length)).length-1;a>=1;--a)if(t=e.charCodeAt(a),47===t){if(!i){r=a;break}}else i=!1;return-1===r?n?"/":this.isUrl(o)?s+e:s:n&&1===r?"//":s+e.slice(0,r)},rootname(e){lr(e);let t="";if(t=(e=this.toPosix(e)).startsWith("/")?"/":this.getProtocol(e),this.isUrl(e)){const n=e.indexOf("/",t.length);t=-1!==n?e.slice(0,n):e,t.endsWith("/")||(t+="/")}return t},basename(e,t){lr(e),t&&lr(t),e=ur(this.toPosix(e));let n,r=0,i=-1,s=!0;if(void 0!==t&&t.length>0&&t.length<=e.length){if(t.length===e.length&&t===e)return"";let o=t.length-1,a=-1;for(n=e.length-1;n>=0;--n){const l=e.charCodeAt(n);if(47===l){if(!s){r=n+1;break}}else-1===a&&(s=!1,a=n+1),o>=0&&(l===t.charCodeAt(o)?-1===--o&&(i=n):(o=-1,i=a))}return r===i?i=a:-1===i&&(i=e.length),e.slice(r,i)}for(n=e.length-1;n>=0;--n)if(47===e.charCodeAt(n)){if(!s){r=n+1;break}}else-1===i&&(s=!1,i=n+1);return-1===i?"":e.slice(r,i)},extname(e){lr(e);let t=-1,n=0,r=-1,i=!0,s=0;for(let o=(e=ur(this.toPosix(e))).length-1;o>=0;--o){const a=e.charCodeAt(o);if(47!==a)-1===r&&(i=!1,r=o+1),46===a?-1===t?t=o:1!==s&&(s=1):-1!==t&&(s=-1);else if(!i){n=o+1;break}}return-1===t||-1===r||0===s||1===s&&t===r-1&&t===n+1?"":e.slice(t,r)},parse(e){lr(e);const t={root:"",dir:"",base:"",ext:"",name:""};if(0===e.length)return t;let n=(e=ur(this.toPosix(e))).charCodeAt(0);const r=this.isAbsolute(e);let i;t.root=this.rootname(e),i=r||this.hasProtocol(e)?1:0;let s=-1,o=0,a=-1,l=!0,u=e.length-1,c=0;for(;u>=i;--u)if(n=e.charCodeAt(u),47!==n)-1===a&&(l=!1,a=u+1),46===n?-1===s?s=u:1!==c&&(c=1):-1!==s&&(c=-1);else if(!l){o=u+1;break}return-1===s||-1===a||0===c||1===c&&s===a-1&&s===o+1?-1!==a&&(t.base=t.name=0===o&&r?e.slice(1,a):e.slice(o,a)):(0===o&&r?(t.name=e.slice(1,s),t.base=e.slice(1,a)):(t.name=e.slice(o,s),t.base=e.slice(o,a)),t.ext=e.slice(s,a)),t.dir=this.dirname(e),t},sep:"/",delimiter:":",joinExtensions:[".html"]};let hr,dr;async function fr(){return null!==hr&&void 0!==hr||(hr=(async e=>{const t=document.createElement("canvas").getContext("webgl");if(!t)return Pn.UNPACK;const n=await new Promise(e=>{const t=document.createElement("video");t.onloadeddata=()=>e(t),t.onerror=()=>e(null),t.autoplay=!1,t.crossOrigin="anonymous",t.preload="auto",t.src="data:video/webm;base64,GkXfo59ChoEBQveBAULygQRC84EIQoKEd2VibUKHgQJChYECGFOAZwEAAAAAAAHTEU2bdLpNu4tTq4QVSalmU6yBoU27i1OrhBZUrmtTrIHGTbuMU6uEElTDZ1OsggEXTbuMU6uEHFO7a1OsggG97AEAAAAAAABZAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAVSalmoCrXsYMPQkBNgIRMYXZmV0GETGF2ZkSJiEBEAAAAAAAAFlSua8yuAQAAAAAAAEPXgQFzxYgAAAAAAAAAAZyBACK1nIN1bmSIgQCGhVZfVlA5g4EBI+ODhAJiWgDglLCBArqBApqBAlPAgQFVsIRVuYEBElTDZ9Vzc9JjwItjxYgAAAAAAAAAAWfInEWjh0VOQ09ERVJEh49MYXZjIGxpYnZweC12cDlnyKJFo4hEVVJBVElPTkSHlDAwOjAwOjAwLjA0MDAwMDAwMAAAH0O2dcfngQCgwqGggQAAAIJJg0IAABAAFgA4JBwYSgAAICAAEb///4r+AAB1oZ2mm+6BAaWWgkmDQgAAEAAWADgkHBhKAAAgIABIQBxTu2uRu4+zgQC3iveBAfGCAXHwgQM=",t.load()});if(!n)return Pn.UNPACK;const r=t.createTexture();t.bindTexture(t.TEXTURE_2D,r);const i=t.createFramebuffer();t.bindFramebuffer(t.FRAMEBUFFER,i),t.framebufferTexture2D(t.FRAMEBUFFER,t.COLOR_ATTACHMENT0,t.TEXTURE_2D,r,0),t.pixelStorei(t.UNPACK_PREMULTIPLY_ALPHA_WEBGL,!1),t.pixelStorei(t.UNPACK_COLORSPACE_CONVERSION_WEBGL,t.NONE),t.texImage2D(t.TEXTURE_2D,0,t.RGBA,t.RGBA,t.UNSIGNED_BYTE,n);const s=new Uint8Array(4);return t.readPixels(0,0,1,1,t.RGBA,t.UNSIGNED_BYTE,s),t.deleteFramebuffer(i),t.deleteTexture(r),null!==(e=t.getExtension("WEBGL_lose_context"))&&void 0!==e&&e.loseContext(),s[0]<=s[3]?Pn.PMA:Pn.UNPACK})()),hr}var pr={grad:.9,turn:360,rad:360/(2*Math.PI)},mr=function(e){return"string"==typeof e?e.length>0:"number"==typeof e},gr=function(e,t,n){return void 0===t&&(t=0),void 0===n&&(n=Math.pow(10,t)),Math.round(n*e)/n+0},yr=function(e,t,n){return void 0===t&&(t=0),void 0===n&&(n=1),e>n?n:e>t?e:t},vr=function(e){return(e=isFinite(e)?e%360:0)>0?e:e+360},br=function(e){return{r:yr(e.r,0,255),g:yr(e.g,0,255),b:yr(e.b,0,255),a:yr(e.a)}},_r=function(e){return{r:gr(e.r),g:gr(e.g),b:gr(e.b),a:gr(e.a,3)}},xr=/^#([0-9a-f]{3,8})$/i,wr=function(e){var t=e.toString(16);return t.length<2?"0"+t:t},Ar=function(e){var t=e.r,n=e.g,r=e.b,i=e.a,s=Math.max(t,n,r),o=s-Math.min(t,n,r),a=o?s===t?(n-r)/o:s===n?2+(r-t)/o:4+(t-n)/o:0;return{h:60*(a<0?a+6:a),s:s?o/s*100:0,v:s/255*100,a:i}},Er=function(e){var t=e.h,n=e.s,r=e.v,i=e.a;t=t/360*6,n/=100,r/=100;var s=Math.floor(t),o=r*(1-n),a=r*(1-(t-s)*n),l=r*(1-(1-t+s)*n),u=s%6;return{r:255*[r,a,o,o,l,r][u],g:255*[l,r,r,a,o,o][u],b:255*[o,o,l,r,r,a][u],a:i}},Sr=function(e){return{h:vr(e.h),s:yr(e.s,0,100),l:yr(e.l,0,100),a:yr(e.a)}},Tr=function(e){return{h:gr(e.h),s:gr(e.s),l:gr(e.l),a:gr(e.a,3)}},Cr=function(e){return Er((n=(t=e).s,{h:t.h,s:(n*=((r=t.l)<50?r:100-r)/100)>0?2*n/(r+n)*100:0,v:r+n,a:t.a}));var t,n,r},kr=function(e){return{h:(t=Ar(e)).h,s:(i=(200-(n=t.s))*(r=t.v)/100)>0&&i<200?n*r/100/(i<=100?i:200-i)*100:0,l:i/2,a:t.a};var t,n,r,i},Rr=/^hsla?\(\s*([+-]?\d*\.?\d+)(deg|rad|grad|turn)?\s*,\s*([+-]?\d*\.?\d+)%\s*,\s*([+-]?\d*\.?\d+)%\s*(?:,\s*([+-]?\d*\.?\d+)(%)?\s*)?\)$/i,Pr=/^hsla?\(\s*([+-]?\d*\.?\d+)(deg|rad|grad|turn)?\s+([+-]?\d*\.?\d+)%\s+([+-]?\d*\.?\d+)%\s*(?:\/\s*([+-]?\d*\.?\d+)(%)?\s*)?\)$/i,Ir=/^rgba?\(\s*([+-]?\d*\.?\d+)(%)?\s*,\s*([+-]?\d*\.?\d+)(%)?\s*,\s*([+-]?\d*\.?\d+)(%)?\s*(?:,\s*([+-]?\d*\.?\d+)(%)?\s*)?\)$/i,Mr=/^rgba?\(\s*([+-]?\d*\.?\d+)(%)?\s+([+-]?\d*\.?\d+)(%)?\s+([+-]?\d*\.?\d+)(%)?\s*(?:\/\s*([+-]?\d*\.?\d+)(%)?\s*)?\)$/i,Dr={string:[[function(e){var t=xr.exec(e);return t?(e=t[1]).length<=4?{r:parseInt(e[0]+e[0],16),g:parseInt(e[1]+e[1],16),b:parseInt(e[2]+e[2],16),a:4===e.length?gr(parseInt(e[3]+e[3],16)/255,2):1}:6===e.length||8===e.length?{r:parseInt(e.substr(0,2),16),g:parseInt(e.substr(2,2),16),b:parseInt(e.substr(4,2),16),a:8===e.length?gr(parseInt(e.substr(6,2),16)/255,2):1}:null:null},"hex"],[function(e){var t=Ir.exec(e)||Mr.exec(e);return t?t[2]!==t[4]||t[4]!==t[6]?null:br({r:Number(t[1])/(t[2]?100/255:1),g:Number(t[3])/(t[4]?100/255:1),b:Number(t[5])/(t[6]?100/255:1),a:void 0===t[7]?1:Number(t[7])/(t[8]?100:1)}):null},"rgb"],[function(e){var t=Rr.exec(e)||Pr.exec(e);if(!t)return null;var n,r,i=Sr({h:(n=t[1],r=t[2],void 0===r&&(r="deg"),Number(n)*(pr[r]||1)),s:Number(t[3]),l:Number(t[4]),a:void 0===t[5]?1:Number(t[5])/(t[6]?100:1)});return Cr(i)},"hsl"]],object:[[function(e){var t=e.r,n=e.g,r=e.b,i=e.a,s=void 0===i?1:i;return mr(t)&&mr(n)&&mr(r)?br({r:Number(t),g:Number(n),b:Number(r),a:Number(s)}):null},"rgb"],[function(e){var t=e.h,n=e.s,r=e.l,i=e.a,s=void 0===i?1:i;if(!mr(t)||!mr(n)||!mr(r))return null;var o=Sr({h:Number(t),s:Number(n),l:Number(r),a:Number(s)});return Cr(o)},"hsl"],[function(e){var t=e.h,n=e.s,r=e.v,i=e.a,s=void 0===i?1:i;if(!mr(t)||!mr(n)||!mr(r))return null;var o=function(e){return{h:vr(e.h),s:yr(e.s,0,100),v:yr(e.v,0,100),a:yr(e.a)}}({h:Number(t),s:Number(n),v:Number(r),a:Number(s)});return Er(o)},"hsv"]]},Or=function(e,t){for(var n=0;n<t.length;n++){var r=t[n][0](e);if(r)return[r,t[n][1]]}return[null,void 0]},Lr=function(e){return"string"==typeof e?Or(e.trim(),Dr.string):"object"==typeof e&&null!==e?Or(e,Dr.object):[null,void 0]},Nr=function(e,t){var n=kr(e);return{h:n.h,s:yr(n.s+100*t,0,100),l:n.l,a:n.a}},Fr=function(e){return(299*e.r+587*e.g+114*e.b)/1e3/255},Br=function(e,t){var n=kr(e);return{h:n.h,s:n.s,l:yr(n.l+100*t,0,100),a:n.a}},Ur=function(){function e(e){this.parsed=Lr(e)[0],this.rgba=this.parsed||{r:0,g:0,b:0,a:1}}return e.prototype.isValid=function(){return null!==this.parsed},e.prototype.brightness=function(){return gr(Fr(this.rgba),2)},e.prototype.isDark=function(){return Fr(this.rgba)<.5},e.prototype.isLight=function(){return Fr(this.rgba)>=.5},e.prototype.toHex=function(){return t=(e=_r(this.rgba)).r,n=e.g,r=e.b,s=(i=e.a)<1?wr(gr(255*i)):"","#"+wr(t)+wr(n)+wr(r)+s;var e,t,n,r,i,s},e.prototype.toRgb=function(){return _r(this.rgba)},e.prototype.toRgbString=function(){return t=(e=_r(this.rgba)).r,n=e.g,r=e.b,(i=e.a)<1?"rgba("+t+", "+n+", "+r+", "+i+")":"rgb("+t+", "+n+", "+r+")";var e,t,n,r,i},e.prototype.toHsl=function(){return Tr(kr(this.rgba))},e.prototype.toHslString=function(){return t=(e=Tr(kr(this.rgba))).h,n=e.s,r=e.l,(i=e.a)<1?"hsla("+t+", "+n+"%, "+r+"%, "+i+")":"hsl("+t+", "+n+"%, "+r+"%)";var e,t,n,r,i},e.prototype.toHsv=function(){return e=Ar(this.rgba),{h:gr(e.h),s:gr(e.s),v:gr(e.v),a:gr(e.a,3)};var e},e.prototype.invert=function(){return Gr({r:255-(e=this.rgba).r,g:255-e.g,b:255-e.b,a:e.a});var e},e.prototype.saturate=function(e){return void 0===e&&(e=.1),Gr(Nr(this.rgba,e))},e.prototype.desaturate=function(e){return void 0===e&&(e=.1),Gr(Nr(this.rgba,-e))},e.prototype.grayscale=function(){return Gr(Nr(this.rgba,-1))},e.prototype.lighten=function(e){return void 0===e&&(e=.1),Gr(Br(this.rgba,e))},e.prototype.darken=function(e){return void 0===e&&(e=.1),Gr(Br(this.rgba,-e))},e.prototype.rotate=function(e){return void 0===e&&(e=15),this.hue(this.hue()+e)},e.prototype.alpha=function(e){return"number"==typeof e?Gr({r:(t=this.rgba).r,g:t.g,b:t.b,a:e}):gr(this.rgba.a,3);var t},e.prototype.hue=function(e){var t=kr(this.rgba);return"number"==typeof e?Gr({h:e,s:t.s,l:t.l,a:t.a}):gr(t.h)},e.prototype.isEqual=function(e){return this.toHex()===Gr(e).toHex()},e}(),Gr=function(e){return e instanceof Ur?e:new Ur(e)},zr=[];!function(e){e.forEach(function(e){zr.indexOf(e)<0&&(e(Ur,Dr),zr.push(e))})}([function(e,t){var n={white:"#ffffff",bisque:"#ffe4c4",blue:"#0000ff",cadetblue:"#5f9ea0",chartreuse:"#7fff00",chocolate:"#d2691e",coral:"#ff7f50",antiquewhite:"#faebd7",aqua:"#00ffff",azure:"#f0ffff",whitesmoke:"#f5f5f5",papayawhip:"#ffefd5",plum:"#dda0dd",blanchedalmond:"#ffebcd",black:"#000000",gold:"#ffd700",goldenrod:"#daa520",gainsboro:"#dcdcdc",cornsilk:"#fff8dc",cornflowerblue:"#6495ed",burlywood:"#deb887",aquamarine:"#7fffd4",beige:"#f5f5dc",crimson:"#dc143c",cyan:"#00ffff",darkblue:"#00008b",darkcyan:"#008b8b",darkgoldenrod:"#b8860b",darkkhaki:"#bdb76b",darkgray:"#a9a9a9",darkgreen:"#006400",darkgrey:"#a9a9a9",peachpuff:"#ffdab9",darkmagenta:"#8b008b",darkred:"#8b0000",darkorchid:"#9932cc",darkorange:"#ff8c00",darkslateblue:"#483d8b",gray:"#808080",darkslategray:"#2f4f4f",darkslategrey:"#2f4f4f",deeppink:"#ff1493",deepskyblue:"#00bfff",wheat:"#f5deb3",firebrick:"#b22222",floralwhite:"#fffaf0",ghostwhite:"#f8f8ff",darkviolet:"#9400d3",magenta:"#ff00ff",green:"#008000",dodgerblue:"#1e90ff",grey:"#808080",honeydew:"#f0fff0",hotpink:"#ff69b4",blueviolet:"#8a2be2",forestgreen:"#228b22",lawngreen:"#7cfc00",indianred:"#cd5c5c",indigo:"#4b0082",fuchsia:"#ff00ff",brown:"#a52a2a",maroon:"#800000",mediumblue:"#0000cd",lightcoral:"#f08080",darkturquoise:"#00ced1",lightcyan:"#e0ffff",ivory:"#fffff0",lightyellow:"#ffffe0",lightsalmon:"#ffa07a",lightseagreen:"#20b2aa",linen:"#faf0e6",mediumaquamarine:"#66cdaa",lemonchiffon:"#fffacd",lime:"#00ff00",khaki:"#f0e68c",mediumseagreen:"#3cb371",limegreen:"#32cd32",mediumspringgreen:"#00fa9a",lightskyblue:"#87cefa",lightblue:"#add8e6",midnightblue:"#191970",lightpink:"#ffb6c1",mistyrose:"#ffe4e1",moccasin:"#ffe4b5",mintcream:"#f5fffa",lightslategray:"#778899",lightslategrey:"#778899",navajowhite:"#ffdead",navy:"#000080",mediumvioletred:"#c71585",powderblue:"#b0e0e6",palegoldenrod:"#eee8aa",oldlace:"#fdf5e6",paleturquoise:"#afeeee",mediumturquoise:"#48d1cc",mediumorchid:"#ba55d3",rebeccapurple:"#663399",lightsteelblue:"#b0c4de",mediumslateblue:"#7b68ee",thistle:"#d8bfd8",tan:"#d2b48c",orchid:"#da70d6",mediumpurple:"#9370db",purple:"#800080",pink:"#ffc0cb",skyblue:"#87ceeb",springgreen:"#00ff7f",palegreen:"#98fb98",red:"#ff0000",yellow:"#ffff00",slateblue:"#6a5acd",lavenderblush:"#fff0f5",peru:"#cd853f",palevioletred:"#db7093",violet:"#ee82ee",teal:"#008080",slategray:"#708090",slategrey:"#708090",aliceblue:"#f0f8ff",darkseagreen:"#8fbc8f",darkolivegreen:"#556b2f",greenyellow:"#adff2f",seagreen:"#2e8b57",seashell:"#fff5ee",tomato:"#ff6347",silver:"#c0c0c0",sienna:"#a0522d",lavender:"#e6e6fa",lightgreen:"#90ee90",orange:"#ffa500",orangered:"#ff4500",steelblue:"#4682b4",royalblue:"#4169e1",turquoise:"#40e0d0",yellowgreen:"#9acd32",salmon:"#fa8072",saddlebrown:"#8b4513",sandybrown:"#f4a460",rosybrown:"#bc8f8f",darksalmon:"#e9967a",lightgoldenrodyellow:"#fafad2",snow:"#fffafa",lightgrey:"#d3d3d3",lightgray:"#d3d3d3",dimgray:"#696969",dimgrey:"#696969",olivedrab:"#6b8e23",olive:"#808000"},r={};for(var i in n)r[n[i]]=i;var s={};e.prototype.toName=function(t){if(!(this.rgba.a||this.rgba.r||this.rgba.g||this.rgba.b))return"transparent";var i,o,a=r[this.toHex()];if(a)return a;if(null==t?void 0:t.closest){var l=this.toRgb(),u=1/0,c="black";if(!s.length)for(var h in n)s[h]=new e(n[h]).toRgb();for(var d in n){var f=(i=l,o=s[d],Math.pow(i.r-o.r,2)+Math.pow(i.g-o.g,2)+Math.pow(i.b-o.b,2));f<u&&(u=f,c=d)}return c}},t.string.push([function(t){var r=t.toLowerCase(),i="transparent"===r?"#0000":n[r];return i?new e(i).toRgb():null},"name"])}]);const Hr=class e{constructor(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:16777215;this._value=null,this._components=new Float32Array(4),this._components.fill(1),this._int=16777215,this.value=e}get red(){return this._components[0]}get green(){return this._components[1]}get blue(){return this._components[2]}get alpha(){return this._components[3]}setValue(e){return this.value=e,this}set value(t){if(t instanceof e)this._value=this.cloneSource(t._value),this._int=t._int,this._components.set(t._components);else{if(null===t)throw new Error("Cannot set PIXI.Color#value to null");(null===this._value||!this.isSourceEqual(this._value,t))&&(this.normalize(t),this._value=this.cloneSource(t))}}get value(){return this._value}cloneSource(e){return"string"==typeof e||"number"==typeof e||e instanceof Number||null===e?e:Array.isArray(e)||ArrayBuffer.isView(e)?e.slice(0):"object"==typeof e&&null!==e?u({},e):e}isSourceEqual(e,t){const n=typeof e;if(n!==typeof t)return!1;if("number"===n||"string"===n||e instanceof Number)return e===t;if(Array.isArray(e)&&Array.isArray(t)||ArrayBuffer.isView(e)&&ArrayBuffer.isView(t))return e.length===t.length&&e.every((e,n)=>e===t[n]);if(null!==e&&null!==t){const n=Object.keys(e),r=Object.keys(t);return n.length===r.length&&n.every(n=>e[n]===t[n])}return e===t}toRgba(){const[e,t,n,r]=this._components;return{r:e,g:t,b:n,a:r}}toRgb(){const[e,t,n]=this._components;return{r:e,g:t,b:n}}toRgbaString(){const[e,t,n]=this.toUint8RgbArray();return"rgba(".concat(e,",").concat(t,",").concat(n,",").concat(this.alpha,")")}toUint8RgbArray(e){const[t,n,r]=this._components;return(e=null!==e&&void 0!==e?e:[])[0]=Math.round(255*t),e[1]=Math.round(255*n),e[2]=Math.round(255*r),e}toRgbArray(e){e=null!==e&&void 0!==e?e:[];const[t,n,r]=this._components;return e[0]=t,e[1]=n,e[2]=r,e}toNumber(){return this._int}toLittleEndianNumber(){const e=this._int;return(e>>16)+(65280&e)+((255&e)<<16)}multiply(t){const[n,r,i,s]=e.temp.setValue(t)._components;return this._components[0]*=n,this._components[1]*=r,this._components[2]*=i,this._components[3]*=s,this.refreshInt(),this._value=null,this}premultiply(e){return(!(arguments.length>1&&void 0!==arguments[1])||arguments[1])&&(this._components[0]*=e,this._components[1]*=e,this._components[2]*=e),this._components[3]=e,this.refreshInt(),this._value=null,this}toPremultiplied(e){let t=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];if(1===e)return(255<<24)+this._int;if(0===e)return t?0:this._int;let n=this._int>>16&255,r=this._int>>8&255,i=255&this._int;return t&&(n=n*e+.5|0,r=r*e+.5|0,i=i*e+.5|0),(255*e<<24)+(n<<16)+(r<<8)+i}toHex(){const e=this._int.toString(16);return"#".concat("000000".substring(0,6-e.length)+e)}toHexa(){const e=Math.round(255*this._components[3]).toString(16);return this.toHex()+"00".substring(0,2-e.length)+e}setAlpha(e){return this._components[3]=this._clamp(e),this}round(e){const[t,n,r]=this._components;return this._components[0]=Math.round(t*e)/e,this._components[1]=Math.round(n*e)/e,this._components[2]=Math.round(r*e)/e,this.refreshInt(),this._value=null,this}toArray(e){e=null!==e&&void 0!==e?e:[];const[t,n,r,i]=this._components;return e[0]=t,e[1]=n,e[2]=r,e[3]=i,e}normalize(t){let n,r,i,s;if(("number"==typeof t||t instanceof Number)&&t>=0&&t<=16777215){n=(t>>16&255)/255,r=(t>>8&255)/255,i=(255&t)/255,s=1}else if((Array.isArray(t)||t instanceof Float32Array)&&t.length>=3&&t.length<=4)t=this._clamp(t),[n,r,i,s=1]=t;else if((t instanceof Uint8Array||t instanceof Uint8ClampedArray)&&t.length>=3&&t.length<=4)t=this._clamp(t,0,255),[n,r,i,s=255]=t,n/=255,r/=255,i/=255,s/=255;else if("string"==typeof t||"object"==typeof t){if("string"==typeof t){const n=e.HEX_PATTERN.exec(t);n&&(t="#".concat(n[2]))}const o=Gr(t);o.isValid()&&(({r:n,g:r,b:i,a:s}=o.rgba),n/=255,r/=255,i/=255)}if(void 0===n)throw new Error("Unable to convert color ".concat(t));this._components[0]=n,this._components[1]=r,this._components[2]=i,this._components[3]=s,this.refreshInt()}refreshInt(){this._clamp(this._components);const[e,t,n]=this._components;this._int=(255*e<<16)+(255*t<<8)+(255*n|0)}_clamp(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:1;return"number"==typeof e?Math.min(Math.max(e,t),n):(e.forEach((r,i)=>{e[i]=Math.min(Math.max(r,t),n)}),e)}};Hr.shared=new Hr,Hr.temp=new Hr,Hr.HEX_PATTERN=/^(#|0x)?(([a-f0-9]{3}){1,2}([a-f0-9]{2})?)$/i;let jr=Hr;const Wr=function(){const e=[],t=[];for(let r=0;r<32;r++)e[r]=r,t[r]=r;e[xn.NORMAL_NPM]=xn.NORMAL,e[xn.ADD_NPM]=xn.ADD,e[xn.SCREEN_NPM]=xn.SCREEN,t[xn.NORMAL]=xn.NORMAL_NPM,t[xn.ADD]=xn.ADD_NPM,t[xn.SCREEN]=xn.SCREEN_NPM;const n=[];return n.push(t),n.push(e),n}();function Vr(e,t){return Wr[t?1:0][e]}function Xr(e){if(4===e.BYTES_PER_ELEMENT)return e instanceof Float32Array?"Float32Array":e instanceof Uint32Array?"Uint32Array":"Int32Array";if(2===e.BYTES_PER_ELEMENT){if(e instanceof Uint16Array)return"Uint16Array"}else if(1===e.BYTES_PER_ELEMENT&&e instanceof Uint8Array)return"Uint8Array";return null}Float32Array,Uint32Array,Int32Array,Uint8Array;function Yr(e){return e+=0===e?1:0,--e,e|=e>>>1,e|=e>>>2,e|=e>>>4,e|=e>>>8,(e|=e>>>16)+1}function qr(e){return!(e&e-1)&&!!e}function Kr(e){let t=(e>65535?1:0)<<4,n=((e>>>=t)>255?1:0)<<3;return t|=n,n=((e>>>=n)>15?1:0)<<2,t|=n,n=((e>>>=n)>3?1:0)<<1,t|=n,t|(e>>>=n)>>1}function Qr(e,t,n){const r=e.length;let i;if(t>=r||0===n)return;const s=r-(n=t+n>r?r-t:n);for(i=t;i<s;++i)e[i]=e[i+n];e.length=s}function Zr(e){return 0===e?0:e<0?-1:1}let Jr=0;function $r(){return++Jr}const ei=class{constructor(e,t,n,r){this.left=e,this.top=t,this.right=n,this.bottom=r}get width(){return this.right-this.left}get height(){return this.bottom-this.top}isEmpty(){return this.left===this.right||this.top===this.bottom}};ei.EMPTY=new ei(0,0,0,0);let ti=ei;const ni={},ri=Object.create(null),ii=Object.create(null);class si{constructor(e,t,n){this._canvas=Bn.ADAPTER.createCanvas(),this._context=this._canvas.getContext("2d"),this.resolution=n||Bn.RESOLUTION,this.resize(e,t)}clear(){this._checkDestroyed(),this._context.setTransform(1,0,0,1,0,0),this._context.clearRect(0,0,this._canvas.width,this._canvas.height)}resize(e,t){this._checkDestroyed(),this._canvas.width=Math.round(e*this.resolution),this._canvas.height=Math.round(t*this.resolution)}destroy(){this._context=null,this._canvas=null}get width(){return this._checkDestroyed(),this._canvas.width}set width(e){this._checkDestroyed(),this._canvas.width=Math.round(e)}get height(){return this._checkDestroyed(),this._canvas.height}set height(e){this._checkDestroyed(),this._canvas.height=Math.round(e)}get canvas(){return this._checkDestroyed(),this._canvas}get context(){return this._checkDestroyed(),this._context}_checkDestroyed(){if(null===this._canvas)throw new TypeError("The CanvasRenderTarget has already been destroyed")}}function oi(e,t,n){for(let r=0,i=4*n*t;r<t;++r,i+=4)if(0!==e[i+3])return!1;return!0}function ai(e,t,n,r,i){const s=4*t;for(let o=r,a=r*s+4*n;o<=i;++o,a+=s)if(0!==e[a+3])return!1;return!0}function li(e){const t=function(e){const{width:t,height:n}=e,r=e.getContext("2d",{willReadFrequently:!0});if(null===r)throw new TypeError("Failed to get canvas 2D context");const i=r.getImageData(0,0,t,n).data;let s=0,o=0,a=t-1,l=n-1;for(;o<n&&oi(i,t,o);)++o;if(o===n)return ti.EMPTY;for(;oi(i,t,l);)--l;for(;ai(i,t,s,o,l);)++s;for(;ai(i,t,a,o,l);)--a;return++a,++l,new ti(s,o,a,l)}(e),{width:n,height:r}=t;let i=null;if(!t.isEmpty()){const s=e.getContext("2d");if(null===s)throw new TypeError("Failed to get canvas 2D context");i=s.getImageData(t.left,t.top,n,r)}return{width:n,height:r,data:i}}function ui(e){var t;let n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1;const r=null===(t=Bn.RETINA_PREFIX)||void 0===t?void 0:t.exec(e);return r?parseFloat(r[1]):n}var ci=(e=>(e.Renderer="renderer",e.Application="application",e.RendererSystem="renderer-webgl-system",e.RendererPlugin="renderer-webgl-plugin",e.CanvasRendererSystem="renderer-canvas-system",e.CanvasRendererPlugin="renderer-canvas-plugin",e.Asset="asset",e.LoadParser="load-parser",e.ResolveParser="resolve-parser",e.CacheParser="cache-parser",e.DetectionParser="detection-parser",e))(ci||{});const hi=e=>{if("function"==typeof e||"object"==typeof e&&e.extension){if(!e.extension)throw new Error("Extension class must have an extension object");e=u(u({},"object"!=typeof e.extension?{type:e.extension}:e.extension),{},{ref:e})}if("object"!=typeof e)throw new Error("Invalid extension type");return"string"==typeof(e=u({},e)).type&&(e.type=[e.type]),e},di=(e,t)=>{var n;return null!==(n=hi(e).priority)&&void 0!==n?n:t},fi={_addHandlers:{},_removeHandlers:{},_queue:{},remove(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return t.map(hi).forEach(e=>{e.type.forEach(t=>{var n,r;return null===(n=(r=this._removeHandlers)[t])||void 0===n?void 0:n.call(r,e)})}),this},add(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return t.map(hi).forEach(e=>{e.type.forEach(t=>{var n,r;const i=this._addHandlers,s=this._queue;i[t]?null===(n=i[t])||void 0===n||n.call(i,e):(s[t]=s[t]||[],null===(r=s[t])||void 0===r||r.push(e))})}),this},handle(e,t,n){var r;const i=this._addHandlers,s=this._removeHandlers;if(i[e]||s[e])throw new Error("Extension type ".concat(e," already has a handler"));i[e]=t,s[e]=n;const o=this._queue;return o[e]&&(null!==(r=o[e])&&void 0!==r&&r.forEach(e=>t(e)),delete o[e]),this},handleByMap(e,t){return this.handle(e,e=>{e.name&&(t[e.name]=e.ref)},e=>{e.name&&delete t[e.name]})},handleByList(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:-1;return this.handle(e,e=>{t.includes(e.ref)||(t.push(e.ref),t.sort((e,t)=>di(t,n)-di(e,n)))},e=>{const n=t.indexOf(e.ref);-1!==n&&t.splice(n,1)})}};class pi{constructor(e){"number"==typeof e?this.rawBinaryData=new ArrayBuffer(e):e instanceof Uint8Array?this.rawBinaryData=e.buffer:this.rawBinaryData=e,this.uint32View=new Uint32Array(this.rawBinaryData),this.float32View=new Float32Array(this.rawBinaryData)}get int8View(){return this._int8View||(this._int8View=new Int8Array(this.rawBinaryData)),this._int8View}get uint8View(){return this._uint8View||(this._uint8View=new Uint8Array(this.rawBinaryData)),this._uint8View}get int16View(){return this._int16View||(this._int16View=new Int16Array(this.rawBinaryData)),this._int16View}get uint16View(){return this._uint16View||(this._uint16View=new Uint16Array(this.rawBinaryData)),this._uint16View}get int32View(){return this._int32View||(this._int32View=new Int32Array(this.rawBinaryData)),this._int32View}view(e){return this["".concat(e,"View")]}destroy(){this.rawBinaryData=null,this._int8View=null,this._uint8View=null,this._int16View=null,this._uint16View=null,this._int32View=null,this.uint32View=null,this.float32View=null}static sizeOf(e){switch(e){case"int8":case"uint8":return 1;case"int16":case"uint16":return 2;case"int32":case"uint32":case"float32":return 4;default:throw new Error("".concat(e," isn't a valid view type"))}}}const mi=["precision mediump float;","void main(void){","float test = 0.1;","%forloop%","gl_FragColor = vec4(0.0);","}"].join("\n");function gi(e){let t="";for(let n=0;n<e;++n)n>0&&(t+="\nelse "),n<e-1&&(t+="if(test == ".concat(n,".0){}"));return t}class yi{constructor(){this.data=0,this.blendMode=xn.NORMAL,this.polygonOffset=0,this.blend=!0,this.depthMask=!0}get blend(){return!!(1&this.data)}set blend(e){!!(1&this.data)!==e&&(this.data^=1)}get offsets(){return!!(2&this.data)}set offsets(e){!!(2&this.data)!==e&&(this.data^=2)}get culling(){return!!(4&this.data)}set culling(e){!!(4&this.data)!==e&&(this.data^=4)}get depthTest(){return!!(8&this.data)}set depthTest(e){!!(8&this.data)!==e&&(this.data^=8)}get depthMask(){return!!(32&this.data)}set depthMask(e){!!(32&this.data)!==e&&(this.data^=32)}get clockwiseFrontFace(){return!!(16&this.data)}set clockwiseFrontFace(e){!!(16&this.data)!==e&&(this.data^=16)}get blendMode(){return this._blendMode}set blendMode(e){this.blend=e!==xn.NONE,this._blendMode=e}get polygonOffset(){return this._polygonOffset}set polygonOffset(e){this.offsets=!!e,this._polygonOffset=e}static for2d(){const e=new yi;return e.depthTest=!1,e.blend=!0,e}}yi.prototype.toString=function(){return"[@pixi/core:State blendMode=".concat(this.blendMode," clockwiseFrontFace=").concat(this.clockwiseFrontFace," culling=").concat(this.culling," depthMask=").concat(this.depthMask," polygonOffset=").concat(this.polygonOffset,"]")};const vi=[];function bi(e,t){if(!e)return null;let n="";if("string"==typeof e){const t=/\.(\w{3,4})(?:$|\?|#)/i.exec(e);t&&(n=t[1].toLowerCase())}for(let r=vi.length-1;r>=0;--r){const i=vi[r];if(i.test&&i.test(e,n))return new i(e,t)}throw new Error("Unrecognized source type to auto-detect Resource")}class _i{constructor(e){this.items=[],this._name=e,this._aliasCount=0}emit(e,t,n,r,i,s,o,a){if(arguments.length>8)throw new Error("max arguments reached");const{name:l,items:u}=this;this._aliasCount++;for(let c=0,h=u.length;c<h;c++)u[c][l](e,t,n,r,i,s,o,a);return u===this.items&&this._aliasCount--,this}ensureNonAliasedItems(){this._aliasCount>0&&this.items.length>1&&(this._aliasCount=0,this.items=this.items.slice(0))}add(e){return e[this._name]&&(this.ensureNonAliasedItems(),this.remove(e),this.items.push(e)),this}remove(e){const t=this.items.indexOf(e);return-1!==t&&(this.ensureNonAliasedItems(),this.items.splice(t,1)),this}contains(e){return this.items.includes(e)}removeAll(){return this.ensureNonAliasedItems(),this.items.length=0,this}destroy(){this.removeAll(),this.items.length=0,this._name=""}get empty(){return 0===this.items.length}get name(){return this._name}}Object.defineProperties(_i.prototype,{dispatch:{value:_i.prototype.emit},run:{value:_i.prototype.emit}});class xi{constructor(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;this._width=e,this._height=t,this.destroyed=!1,this.internal=!1,this.onResize=new _i("setRealSize"),this.onUpdate=new _i("update"),this.onError=new _i("onError")}bind(e){this.onResize.add(e),this.onUpdate.add(e),this.onError.add(e),(this._width||this._height)&&this.onResize.emit(this._width,this._height)}unbind(e){this.onResize.remove(e),this.onUpdate.remove(e),this.onError.remove(e)}resize(e,t){(e!==this._width||t!==this._height)&&(this._width=e,this._height=t,this.onResize.emit(e,t))}get valid(){return!!this._width&&!!this._height}update(){this.destroyed||this.onUpdate.emit()}load(){return Promise.resolve(this)}get width(){return this._width}get height(){return this._height}style(e,t,n){return!1}dispose(){}destroy(){this.destroyed||(this.destroyed=!0,this.dispose(),this.onError.removeAll(),this.onError=null,this.onResize.removeAll(),this.onResize=null,this.onUpdate.removeAll(),this.onUpdate=null)}static test(e,t){return!1}}class wi extends xi{constructor(e,t){var n;const{width:r,height:i}=t||{};if(!r||!i)throw new Error("BufferResource width or height invalid");super(r,i),this.data=e,this.unpackAlignment=null!==(n=t.unpackAlignment)&&void 0!==n?n:4}upload(e,t,n){const r=e.gl;r.pixelStorei(r.UNPACK_ALIGNMENT,this.unpackAlignment),r.pixelStorei(r.UNPACK_PREMULTIPLY_ALPHA_WEBGL,t.alphaMode===Pn.UNPACK);const i=t.realWidth,s=t.realHeight;return n.width===i&&n.height===s?r.texSubImage2D(t.target,0,0,0,i,s,t.format,n.type,this.data):(n.width=i,n.height=s,r.texImage2D(t.target,0,n.internalFormat,i,s,0,t.format,n.type,this.data)),!0}dispose(){this.data=null}static test(e){return null===e||e instanceof Int8Array||e instanceof Uint8Array||e instanceof Uint8ClampedArray||e instanceof Int16Array||e instanceof Uint16Array||e instanceof Int32Array||e instanceof Uint32Array||e instanceof Float32Array}}const Ai={scaleMode:Cn.NEAREST,alphaMode:Pn.NPM},Ei=class e extends ir{constructor(){let t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;super(),n=Object.assign({},e.defaultOptions,n);const{alphaMode:r,mipmap:i,anisotropicLevel:s,scaleMode:o,width:a,height:l,wrapMode:u,format:c,type:h,target:d,resolution:f,resourceOptions:p}=n;t&&!(t instanceof xi)&&(t=bi(t,p),t.internal=!0),this.resolution=f||Bn.RESOLUTION,this.width=Math.round((a||0)*this.resolution)/this.resolution,this.height=Math.round((l||0)*this.resolution)/this.resolution,this._mipmap=i,this.anisotropicLevel=s,this._wrapMode=u,this._scaleMode=o,this.format=c,this.type=h,this.target=d,this.alphaMode=r,this.uid=$r(),this.touched=0,this.isPowerOfTwo=!1,this._refreshPOT(),this._glTextures={},this.dirtyId=0,this.dirtyStyleId=0,this.cacheId=null,this.valid=a>0&&l>0,this.textureCacheIds=[],this.destroyed=!1,this.resource=null,this._batchEnabled=0,this._batchLocation=0,this.parentTextureArray=null,this.setResource(t)}get realWidth(){return Math.round(this.width*this.resolution)}get realHeight(){return Math.round(this.height*this.resolution)}get mipmap(){return this._mipmap}set mipmap(e){this._mipmap!==e&&(this._mipmap=e,this.dirtyStyleId++)}get scaleMode(){return this._scaleMode}set scaleMode(e){this._scaleMode!==e&&(this._scaleMode=e,this.dirtyStyleId++)}get wrapMode(){return this._wrapMode}set wrapMode(e){this._wrapMode!==e&&(this._wrapMode=e,this.dirtyStyleId++)}setStyle(e,t){let n;return void 0!==e&&e!==this.scaleMode&&(this.scaleMode=e,n=!0),void 0!==t&&t!==this.mipmap&&(this.mipmap=t,n=!0),n&&this.dirtyStyleId++,this}setSize(e,t,n){return n=n||this.resolution,this.setRealSize(e*n,t*n,n)}setRealSize(e,t,n){return this.resolution=n||this.resolution,this.width=Math.round(e)/this.resolution,this.height=Math.round(t)/this.resolution,this._refreshPOT(),this.update(),this}_refreshPOT(){this.isPowerOfTwo=qr(this.realWidth)&&qr(this.realHeight)}setResolution(e){const t=this.resolution;return t===e||(this.resolution=e,this.valid&&(this.width=Math.round(this.width*t)/e,this.height=Math.round(this.height*t)/e,this.emit("update",this)),this._refreshPOT()),this}setResource(e){if(this.resource===e)return this;if(this.resource)throw new Error("Resource can be set only once");return e.bind(this),this.resource=e,this}update(){this.valid?(this.dirtyId++,this.dirtyStyleId++,this.emit("update",this)):this.width>0&&this.height>0&&(this.valid=!0,this.emit("loaded",this),this.emit("update",this))}onError(e){this.emit("error",this,e)}destroy(){this.resource&&(this.resource.unbind(this),this.resource.internal&&this.resource.destroy(),this.resource=null),this.cacheId&&(delete ii[this.cacheId],delete ri[this.cacheId],this.cacheId=null),this.valid=!1,this.dispose(),e.removeFromCache(this),this.textureCacheIds=null,this.destroyed=!0,this.emit("destroyed",this),this.removeAllListeners()}dispose(){this.emit("dispose",this)}castToBaseTexture(){return this}static from(t,n){let r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:Bn.STRICT_TEXTURE_CACHE;const i="string"==typeof t;let s=null;if(i)s=t;else{if(!t._pixiId){const e=(null===n||void 0===n?void 0:n.pixiIdPrefix)||"pixiid";t._pixiId="".concat(e,"_").concat($r())}s=t._pixiId}let o=ii[s];if(i&&r&&!o)throw new Error('The cacheId "'.concat(s,'" does not exist in BaseTextureCache.'));return o||(o=new e(t,n),o.cacheId=s,e.addToCache(o,s)),o}static fromBuffer(t,n,r,i){t=t||new Float32Array(n*r*4);const s=new wi(t,u({width:n,height:r},null===i||void 0===i?void 0:i.resourceOptions));let o,a;return t instanceof Float32Array?(o=An.RGBA,a=Sn.FLOAT):t instanceof Int32Array?(o=An.RGBA_INTEGER,a=Sn.INT):t instanceof Uint32Array?(o=An.RGBA_INTEGER,a=Sn.UNSIGNED_INT):t instanceof Int16Array?(o=An.RGBA_INTEGER,a=Sn.SHORT):t instanceof Uint16Array?(o=An.RGBA_INTEGER,a=Sn.UNSIGNED_SHORT):t instanceof Int8Array?(o=An.RGBA,a=Sn.BYTE):(o=An.RGBA,a=Sn.UNSIGNED_BYTE),s.internal=!0,new e(s,Object.assign({},Ai,{type:a,format:o},i))}static addToCache(e,t){t&&(e.textureCacheIds.includes(t)||e.textureCacheIds.push(t),ii[t]&&ii[t]!==e&&console.warn("BaseTexture added to the cache with an id [".concat(t,"] that already had an entry")),ii[t]=e)}static removeFromCache(e){if("string"==typeof e){const t=ii[e];if(t){const n=t.textureCacheIds.indexOf(e);return n>-1&&t.textureCacheIds.splice(n,1),delete ii[e],t}}else if(null!==e&&void 0!==e&&e.textureCacheIds){for(let t=0;t<e.textureCacheIds.length;++t)delete ii[e.textureCacheIds[t]];return e.textureCacheIds.length=0,e}return null}};Ei.defaultOptions={mipmap:Rn.POW2,anisotropicLevel:0,scaleMode:Cn.LINEAR,wrapMode:kn.CLAMP,alphaMode:Pn.UNPACK,target:En.TEXTURE_2D,format:An.RGBA,type:Sn.UNSIGNED_BYTE},Ei._globalBatch=0;let Si=Ei;class Ti{constructor(){this.texArray=null,this.blend=0,this.type=wn.TRIANGLES,this.start=0,this.size=0,this.data=null}}let Ci=0;class ki{constructor(e){let t=!(arguments.length>1&&void 0!==arguments[1])||arguments[1],n=arguments.length>2&&void 0!==arguments[2]&&arguments[2];this.data=e||new Float32Array(1),this._glBuffers={},this._updateID=0,this.index=n,this.static=t,this.id=Ci++,this.disposeRunner=new _i("disposeBuffer")}update(e){e instanceof Array&&(e=new Float32Array(e)),this.data=e||this.data,this._updateID++}dispose(){this.disposeRunner.emit(this,!1)}destroy(){this.dispose(),this.data=null}set index(e){this.type=e?Nn.ELEMENT_ARRAY_BUFFER:Nn.ARRAY_BUFFER}get index(){return this.type===Nn.ELEMENT_ARRAY_BUFFER}static from(e){return e instanceof Array&&(e=new Float32Array(e)),new ki(e)}}class Ri{constructor(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,n=arguments.length>2&&void 0!==arguments[2]&&arguments[2],r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:Sn.FLOAT,i=arguments.length>4?arguments[4]:void 0,s=arguments.length>5?arguments[5]:void 0,o=arguments.length>6?arguments[6]:void 0,a=arguments.length>7&&void 0!==arguments[7]?arguments[7]:1;this.buffer=e,this.size=t,this.normalized=n,this.type=r,this.stride=i,this.start=s,this.instance=o,this.divisor=a}destroy(){this.buffer=null}static from(e,t,n,r,i){return new Ri(e,t,n,r,i)}}const Pi={Float32Array:Float32Array,Uint32Array:Uint32Array,Int32Array:Int32Array,Uint8Array:Uint8Array};const Ii={5126:4,5123:2,5121:1};let Mi=0;const Di={Float32Array:Float32Array,Uint32Array:Uint32Array,Int32Array:Int32Array,Uint8Array:Uint8Array,Uint16Array:Uint16Array};class Oi{constructor(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};this.buffers=e,this.indexBuffer=null,this.attributes=t,this.glVertexArrayObjects={},this.id=Mi++,this.instanced=!1,this.instanceCount=1,this.disposeRunner=new _i("disposeGeometry"),this.refCount=0}addAttribute(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0,r=arguments.length>3&&void 0!==arguments[3]&&arguments[3],i=arguments.length>4?arguments[4]:void 0,s=arguments.length>5?arguments[5]:void 0,o=arguments.length>6?arguments[6]:void 0,a=arguments.length>7&&void 0!==arguments[7]&&arguments[7];if(!t)throw new Error("You must pass a buffer when creating an attribute");t instanceof ki||(t instanceof Array&&(t=new Float32Array(t)),t=new ki(t));const l=e.split("|");if(l.length>1){for(let e=0;e<l.length;e++)this.addAttribute(l[e],t,n,r,i);return this}let u=this.buffers.indexOf(t);return-1===u&&(this.buffers.push(t),u=this.buffers.length-1),this.attributes[e]=new Ri(u,n,r,i,s,o,a),this.instanced=this.instanced||a,this}getAttribute(e){return this.attributes[e]}getBuffer(e){return this.buffers[this.getAttribute(e).buffer]}addIndex(e){return e instanceof ki||(e instanceof Array&&(e=new Uint16Array(e)),e=new ki(e)),e.type=Nn.ELEMENT_ARRAY_BUFFER,this.indexBuffer=e,this.buffers.includes(e)||this.buffers.push(e),this}getIndex(){return this.indexBuffer}interleave(){if(1===this.buffers.length||2===this.buffers.length&&this.indexBuffer)return this;const e=[],t=[],n=new ki;let r;for(r in this.attributes){const n=this.attributes[r],i=this.buffers[n.buffer];e.push(i.data),t.push(n.size*Ii[n.type]/4),n.buffer=0}for(n.data=function(e,t){let n=0,r=0;const i={};for(let l=0;l<e.length;l++)r+=t[l],n+=e[l].length;const s=new ArrayBuffer(4*n);let o=null,a=0;for(let l=0;l<e.length;l++){const n=t[l],u=e[l],c=Xr(u);i[c]||(i[c]=new Pi[c](s)),o=i[c];for(let e=0;e<u.length;e++)o[(e/n|0)*r+a+e%n]=u[e];a+=n}return new Float32Array(s)}(e,t),r=0;r<this.buffers.length;r++)this.buffers[r]!==this.indexBuffer&&this.buffers[r].destroy();return this.buffers=[n],this.indexBuffer&&this.buffers.push(this.indexBuffer),this}getSize(){for(const e in this.attributes){const t=this.attributes[e];return this.buffers[t.buffer].data.length/(t.stride/4||t.size)}return 0}dispose(){this.disposeRunner.emit(this,!1)}destroy(){this.dispose(),this.buffers=null,this.indexBuffer=null,this.attributes=null}clone(){const e=new Oi;for(let t=0;t<this.buffers.length;t++)e.buffers[t]=new ki(this.buffers[t].data.slice(0));for(const t in this.attributes){const n=this.attributes[t];e.attributes[t]=new Ri(n.buffer,n.size,n.normalized,n.type,n.stride,n.start,n.instance)}return this.indexBuffer&&(e.indexBuffer=e.buffers[this.buffers.indexOf(this.indexBuffer)],e.indexBuffer.type=Nn.ELEMENT_ARRAY_BUFFER),e}static merge(e){const t=new Oi,n=[],r=[],i=[];let s;for(let o=0;o<e.length;o++){s=e[o];for(let e=0;e<s.buffers.length;e++)r[e]=r[e]||0,r[e]+=s.buffers[e].data.length,i[e]=0}for(let o=0;o<s.buffers.length;o++)n[o]=new(Di[Xr(s.buffers[o].data)])(r[o]),t.buffers[o]=new ki(n[o]);for(let o=0;o<e.length;o++){s=e[o];for(let e=0;e<s.buffers.length;e++)n[e].set(s.buffers[e].data,i[e]),i[e]+=s.buffers[e].data.length}if(t.attributes=s.attributes,s.indexBuffer){t.indexBuffer=t.buffers[s.buffers.indexOf(s.indexBuffer)],t.indexBuffer.type=Nn.ELEMENT_ARRAY_BUFFER;let n=0,r=0,i=0,o=0;for(let e=0;e<s.buffers.length;e++)if(s.buffers[e]!==s.indexBuffer){o=e;break}for(const e in s.attributes){const t=s.attributes[e];(0|t.buffer)===o&&(r+=t.size*Ii[t.type]/4)}for(let s=0;s<e.length;s++){const a=e[s].indexBuffer.data;for(let e=0;e<a.length;e++)t.indexBuffer.data[e+i]+=n;n+=e[s].buffers[o].data.length/r,i+=a.length}}return t}}class Li extends Oi{constructor(){let e=arguments.length>0&&void 0!==arguments[0]&&arguments[0];super(),this._buffer=new ki(null,e,!1),this._indexBuffer=new ki(null,e,!0),this.addAttribute("aVertexPosition",this._buffer,2,!1,Sn.FLOAT).addAttribute("aTextureCoord",this._buffer,2,!1,Sn.FLOAT).addAttribute("aColor",this._buffer,4,!0,Sn.UNSIGNED_BYTE).addAttribute("aTextureId",this._buffer,1,!0,Sn.FLOAT).addIndex(this._indexBuffer)}}const Ni=2*Math.PI,Fi=180/Math.PI,Bi=Math.PI/180;var Ui=(e=>(e[e.POLY=0]="POLY",e[e.RECT=1]="RECT",e[e.CIRC=2]="CIRC",e[e.ELIP=3]="ELIP",e[e.RREC=4]="RREC",e))(Ui||{});class Gi{constructor(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;this.x=0,this.y=0,this.x=e,this.y=t}clone(){return new Gi(this.x,this.y)}copyFrom(e){return this.set(e.x,e.y),this}copyTo(e){return e.set(this.x,this.y),e}equals(e){return e.x===this.x&&e.y===this.y}set(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:e;return this.x=e,this.y=t,this}}Gi.prototype.toString=function(){return"[@pixi/math:Point x=".concat(this.x," y=").concat(this.y,"]")};const zi=[new Gi,new Gi,new Gi,new Gi];class Hi{constructor(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0,r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:0;this.x=Number(e),this.y=Number(t),this.width=Number(n),this.height=Number(r),this.type=Ui.RECT}get left(){return this.x}get right(){return this.x+this.width}get top(){return this.y}get bottom(){return this.y+this.height}static get EMPTY(){return new Hi(0,0,0,0)}clone(){return new Hi(this.x,this.y,this.width,this.height)}copyFrom(e){return this.x=e.x,this.y=e.y,this.width=e.width,this.height=e.height,this}copyTo(e){return e.x=this.x,e.y=this.y,e.width=this.width,e.height=this.height,e}contains(e,t){return!(this.width<=0||this.height<=0)&&(e>=this.x&&e<this.x+this.width&&t>=this.y&&t<this.y+this.height)}intersects(e,t){if(!t){const t=this.x<e.x?e.x:this.x;if((this.right>e.right?e.right:this.right)<=t)return!1;const n=this.y<e.y?e.y:this.y;return(this.bottom>e.bottom?e.bottom:this.bottom)>n}const n=this.left,r=this.right,i=this.top,s=this.bottom;if(r<=n||s<=i)return!1;const o=zi[0].set(e.left,e.top),a=zi[1].set(e.left,e.bottom),l=zi[2].set(e.right,e.top),u=zi[3].set(e.right,e.bottom);if(l.x<=o.x||a.y<=o.y)return!1;const c=Math.sign(t.a*t.d-t.b*t.c);if(0===c||(t.apply(o,o),t.apply(a,a),t.apply(l,l),t.apply(u,u),Math.max(o.x,a.x,l.x,u.x)<=n||Math.min(o.x,a.x,l.x,u.x)>=r||Math.max(o.y,a.y,l.y,u.y)<=i||Math.min(o.y,a.y,l.y,u.y)>=s))return!1;const h=c*(a.y-o.y),d=c*(o.x-a.x),f=h*n+d*i,p=h*r+d*i,m=h*n+d*s,g=h*r+d*s;if(Math.max(f,p,m,g)<=h*o.x+d*o.y||Math.min(f,p,m,g)>=h*u.x+d*u.y)return!1;const y=c*(o.y-l.y),v=c*(l.x-o.x),b=y*n+v*i,_=y*r+v*i,x=y*n+v*s,w=y*r+v*s;return!(Math.max(b,_,x,w)<=y*o.x+v*o.y||Math.min(b,_,x,w)>=y*u.x+v*u.y)}pad(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:e;return this.x-=e,this.y-=t,this.width+=2*e,this.height+=2*t,this}fit(e){const t=Math.max(this.x,e.x),n=Math.min(this.x+this.width,e.x+e.width),r=Math.max(this.y,e.y),i=Math.min(this.y+this.height,e.y+e.height);return this.x=t,this.width=Math.max(n-t,0),this.y=r,this.height=Math.max(i-r,0),this}ceil(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:1,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:.001;const n=Math.ceil((this.x+this.width-t)*e)/e,r=Math.ceil((this.y+this.height-t)*e)/e;return this.x=Math.floor((this.x+t)*e)/e,this.y=Math.floor((this.y+t)*e)/e,this.width=n-this.x,this.height=r-this.y,this}enlarge(e){const t=Math.min(this.x,e.x),n=Math.max(this.x+this.width,e.x+e.width),r=Math.min(this.y,e.y),i=Math.max(this.y+this.height,e.y+e.height);return this.x=t,this.width=n-t,this.y=r,this.height=i-r,this}}Hi.prototype.toString=function(){return"[@pixi/math:Rectangle x=".concat(this.x," y=").concat(this.y," width=").concat(this.width," height=").concat(this.height,"]")};class ji{constructor(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0;this.x=e,this.y=t,this.radius=n,this.type=Ui.CIRC}clone(){return new ji(this.x,this.y,this.radius)}contains(e,t){if(this.radius<=0)return!1;const n=this.radius*this.radius;let r=this.x-e,i=this.y-t;return r*=r,i*=i,r+i<=n}getBounds(){return new Hi(this.x-this.radius,this.y-this.radius,2*this.radius,2*this.radius)}}ji.prototype.toString=function(){return"[@pixi/math:Circle x=".concat(this.x," y=").concat(this.y," radius=").concat(this.radius,"]")};class Wi{constructor(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0,r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:0;this.x=e,this.y=t,this.width=n,this.height=r,this.type=Ui.ELIP}clone(){return new Wi(this.x,this.y,this.width,this.height)}contains(e,t){if(this.width<=0||this.height<=0)return!1;let n=(e-this.x)/this.width,r=(t-this.y)/this.height;return n*=n,r*=r,n+r<=1}getBounds(){return new Hi(this.x-this.width,this.y-this.height,this.width,this.height)}}Wi.prototype.toString=function(){return"[@pixi/math:Ellipse x=".concat(this.x," y=").concat(this.y," width=").concat(this.width," height=").concat(this.height,"]")};class Vi{constructor(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];let r=Array.isArray(t[0])?t[0]:t;if("number"!=typeof r[0]){const e=[];for(let t=0,n=r.length;t<n;t++)e.push(r[t].x,r[t].y);r=e}this.points=r,this.type=Ui.POLY,this.closeStroke=!0}clone(){const e=this.points.slice(),t=new Vi(e);return t.closeStroke=this.closeStroke,t}contains(e,t){let n=!1;const r=this.points.length/2;for(let i=0,s=r-1;i<r;s=i++){const r=this.points[2*i],o=this.points[2*i+1],a=this.points[2*s],l=this.points[2*s+1];o>t!=l>t&&e<(t-o)/(l-o)*(a-r)+r&&(n=!n)}return n}}Vi.prototype.toString=function(){return"[@pixi/math:PolygoncloseStroke=".concat(this.closeStroke,"points=").concat(this.points.reduce((e,t)=>"".concat(e,", ").concat(t),""),"]")};class Xi{constructor(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0,r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:0,i=arguments.length>4&&void 0!==arguments[4]?arguments[4]:20;this.x=e,this.y=t,this.width=n,this.height=r,this.radius=i,this.type=Ui.RREC}clone(){return new Xi(this.x,this.y,this.width,this.height,this.radius)}contains(e,t){if(this.width<=0||this.height<=0)return!1;if(e>=this.x&&e<=this.x+this.width&&t>=this.y&&t<=this.y+this.height){const n=Math.max(0,Math.min(this.radius,Math.min(this.width,this.height)/2));if(t>=this.y+n&&t<=this.y+this.height-n||e>=this.x+n&&e<=this.x+this.width-n)return!0;let r=e-(this.x+n),i=t-(this.y+n);const s=n*n;if(r*r+i*i<=s||(r=e-(this.x+this.width-n),r*r+i*i<=s)||(i=t-(this.y+this.height-n),r*r+i*i<=s)||(r=e-(this.x+n),r*r+i*i<=s))return!0}return!1}}Xi.prototype.toString=function(){return"[@pixi/math:RoundedRectangle x=".concat(this.x," y=").concat(this.y,"width=").concat(this.width," height=").concat(this.height," radius=").concat(this.radius,"]")};class Yi{constructor(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:1,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0,r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:1,i=arguments.length>4&&void 0!==arguments[4]?arguments[4]:0,s=arguments.length>5&&void 0!==arguments[5]?arguments[5]:0;this.array=null,this.a=e,this.b=t,this.c=n,this.d=r,this.tx=i,this.ty=s}fromArray(e){this.a=e[0],this.b=e[1],this.c=e[3],this.d=e[4],this.tx=e[2],this.ty=e[5]}set(e,t,n,r,i,s){return this.a=e,this.b=t,this.c=n,this.d=r,this.tx=i,this.ty=s,this}toArray(e,t){this.array||(this.array=new Float32Array(9));const n=t||this.array;return e?(n[0]=this.a,n[1]=this.b,n[2]=0,n[3]=this.c,n[4]=this.d,n[5]=0,n[6]=this.tx,n[7]=this.ty,n[8]=1):(n[0]=this.a,n[1]=this.c,n[2]=this.tx,n[3]=this.b,n[4]=this.d,n[5]=this.ty,n[6]=0,n[7]=0,n[8]=1),n}apply(e,t){t=t||new Gi;const n=e.x,r=e.y;return t.x=this.a*n+this.c*r+this.tx,t.y=this.b*n+this.d*r+this.ty,t}applyInverse(e,t){t=t||new Gi;const n=1/(this.a*this.d+this.c*-this.b),r=e.x,i=e.y;return t.x=this.d*n*r+-this.c*n*i+(this.ty*this.c-this.tx*this.d)*n,t.y=this.a*n*i+-this.b*n*r+(-this.ty*this.a+this.tx*this.b)*n,t}translate(e,t){return this.tx+=e,this.ty+=t,this}scale(e,t){return this.a*=e,this.d*=t,this.c*=e,this.b*=t,this.tx*=e,this.ty*=t,this}rotate(e){const t=Math.cos(e),n=Math.sin(e),r=this.a,i=this.c,s=this.tx;return this.a=r*t-this.b*n,this.b=r*n+this.b*t,this.c=i*t-this.d*n,this.d=i*n+this.d*t,this.tx=s*t-this.ty*n,this.ty=s*n+this.ty*t,this}append(e){const t=this.a,n=this.b,r=this.c,i=this.d;return this.a=e.a*t+e.b*r,this.b=e.a*n+e.b*i,this.c=e.c*t+e.d*r,this.d=e.c*n+e.d*i,this.tx=e.tx*t+e.ty*r+this.tx,this.ty=e.tx*n+e.ty*i+this.ty,this}setTransform(e,t,n,r,i,s,o,a,l){return this.a=Math.cos(o+l)*i,this.b=Math.sin(o+l)*i,this.c=-Math.sin(o-a)*s,this.d=Math.cos(o-a)*s,this.tx=e-(n*this.a+r*this.c),this.ty=t-(n*this.b+r*this.d),this}prepend(e){const t=this.tx;if(1!==e.a||0!==e.b||0!==e.c||1!==e.d){const t=this.a,n=this.c;this.a=t*e.a+this.b*e.c,this.b=t*e.b+this.b*e.d,this.c=n*e.a+this.d*e.c,this.d=n*e.b+this.d*e.d}return this.tx=t*e.a+this.ty*e.c+e.tx,this.ty=t*e.b+this.ty*e.d+e.ty,this}decompose(e){const t=this.a,n=this.b,r=this.c,i=this.d,s=e.pivot,o=-Math.atan2(-r,i),a=Math.atan2(n,t),l=Math.abs(o+a);return l<1e-5||Math.abs(Ni-l)<1e-5?(e.rotation=a,e.skew.x=e.skew.y=0):(e.rotation=0,e.skew.x=o,e.skew.y=a),e.scale.x=Math.sqrt(t*t+n*n),e.scale.y=Math.sqrt(r*r+i*i),e.position.x=this.tx+(s.x*t+s.y*r),e.position.y=this.ty+(s.x*n+s.y*i),e}invert(){const e=this.a,t=this.b,n=this.c,r=this.d,i=this.tx,s=e*r-t*n;return this.a=r/s,this.b=-t/s,this.c=-n/s,this.d=e/s,this.tx=(n*this.ty-r*i)/s,this.ty=-(e*this.ty-t*i)/s,this}identity(){return this.a=1,this.b=0,this.c=0,this.d=1,this.tx=0,this.ty=0,this}clone(){const e=new Yi;return e.a=this.a,e.b=this.b,e.c=this.c,e.d=this.d,e.tx=this.tx,e.ty=this.ty,e}copyTo(e){return e.a=this.a,e.b=this.b,e.c=this.c,e.d=this.d,e.tx=this.tx,e.ty=this.ty,e}copyFrom(e){return this.a=e.a,this.b=e.b,this.c=e.c,this.d=e.d,this.tx=e.tx,this.ty=e.ty,this}static get IDENTITY(){return new Yi}static get TEMP_MATRIX(){return new Yi}}Yi.prototype.toString=function(){return"[@pixi/math:Matrix a=".concat(this.a," b=").concat(this.b," c=").concat(this.c," d=").concat(this.d," tx=").concat(this.tx," ty=").concat(this.ty,"]")};const qi=[1,1,0,-1,-1,-1,0,1,1,1,0,-1,-1,-1,0,1],Ki=[0,1,1,1,0,-1,-1,-1,0,1,1,1,0,-1,-1,-1],Qi=[0,-1,-1,-1,0,1,1,1,0,1,1,1,0,-1,-1,-1],Zi=[1,1,0,-1,-1,-1,0,1,-1,-1,0,1,1,1,0,-1],Ji=[],$i=[],es=Math.sign;!function(){for(let e=0;e<16;e++){const t=[];Ji.push(t);for(let n=0;n<16;n++){const r=es(qi[e]*qi[n]+Qi[e]*Ki[n]),i=es(Ki[e]*qi[n]+Zi[e]*Ki[n]),s=es(qi[e]*Qi[n]+Qi[e]*Zi[n]),o=es(Ki[e]*Qi[n]+Zi[e]*Zi[n]);for(let e=0;e<16;e++)if(qi[e]===r&&Ki[e]===i&&Qi[e]===s&&Zi[e]===o){t.push(e);break}}}for(let e=0;e<16;e++){const t=new Yi;t.set(qi[e],Ki[e],Qi[e],Zi[e],0,0),$i.push(t)}}();const ts={E:0,SE:1,S:2,SW:3,W:4,NW:5,N:6,NE:7,MIRROR_VERTICAL:8,MAIN_DIAGONAL:10,MIRROR_HORIZONTAL:12,REVERSE_DIAGONAL:14,uX:e=>qi[e],uY:e=>Ki[e],vX:e=>Qi[e],vY:e=>Zi[e],inv:e=>8&e?15&e:7&-e,add:(e,t)=>Ji[e][t],sub:(e,t)=>Ji[e][ts.inv(t)],rotate180:e=>4^e,isVertical:e=>2===(3&e),byDirection:(e,t)=>2*Math.abs(e)<=Math.abs(t)?t>=0?ts.S:ts.N:2*Math.abs(t)<=Math.abs(e)?e>0?ts.E:ts.W:t>0?e>0?ts.SE:ts.SW:e>0?ts.NE:ts.NW,matrixAppendRotationInv:function(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0,r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:0;const i=$i[ts.inv(t)];i.tx=n,i.ty=r,e.append(i)}};class ns{constructor(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0,r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:0;this._x=n,this._y=r,this.cb=e,this.scope=t}clone(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:this.cb,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:this.scope;return new ns(e,t,this._x,this._y)}set(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:e;return(this._x!==e||this._y!==t)&&(this._x=e,this._y=t,this.cb.call(this.scope)),this}copyFrom(e){return(this._x!==e.x||this._y!==e.y)&&(this._x=e.x,this._y=e.y,this.cb.call(this.scope)),this}copyTo(e){return e.set(this._x,this._y),e}equals(e){return e.x===this._x&&e.y===this._y}get x(){return this._x}set x(e){this._x!==e&&(this._x=e,this.cb.call(this.scope))}get y(){return this._y}set y(e){this._y!==e&&(this._y=e,this.cb.call(this.scope))}}ns.prototype.toString=function(){return"[@pixi/math:ObservablePoint x=".concat(this.x," y=").concat(this.y," scope=").concat(this.scope,"]")};const rs=class{constructor(){this.worldTransform=new Yi,this.localTransform=new Yi,this.position=new ns(this.onChange,this,0,0),this.scale=new ns(this.onChange,this,1,1),this.pivot=new ns(this.onChange,this,0,0),this.skew=new ns(this.updateSkew,this,0,0),this._rotation=0,this._cx=1,this._sx=0,this._cy=0,this._sy=1,this._localID=0,this._currentLocalID=0,this._worldID=0,this._parentID=0}onChange(){this._localID++}updateSkew(){this._cx=Math.cos(this._rotation+this.skew.y),this._sx=Math.sin(this._rotation+this.skew.y),this._cy=-Math.sin(this._rotation-this.skew.x),this._sy=Math.cos(this._rotation-this.skew.x),this._localID++}updateLocalTransform(){const e=this.localTransform;this._localID!==this._currentLocalID&&(e.a=this._cx*this.scale.x,e.b=this._sx*this.scale.x,e.c=this._cy*this.scale.y,e.d=this._sy*this.scale.y,e.tx=this.position.x-(this.pivot.x*e.a+this.pivot.y*e.c),e.ty=this.position.y-(this.pivot.x*e.b+this.pivot.y*e.d),this._currentLocalID=this._localID,this._parentID=-1)}updateTransform(e){const t=this.localTransform;if(this._localID!==this._currentLocalID&&(t.a=this._cx*this.scale.x,t.b=this._sx*this.scale.x,t.c=this._cy*this.scale.y,t.d=this._sy*this.scale.y,t.tx=this.position.x-(this.pivot.x*t.a+this.pivot.y*t.c),t.ty=this.position.y-(this.pivot.x*t.b+this.pivot.y*t.d),this._currentLocalID=this._localID,this._parentID=-1),this._parentID!==e._worldID){const n=e.worldTransform,r=this.worldTransform;r.a=t.a*n.a+t.b*n.c,r.b=t.a*n.b+t.b*n.d,r.c=t.c*n.a+t.d*n.c,r.d=t.c*n.b+t.d*n.d,r.tx=t.tx*n.a+t.ty*n.c+n.tx,r.ty=t.tx*n.b+t.ty*n.d+n.ty,this._parentID=e._worldID,this._worldID++}}setFromMatrix(e){e.decompose(this),this._localID++}get rotation(){return this._rotation}set rotation(e){this._rotation!==e&&(this._rotation=e,this.updateSkew())}};rs.IDENTITY=new rs;let is=rs;is.prototype.toString=function(){return"[@pixi/math:Transform position=(".concat(this.position.x,", ").concat(this.position.y,") rotation=").concat(this.rotation," scale=(").concat(this.scale.x,", ").concat(this.scale.y,") skew=(").concat(this.skew.x,", ").concat(this.skew.y,") ]")};const ss=[{test:e=>"float"===e.type&&1===e.size&&!e.isArray,code:e=>'\n            if(uv["'.concat(e,'"] !== ud["').concat(e,'"].value)\n            {\n                ud["').concat(e,'"].value = uv["').concat(e,'"]\n                gl.uniform1f(ud["').concat(e,'"].location, uv["').concat(e,'"])\n            }\n            ')},{test:(e,t)=>("sampler2D"===e.type||"samplerCube"===e.type||"sampler2DArray"===e.type)&&1===e.size&&!e.isArray&&(null==t||void 0!==t.castToBaseTexture),code:e=>'t = syncData.textureCount++;\n\n            renderer.texture.bind(uv["'.concat(e,'"], t);\n\n            if(ud["').concat(e,'"].value !== t)\n            {\n                ud["').concat(e,'"].value = t;\n                gl.uniform1i(ud["').concat(e,'"].location, t);\n; // eslint-disable-line max-len\n            }')},{test:(e,t)=>"mat3"===e.type&&1===e.size&&!e.isArray&&void 0!==t.a,code:e=>'\n            gl.uniformMatrix3fv(ud["'.concat(e,'"].location, false, uv["').concat(e,'"].toArray(true));\n            '),codeUbo:e=>"\n                var ".concat(e,"_matrix = uv.").concat(e,".toArray(true);\n\n                data[offset] = ").concat(e,"_matrix[0];\n                data[offset+1] = ").concat(e,"_matrix[1];\n                data[offset+2] = ").concat(e,"_matrix[2];\n        \n                data[offset + 4] = ").concat(e,"_matrix[3];\n                data[offset + 5] = ").concat(e,"_matrix[4];\n                data[offset + 6] = ").concat(e,"_matrix[5];\n        \n                data[offset + 8] = ").concat(e,"_matrix[6];\n                data[offset + 9] = ").concat(e,"_matrix[7];\n                data[offset + 10] = ").concat(e,"_matrix[8];\n            ")},{test:(e,t)=>"vec2"===e.type&&1===e.size&&!e.isArray&&void 0!==t.x,code:e=>'\n                cv = ud["'.concat(e,'"].value;\n                v = uv["').concat(e,'"];\n\n                if(cv[0] !== v.x || cv[1] !== v.y)\n                {\n                    cv[0] = v.x;\n                    cv[1] = v.y;\n                    gl.uniform2f(ud["').concat(e,'"].location, v.x, v.y);\n                }'),codeUbo:e=>"\n                v = uv.".concat(e,";\n\n                data[offset] = v.x;\n                data[offset+1] = v.y;\n            ")},{test:e=>"vec2"===e.type&&1===e.size&&!e.isArray,code:e=>'\n                cv = ud["'.concat(e,'"].value;\n                v = uv["').concat(e,'"];\n\n                if(cv[0] !== v[0] || cv[1] !== v[1])\n                {\n                    cv[0] = v[0];\n                    cv[1] = v[1];\n                    gl.uniform2f(ud["').concat(e,'"].location, v[0], v[1]);\n                }\n            ')},{test:(e,t)=>"vec4"===e.type&&1===e.size&&!e.isArray&&void 0!==t.width,code:e=>'\n                cv = ud["'.concat(e,'"].value;\n                v = uv["').concat(e,'"];\n\n                if(cv[0] !== v.x || cv[1] !== v.y || cv[2] !== v.width || cv[3] !== v.height)\n                {\n                    cv[0] = v.x;\n                    cv[1] = v.y;\n                    cv[2] = v.width;\n                    cv[3] = v.height;\n                    gl.uniform4f(ud["').concat(e,'"].location, v.x, v.y, v.width, v.height)\n                }'),codeUbo:e=>"\n                    v = uv.".concat(e,";\n\n                    data[offset] = v.x;\n                    data[offset+1] = v.y;\n                    data[offset+2] = v.width;\n                    data[offset+3] = v.height;\n                ")},{test:(e,t)=>"vec4"===e.type&&1===e.size&&!e.isArray&&void 0!==t.red,code:e=>'\n                cv = ud["'.concat(e,'"].value;\n                v = uv["').concat(e,'"];\n\n                if(cv[0] !== v.red || cv[1] !== v.green || cv[2] !== v.blue || cv[3] !== v.alpha)\n                {\n                    cv[0] = v.red;\n                    cv[1] = v.green;\n                    cv[2] = v.blue;\n                    cv[3] = v.alpha;\n                    gl.uniform4f(ud["').concat(e,'"].location, v.red, v.green, v.blue, v.alpha)\n                }'),codeUbo:e=>"\n                    v = uv.".concat(e,";\n\n                    data[offset] = v.red;\n                    data[offset+1] = v.green;\n                    data[offset+2] = v.blue;\n                    data[offset+3] = v.alpha;\n                ")},{test:(e,t)=>"vec3"===e.type&&1===e.size&&!e.isArray&&void 0!==t.red,code:e=>'\n                cv = ud["'.concat(e,'"].value;\n                v = uv["').concat(e,'"];\n\n                if(cv[0] !== v.red || cv[1] !== v.green || cv[2] !== v.blue || cv[3] !== v.a)\n                {\n                    cv[0] = v.red;\n                    cv[1] = v.green;\n                    cv[2] = v.blue;\n    \n                    gl.uniform3f(ud["').concat(e,'"].location, v.red, v.green, v.blue)\n                }'),codeUbo:e=>"\n                    v = uv.".concat(e,";\n\n                    data[offset] = v.red;\n                    data[offset+1] = v.green;\n                    data[offset+2] = v.blue;\n                ")},{test:e=>"vec4"===e.type&&1===e.size&&!e.isArray,code:e=>'\n                cv = ud["'.concat(e,'"].value;\n                v = uv["').concat(e,'"];\n\n                if(cv[0] !== v[0] || cv[1] !== v[1] || cv[2] !== v[2] || cv[3] !== v[3])\n                {\n                    cv[0] = v[0];\n                    cv[1] = v[1];\n                    cv[2] = v[2];\n                    cv[3] = v[3];\n\n                    gl.uniform4f(ud["').concat(e,'"].location, v[0], v[1], v[2], v[3])\n                }')}],os={float:"\n    if (cv !== v)\n    {\n        cu.value = v;\n        gl.uniform1f(location, v);\n    }",vec2:"\n    if (cv[0] !== v[0] || cv[1] !== v[1])\n    {\n        cv[0] = v[0];\n        cv[1] = v[1];\n\n        gl.uniform2f(location, v[0], v[1])\n    }",vec3:"\n    if (cv[0] !== v[0] || cv[1] !== v[1] || cv[2] !== v[2])\n    {\n        cv[0] = v[0];\n        cv[1] = v[1];\n        cv[2] = v[2];\n\n        gl.uniform3f(location, v[0], v[1], v[2])\n    }",vec4:"\n    if (cv[0] !== v[0] || cv[1] !== v[1] || cv[2] !== v[2] || cv[3] !== v[3])\n    {\n        cv[0] = v[0];\n        cv[1] = v[1];\n        cv[2] = v[2];\n        cv[3] = v[3];\n\n        gl.uniform4f(location, v[0], v[1], v[2], v[3]);\n    }",int:"\n    if (cv !== v)\n    {\n        cu.value = v;\n\n        gl.uniform1i(location, v);\n    }",ivec2:"\n    if (cv[0] !== v[0] || cv[1] !== v[1])\n    {\n        cv[0] = v[0];\n        cv[1] = v[1];\n\n        gl.uniform2i(location, v[0], v[1]);\n    }",ivec3:"\n    if (cv[0] !== v[0] || cv[1] !== v[1] || cv[2] !== v[2])\n    {\n        cv[0] = v[0];\n        cv[1] = v[1];\n        cv[2] = v[2];\n\n        gl.uniform3i(location, v[0], v[1], v[2]);\n    }",ivec4:"\n    if (cv[0] !== v[0] || cv[1] !== v[1] || cv[2] !== v[2] || cv[3] !== v[3])\n    {\n        cv[0] = v[0];\n        cv[1] = v[1];\n        cv[2] = v[2];\n        cv[3] = v[3];\n\n        gl.uniform4i(location, v[0], v[1], v[2], v[3]);\n    }",uint:"\n    if (cv !== v)\n    {\n        cu.value = v;\n\n        gl.uniform1ui(location, v);\n    }",uvec2:"\n    if (cv[0] !== v[0] || cv[1] !== v[1])\n    {\n        cv[0] = v[0];\n        cv[1] = v[1];\n\n        gl.uniform2ui(location, v[0], v[1]);\n    }",uvec3:"\n    if (cv[0] !== v[0] || cv[1] !== v[1] || cv[2] !== v[2])\n    {\n        cv[0] = v[0];\n        cv[1] = v[1];\n        cv[2] = v[2];\n\n        gl.uniform3ui(location, v[0], v[1], v[2]);\n    }",uvec4:"\n    if (cv[0] !== v[0] || cv[1] !== v[1] || cv[2] !== v[2] || cv[3] !== v[3])\n    {\n        cv[0] = v[0];\n        cv[1] = v[1];\n        cv[2] = v[2];\n        cv[3] = v[3];\n\n        gl.uniform4ui(location, v[0], v[1], v[2], v[3]);\n    }",bool:"\n    if (cv !== v)\n    {\n        cu.value = v;\n        gl.uniform1i(location, v);\n    }",bvec2:"\n    if (cv[0] != v[0] || cv[1] != v[1])\n    {\n        cv[0] = v[0];\n        cv[1] = v[1];\n\n        gl.uniform2i(location, v[0], v[1]);\n    }",bvec3:"\n    if (cv[0] !== v[0] || cv[1] !== v[1] || cv[2] !== v[2])\n    {\n        cv[0] = v[0];\n        cv[1] = v[1];\n        cv[2] = v[2];\n\n        gl.uniform3i(location, v[0], v[1], v[2]);\n    }",bvec4:"\n    if (cv[0] !== v[0] || cv[1] !== v[1] || cv[2] !== v[2] || cv[3] !== v[3])\n    {\n        cv[0] = v[0];\n        cv[1] = v[1];\n        cv[2] = v[2];\n        cv[3] = v[3];\n\n        gl.uniform4i(location, v[0], v[1], v[2], v[3]);\n    }",mat2:"gl.uniformMatrix2fv(location, false, v)",mat3:"gl.uniformMatrix3fv(location, false, v)",mat4:"gl.uniformMatrix4fv(location, false, v)",sampler2D:"\n    if (cv !== v)\n    {\n        cu.value = v;\n\n        gl.uniform1i(location, v);\n    }",samplerCube:"\n    if (cv !== v)\n    {\n        cu.value = v;\n\n        gl.uniform1i(location, v);\n    }",sampler2DArray:"\n    if (cv !== v)\n    {\n        cu.value = v;\n\n        gl.uniform1i(location, v);\n    }"},as={float:"gl.uniform1fv(location, v)",vec2:"gl.uniform2fv(location, v)",vec3:"gl.uniform3fv(location, v)",vec4:"gl.uniform4fv(location, v)",mat4:"gl.uniformMatrix4fv(location, false, v)",mat3:"gl.uniformMatrix3fv(location, false, v)",mat2:"gl.uniformMatrix2fv(location, false, v)",int:"gl.uniform1iv(location, v)",ivec2:"gl.uniform2iv(location, v)",ivec3:"gl.uniform3iv(location, v)",ivec4:"gl.uniform4iv(location, v)",uint:"gl.uniform1uiv(location, v)",uvec2:"gl.uniform2uiv(location, v)",uvec3:"gl.uniform3uiv(location, v)",uvec4:"gl.uniform4uiv(location, v)",bool:"gl.uniform1iv(location, v)",bvec2:"gl.uniform2iv(location, v)",bvec3:"gl.uniform3iv(location, v)",bvec4:"gl.uniform4iv(location, v)",sampler2D:"gl.uniform1iv(location, v)",samplerCube:"gl.uniform1iv(location, v)",sampler2DArray:"gl.uniform1iv(location, v)"};const ls={};let us,cs=ls;function hs(){if(!us){us=Dn.MEDIUM;const e=function(){var e;if(cs===ls||null!==(e=cs)&&void 0!==e&&e.isContextLost()){const e=Bn.ADAPTER.createCanvas();let t;Bn.PREFER_ENV>=vn.WEBGL2&&(t=e.getContext("webgl2",{})),t||(t=e.getContext("webgl",{})||e.getContext("experimental-webgl",{}),t?t.getExtension("WEBGL_draw_buffers"):t=null),cs=t}return cs}();if(e&&e.getShaderPrecisionFormat){const t=e.getShaderPrecisionFormat(e.FRAGMENT_SHADER,e.HIGH_FLOAT);t&&(us=t.precision?Dn.HIGH:Dn.MEDIUM)}}return us}const ds={float:1,vec2:2,vec3:3,vec4:4,int:1,ivec2:2,ivec3:3,ivec4:4,uint:1,uvec2:2,uvec3:3,uvec4:4,bool:1,bvec2:2,bvec3:3,bvec4:4,mat2:4,mat3:9,mat4:16,sampler2D:1};function fs(e){return ds[e]}let ps=null;const ms={FLOAT:"float",FLOAT_VEC2:"vec2",FLOAT_VEC3:"vec3",FLOAT_VEC4:"vec4",INT:"int",INT_VEC2:"ivec2",INT_VEC3:"ivec3",INT_VEC4:"ivec4",UNSIGNED_INT:"uint",UNSIGNED_INT_VEC2:"uvec2",UNSIGNED_INT_VEC3:"uvec3",UNSIGNED_INT_VEC4:"uvec4",BOOL:"bool",BOOL_VEC2:"bvec2",BOOL_VEC3:"bvec3",BOOL_VEC4:"bvec4",FLOAT_MAT2:"mat2",FLOAT_MAT3:"mat3",FLOAT_MAT4:"mat4",SAMPLER_2D:"sampler2D",INT_SAMPLER_2D:"sampler2D",UNSIGNED_INT_SAMPLER_2D:"sampler2D",SAMPLER_CUBE:"samplerCube",INT_SAMPLER_CUBE:"samplerCube",UNSIGNED_INT_SAMPLER_CUBE:"samplerCube",SAMPLER_2D_ARRAY:"sampler2DArray",INT_SAMPLER_2D_ARRAY:"sampler2DArray",UNSIGNED_INT_SAMPLER_2D_ARRAY:"sampler2DArray"};function gs(e,t){if(!ps){const t=Object.keys(ms);ps={};for(let n=0;n<t.length;++n){const r=t[n];ps[e[r]]=ms[r]}}return ps[t]}function ys(e,t,n){if("precision"!==e.substring(0,9)){let r=t;return t===Dn.HIGH&&n!==Dn.HIGH&&(r=Dn.MEDIUM),"precision ".concat(r," float;\n").concat(e)}return n!==Dn.HIGH&&"precision highp"===e.substring(0,15)?e.replace("precision highp","precision mediump"):e}let vs=0;const bs={},_s=class e{constructor(t,n){let r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"pixi-shader",i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{};this.extra={},this.id=vs++,this.vertexSrc=t||e.defaultVertexSrc,this.fragmentSrc=n||e.defaultFragmentSrc,this.vertexSrc=this.vertexSrc.trim(),this.fragmentSrc=this.fragmentSrc.trim(),this.extra=i,"#version"!==this.vertexSrc.substring(0,8)&&(r=r.replace(/\s+/g,"-"),bs[r]?(bs[r]++,r+="-".concat(bs[r])):bs[r]=1,this.vertexSrc="#define SHADER_NAME ".concat(r,"\n").concat(this.vertexSrc),this.fragmentSrc="#define SHADER_NAME ".concat(r,"\n").concat(this.fragmentSrc),this.vertexSrc=ys(this.vertexSrc,e.defaultVertexPrecision,Dn.HIGH),this.fragmentSrc=ys(this.fragmentSrc,e.defaultFragmentPrecision,hs())),this.glPrograms={},this.syncUniforms=null}static get defaultVertexSrc(){return"attribute vec2 aVertexPosition;\nattribute vec2 aTextureCoord;\n\nuniform mat3 projectionMatrix;\n\nvarying vec2 vTextureCoord;\n\nvoid main(void){\n   gl_Position = vec4((projectionMatrix * vec3(aVertexPosition, 1.0)).xy, 0.0, 1.0);\n   vTextureCoord = aTextureCoord;\n}\n"}static get defaultFragmentSrc(){return"varying vec2 vTextureCoord;\n\nuniform sampler2D uSampler;\n\nvoid main(void){\n   gl_FragColor *= texture2D(uSampler, vTextureCoord);\n}"}static from(t,n,r){const i=t+n;let s=ni[i];return s||(ni[i]=s=new e(t,n,r)),s}};_s.defaultVertexPrecision=Dn.HIGH,_s.defaultFragmentPrecision=rr.apple.device?Dn.HIGH:Dn.MEDIUM;let xs=_s,ws=0;class As{constructor(e,t,n){this.group=!0,this.syncUniforms={},this.dirtyId=0,this.id=ws++,this.static=!!t,this.ubo=!!n,e instanceof ki?(this.buffer=e,this.buffer.type=Nn.UNIFORM_BUFFER,this.autoManage=!1,this.ubo=!0):(this.uniforms=e,this.ubo&&(this.buffer=new ki(new Float32Array(1)),this.buffer.type=Nn.UNIFORM_BUFFER,this.autoManage=!0))}update(){this.dirtyId++,!this.autoManage&&this.buffer&&this.buffer.update()}add(e,t,n){if(this.ubo)throw new Error("[UniformGroup] uniform groups in ubo mode cannot be modified, or have uniform groups nested in them");this.uniforms[e]=new As(t,n)}static from(e,t,n){return new As(e,t,n)}static uboFrom(e,t){return new As(e,null===t||void 0===t||t,!0)}}class Es{constructor(e,t){this.uniformBindCount=0,this.program=e,this.uniformGroup=t?t instanceof As?t:new As(t):new As({}),this.disposeRunner=new _i("disposeShader")}checkUniformExists(e,t){if(t.uniforms[e])return!0;for(const n in t.uniforms){const r=t.uniforms[n];if(!0===r.group&&this.checkUniformExists(e,r))return!0}return!1}destroy(){this.uniformGroup=null,this.disposeRunner.emit(this),this.disposeRunner.destroy()}get uniforms(){return this.uniformGroup.uniforms}static from(e,t,n){const r=xs.from(e,t);return new Es(r,n)}}class Ss{constructor(e,t){if(this.vertexSrc=e,this.fragTemplate=t,this.programCache={},this.defaultGroupCache={},!t.includes("%count%"))throw new Error('Fragment template must contain "%count%".');if(!t.includes("%forloop%"))throw new Error('Fragment template must contain "%forloop%".')}generateShader(e){if(!this.programCache[e]){const t=new Int32Array(e);for(let r=0;r<e;r++)t[r]=r;this.defaultGroupCache[e]=As.from({uSamplers:t},!0);let n=this.fragTemplate;n=n.replace(/%count%/gi,"".concat(e)),n=n.replace(/%forloop%/gi,this.generateSampleSrc(e)),this.programCache[e]=new xs(this.vertexSrc,n)}const t={tint:new Float32Array([1,1,1,1]),translationMatrix:new Yi,default:this.defaultGroupCache[e]};return new Es(this.programCache[e],t)}generateSampleSrc(e){let t="";t+="\n",t+="\n";for(let n=0;n<e;n++)n>0&&(t+="\nelse "),n<e-1&&(t+="if(vTextureId < ".concat(n,".5)")),t+="\n{",t+="\n\tcolor = texture2D(uSamplers[".concat(n,"], vTextureCoord);"),t+="\n}";return t+="\n",t+="\n",t}}class Ts{constructor(){this.elements=[],this.ids=[],this.count=0}clear(){for(let e=0;e<this.count;e++)this.elements[e]=null;this.count=0}}class Cs{constructor(e){this.renderer=e}flush(){}destroy(){this.renderer=null}start(){}stop(){this.flush()}render(e){}}const ks=class e extends Cs{constructor(t){super(t),this.setShaderGenerator(),this.geometryClass=Li,this.vertexSize=6,this.state=yi.for2d(),this.size=4*e.defaultBatchSize,this._vertexCount=0,this._indexCount=0,this._bufferedElements=[],this._bufferedTextures=[],this._bufferSize=0,this._shader=null,this._packedGeometries=[],this._packedGeometryPoolSize=2,this._flushId=0,this._aBuffers={},this._iBuffers={},this.maxTextures=1,this.renderer.on("prerender",this.onPrerender,this),t.runners.contextChange.add(this),this._dcIndex=0,this._aIndex=0,this._iIndex=0,this._attributeBuffer=null,this._indexBuffer=null,this._tempBoundTextures=[]}static get defaultMaxTextures(){var e;return this._defaultMaxTextures=null!==(e=this._defaultMaxTextures)&&void 0!==e?e:function(e){let t=!0;const n=Bn.ADAPTER.getNavigator();if(rr.tablet||rr.phone){if(rr.apple.device){const e=n.userAgent.match(/OS (\d+)_(\d+)?/);e&&parseInt(e[1],10)<11&&(t=!1)}if(rr.android.device){const e=n.userAgent.match(/Android\s([0-9.]*)/);e&&parseInt(e[1],10)<7&&(t=!1)}}return t?e:4}(32),this._defaultMaxTextures}static set defaultMaxTextures(e){this._defaultMaxTextures=e}static get canUploadSameBuffer(){var e;return this._canUploadSameBuffer=null!==(e=this._canUploadSameBuffer)&&void 0!==e?e:!rr.apple.device,this._canUploadSameBuffer}static set canUploadSameBuffer(e){this._canUploadSameBuffer=e}get MAX_TEXTURES(){return ar("7.1.0","BatchRenderer#MAX_TEXTURES renamed to BatchRenderer#maxTextures"),this.maxTextures}static get defaultVertexSrc(){return"precision highp float;\nattribute vec2 aVertexPosition;\nattribute vec2 aTextureCoord;\nattribute vec4 aColor;\nattribute float aTextureId;\n\nuniform mat3 projectionMatrix;\nuniform mat3 translationMatrix;\nuniform vec4 tint;\n\nvarying vec2 vTextureCoord;\nvarying vec4 vColor;\nvarying float vTextureId;\n\nvoid main(void){\n    gl_Position = vec4((projectionMatrix * translationMatrix * vec3(aVertexPosition, 1.0)).xy, 0.0, 1.0);\n\n    vTextureCoord = aTextureCoord;\n    vTextureId = aTextureId;\n    vColor = aColor * tint;\n}\n"}static get defaultFragmentTemplate(){return"varying vec2 vTextureCoord;\nvarying vec4 vColor;\nvarying float vTextureId;\nuniform sampler2D uSamplers[%count%];\n\nvoid main(void){\n    vec4 color;\n    %forloop%\n    gl_FragColor = color * vColor;\n}\n"}setShaderGenerator(){let{vertex:t=e.defaultVertexSrc,fragment:n=e.defaultFragmentTemplate}=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};this.shaderGenerator=new Ss(t,n)}contextChange(){const t=this.renderer.gl;Bn.PREFER_ENV===vn.WEBGL_LEGACY?this.maxTextures=1:(this.maxTextures=Math.min(t.getParameter(t.MAX_TEXTURE_IMAGE_UNITS),e.defaultMaxTextures),this.maxTextures=function(e,t){if(0===e)throw new Error("Invalid value of `0` passed to `checkMaxIfStatementsInShader`");const n=t.createShader(t.FRAGMENT_SHADER);for(;;){const r=mi.replace(/%forloop%/gi,gi(e));if(t.shaderSource(n,r),t.compileShader(n),t.getShaderParameter(n,t.COMPILE_STATUS))break;e=e/2|0}return e}(this.maxTextures,t)),this._shader=this.shaderGenerator.generateShader(this.maxTextures);for(let e=0;e<this._packedGeometryPoolSize;e++)this._packedGeometries[e]=new this.geometryClass;this.initFlushBuffers()}initFlushBuffers(){const{_drawCallPool:t,_textureArrayPool:n}=e,r=this.size/4,i=Math.floor(r/this.maxTextures)+1;for(;t.length<r;)t.push(new Ti);for(;n.length<i;)n.push(new Ts);for(let e=0;e<this.maxTextures;e++)this._tempBoundTextures[e]=null}onPrerender(){this._flushId=0}render(e){e._texture.valid&&(this._vertexCount+e.vertexData.length/2>this.size&&this.flush(),this._vertexCount+=e.vertexData.length/2,this._indexCount+=e.indices.length,this._bufferedTextures[this._bufferSize]=e._texture.baseTexture,this._bufferedElements[this._bufferSize++]=e)}buildTexturesAndDrawCalls(){const{_bufferedTextures:t,maxTextures:n}=this,r=e._textureArrayPool,i=this.renderer.batch,s=this._tempBoundTextures,o=this.renderer.textureGC.count;let a=++Si._globalBatch,l=0,u=r[0],c=0;i.copyBoundTextures(s,n);for(let e=0;e<this._bufferSize;++e){const h=t[e];t[e]=null,h._batchEnabled!==a&&(u.count>=n&&(i.boundArray(u,s,a,n),this.buildDrawCalls(u,c,e),c=e,u=r[++l],++a),h._batchEnabled=a,h.touched=o,u.elements[u.count++]=h)}u.count>0&&(i.boundArray(u,s,a,n),this.buildDrawCalls(u,c,this._bufferSize),++l,++a);for(let e=0;e<s.length;e++)s[e]=null;Si._globalBatch=a}buildDrawCalls(t,n,r){const{_bufferedElements:i,_attributeBuffer:s,_indexBuffer:o,vertexSize:a}=this,l=e._drawCallPool;let u=this._dcIndex,c=this._aIndex,h=this._iIndex,d=l[u];d.start=this._iIndex,d.texArray=t;for(let e=n;e<r;++e){const r=i[e],f=r._texture.baseTexture,p=Wr[f.alphaMode?1:0][r.blendMode];i[e]=null,n<e&&d.blend!==p&&(d.size=h-d.start,n=e,d=l[++u],d.texArray=t,d.start=h),this.packInterleavedGeometry(r,s,o,c,h),c+=r.vertexData.length/2*a,h+=r.indices.length,d.blend=p}n<r&&(d.size=h-d.start,++u),this._dcIndex=u,this._aIndex=c,this._iIndex=h}bindAndClearTexArray(e){const t=this.renderer.texture;for(let n=0;n<e.count;n++)t.bind(e.elements[n],e.ids[n]),e.elements[n]=null;e.count=0}updateGeometry(){const{_packedGeometries:t,_attributeBuffer:n,_indexBuffer:r}=this;e.canUploadSameBuffer?(t[this._flushId]._buffer.update(n.rawBinaryData),t[this._flushId]._indexBuffer.update(r),this.renderer.geometry.updateBuffers()):(this._packedGeometryPoolSize<=this._flushId&&(this._packedGeometryPoolSize++,t[this._flushId]=new this.geometryClass),t[this._flushId]._buffer.update(n.rawBinaryData),t[this._flushId]._indexBuffer.update(r),this.renderer.geometry.bind(t[this._flushId]),this.renderer.geometry.updateBuffers(),this._flushId++)}drawBatches(){const t=this._dcIndex,{gl:n,state:r}=this.renderer,i=e._drawCallPool;let s=null;for(let e=0;e<t;e++){const{texArray:t,type:o,size:a,start:l,blend:u}=i[e];s!==t&&(s=t,this.bindAndClearTexArray(t)),this.state.blendMode=u,r.set(this.state),n.drawElements(o,a,n.UNSIGNED_SHORT,2*l)}}flush(){0!==this._vertexCount&&(this._attributeBuffer=this.getAttributeBuffer(this._vertexCount),this._indexBuffer=this.getIndexBuffer(this._indexCount),this._aIndex=0,this._iIndex=0,this._dcIndex=0,this.buildTexturesAndDrawCalls(),this.updateGeometry(),this.drawBatches(),this._bufferSize=0,this._vertexCount=0,this._indexCount=0)}start(){this.renderer.state.set(this.state),this.renderer.texture.ensureSamplerType(this.maxTextures),this.renderer.shader.bind(this._shader),e.canUploadSameBuffer&&this.renderer.geometry.bind(this._packedGeometries[this._flushId])}stop(){this.flush()}destroy(){for(let e=0;e<this._packedGeometryPoolSize;e++)this._packedGeometries[e]&&this._packedGeometries[e].destroy();this.renderer.off("prerender",this.onPrerender,this),this._aBuffers=null,this._iBuffers=null,this._packedGeometries=null,this._attributeBuffer=null,this._indexBuffer=null,this._shader&&(this._shader.destroy(),this._shader=null),super.destroy()}getAttributeBuffer(e){const t=Yr(Math.ceil(e/8)),n=Kr(t),r=8*t;this._aBuffers.length<=n&&(this._iBuffers.length=n+1);let i=this._aBuffers[r];return i||(this._aBuffers[r]=i=new pi(r*this.vertexSize*4)),i}getIndexBuffer(e){const t=Yr(Math.ceil(e/12)),n=Kr(t),r=12*t;this._iBuffers.length<=n&&(this._iBuffers.length=n+1);let i=this._iBuffers[n];return i||(this._iBuffers[n]=i=new Uint16Array(r)),i}packInterleavedGeometry(e,t,n,r,i){const{uint32View:s,float32View:o}=t,a=r/this.vertexSize,l=e.uvs,u=e.indices,c=e.vertexData,h=e._texture.baseTexture._batchLocation,d=Math.min(e.worldAlpha,1),f=jr.shared.setValue(e._tintRGB).toPremultiplied(d,e._texture.baseTexture.alphaMode>0);for(let p=0;p<c.length;p+=2)o[r++]=c[p],o[r++]=c[p+1],o[r++]=l[p],o[r++]=l[p+1],s[r++]=f,o[r++]=h;for(let p=0;p<u.length;p++)n[i++]=a+u[p]}};ks.defaultBatchSize=4096,ks.extension={name:"batch",type:ci.RendererPlugin},ks._drawCallPool=[],ks._textureArrayPool=[];let Rs=ks;fi.add(Rs);const Ps=class e extends Es{constructor(t,n,r){super(xs.from(t||e.defaultVertexSrc,n||e.defaultFragmentSrc),r),this.padding=0,this.resolution=e.defaultResolution,this.multisample=e.defaultMultisample,this.enabled=!0,this.autoFit=!0,this.state=new yi}apply(e,t,n,r,i){e.applyFilter(this,t,n,r)}get blendMode(){return this.state.blendMode}set blendMode(e){this.state.blendMode=e}get resolution(){return this._resolution}set resolution(e){this._resolution=e}static get defaultVertexSrc(){return"attribute vec2 aVertexPosition;\n\nuniform mat3 projectionMatrix;\n\nvarying vec2 vTextureCoord;\n\nuniform vec4 inputSize;\nuniform vec4 outputFrame;\n\nvec4 filterVertexPosition( void )\n{\n    vec2 position = aVertexPosition * max(outputFrame.zw, vec2(0.)) + outputFrame.xy;\n\n    return vec4((projectionMatrix * vec3(position, 1.0)).xy, 0.0, 1.0);\n}\n\nvec2 filterTextureCoord( void )\n{\n    return aVertexPosition * (outputFrame.zw * inputSize.zw);\n}\n\nvoid main(void)\n{\n    gl_Position = filterVertexPosition();\n    vTextureCoord = filterTextureCoord();\n}\n"}static get defaultFragmentSrc(){return"varying vec2 vTextureCoord;\n\nuniform sampler2D uSampler;\n\nvoid main(void){\n   gl_FragColor = texture2D(uSampler, vTextureCoord);\n}\n"}};Ps.defaultResolution=1,Ps.defaultMultisample=Ln.NONE;let Is=Ps;class Ms{constructor(){this.clearBeforeRender=!0,this._backgroundColor=new jr(0),this.alpha=1}init(e){this.clearBeforeRender=e.clearBeforeRender;const{backgroundColor:t,background:n,backgroundAlpha:r}=e,i=null!==n&&void 0!==n?n:t;void 0!==i&&(this.color=i),this.alpha=r}get color(){return this._backgroundColor.value}set color(e){this._backgroundColor.setValue(e)}get alpha(){return this._backgroundColor.alpha}set alpha(e){this._backgroundColor.setAlpha(e)}get backgroundColor(){return this._backgroundColor}destroy(){}}Ms.defaultOptions={backgroundAlpha:1,backgroundColor:0,clearBeforeRender:!0},Ms.extension={type:[ci.RendererSystem,ci.CanvasRendererSystem],name:"background"},fi.add(Ms);class Ds{constructor(e){this.renderer=e,this.emptyRenderer=new Cs(e),this.currentRenderer=this.emptyRenderer}setObjectRenderer(e){this.currentRenderer!==e&&(this.currentRenderer.stop(),this.currentRenderer=e,this.currentRenderer.start())}flush(){this.setObjectRenderer(this.emptyRenderer)}reset(){this.setObjectRenderer(this.emptyRenderer)}copyBoundTextures(e,t){const{boundTextures:n}=this.renderer.texture;for(let r=t-1;r>=0;--r)e[r]=n[r]||null,e[r]&&(e[r]._batchLocation=r)}boundArray(e,t,n,r){const{elements:i,ids:s,count:o}=e;let a=0;for(let l=0;l<o;l++){const e=i[l],o=e._batchLocation;if(o>=0&&o<r&&t[o]===e)s[l]=o;else for(;a<r;){const r=t[a];if(!r||r._batchEnabled!==n||r._batchLocation!==a){s[l]=a,e._batchLocation=a,t[a]=e;break}a++}}}destroy(){this.renderer=null}}Ds.extension={type:ci.RendererSystem,name:"batch"},fi.add(Ds);let Os=0;class Ls{constructor(e){this.renderer=e,this.webGLVersion=1,this.extensions={},this.supports={uint32Indices:!1},this.handleContextLost=this.handleContextLost.bind(this),this.handleContextRestored=this.handleContextRestored.bind(this)}get isLost(){return!this.gl||this.gl.isContextLost()}contextChange(e){this.gl=e,this.renderer.gl=e,this.renderer.CONTEXT_UID=Os++}init(e){if(e.context)this.initFromContext(e.context);else{const t=this.renderer.background.alpha<1,n=e.premultipliedAlpha;this.preserveDrawingBuffer=e.preserveDrawingBuffer,this.useContextAlpha=e.useContextAlpha,this.powerPreference=e.powerPreference,this.initFromOptions({alpha:t,premultipliedAlpha:n,antialias:e.antialias,stencil:!0,preserveDrawingBuffer:e.preserveDrawingBuffer,powerPreference:e.powerPreference})}}initFromContext(e){this.gl=e,this.validateContext(e),this.renderer.gl=e,this.renderer.CONTEXT_UID=Os++,this.renderer.runners.contextChange.emit(e);const t=this.renderer.view;void 0!==t.addEventListener&&(t.addEventListener("webglcontextlost",this.handleContextLost,!1),t.addEventListener("webglcontextrestored",this.handleContextRestored,!1))}initFromOptions(e){const t=this.createContext(this.renderer.view,e);this.initFromContext(t)}createContext(e,t){let n;if(Bn.PREFER_ENV>=vn.WEBGL2&&(n=e.getContext("webgl2",t)),n)this.webGLVersion=2;else if(this.webGLVersion=1,n=e.getContext("webgl",t)||e.getContext("experimental-webgl",t),!n)throw new Error("This browser does not support WebGL. Try using the canvas renderer");return this.gl=n,this.getExtensions(),this.gl}getExtensions(){const{gl:e}=this,t={loseContext:e.getExtension("WEBGL_lose_context"),anisotropicFiltering:e.getExtension("EXT_texture_filter_anisotropic"),floatTextureLinear:e.getExtension("OES_texture_float_linear"),s3tc:e.getExtension("WEBGL_compressed_texture_s3tc"),s3tc_sRGB:e.getExtension("WEBGL_compressed_texture_s3tc_srgb"),etc:e.getExtension("WEBGL_compressed_texture_etc"),etc1:e.getExtension("WEBGL_compressed_texture_etc1"),pvrtc:e.getExtension("WEBGL_compressed_texture_pvrtc")||e.getExtension("WEBKIT_WEBGL_compressed_texture_pvrtc"),atc:e.getExtension("WEBGL_compressed_texture_atc"),astc:e.getExtension("WEBGL_compressed_texture_astc"),bptc:e.getExtension("EXT_texture_compression_bptc")};1===this.webGLVersion?Object.assign(this.extensions,t,{drawBuffers:e.getExtension("WEBGL_draw_buffers"),depthTexture:e.getExtension("WEBGL_depth_texture"),vertexArrayObject:e.getExtension("OES_vertex_array_object")||e.getExtension("MOZ_OES_vertex_array_object")||e.getExtension("WEBKIT_OES_vertex_array_object"),uint32ElementIndex:e.getExtension("OES_element_index_uint"),floatTexture:e.getExtension("OES_texture_float"),floatTextureLinear:e.getExtension("OES_texture_float_linear"),textureHalfFloat:e.getExtension("OES_texture_half_float"),textureHalfFloatLinear:e.getExtension("OES_texture_half_float_linear")}):2===this.webGLVersion&&Object.assign(this.extensions,t,{colorBufferFloat:e.getExtension("EXT_color_buffer_float")})}handleContextLost(e){e.preventDefault(),setTimeout(()=>{this.gl.isContextLost()&&this.extensions.loseContext&&this.extensions.loseContext.restoreContext()},0)}handleContextRestored(){this.renderer.runners.contextChange.emit(this.gl)}destroy(){const e=this.renderer.view;this.renderer=null,void 0!==e.removeEventListener&&(e.removeEventListener("webglcontextlost",this.handleContextLost),e.removeEventListener("webglcontextrestored",this.handleContextRestored)),this.gl.useProgram(null),this.extensions.loseContext&&this.extensions.loseContext.loseContext()}postrender(){this.renderer.objectRenderer.renderingToScreen&&this.gl.flush()}validateContext(e){const t=e.getContextAttributes(),n="WebGL2RenderingContext"in globalThis&&e instanceof globalThis.WebGL2RenderingContext;n&&(this.webGLVersion=2),t&&!t.stencil&&console.warn("Provided WebGL context does not have a stencil buffer, masks may not render correctly");const r=n||!!e.getExtension("OES_element_index_uint");this.supports.uint32Indices=r,r||console.warn("Provided WebGL context does not support 32 index buffer, complex graphics may not render correctly")}}Ls.defaultOptions={context:null,antialias:!1,premultipliedAlpha:!0,preserveDrawingBuffer:!1,powerPreference:"default"},Ls.extension={type:ci.RendererSystem,name:"context"},fi.add(Ls);class Ns{constructor(e,t){if(this.width=Math.round(e),this.height=Math.round(t),!this.width||!this.height)throw new Error("Framebuffer width or height is zero");this.stencil=!1,this.depth=!1,this.dirtyId=0,this.dirtyFormat=0,this.dirtySize=0,this.depthTexture=null,this.colorTextures=[],this.glFramebuffers={},this.disposeRunner=new _i("disposeFramebuffer"),this.multisample=Ln.NONE}get colorTexture(){return this.colorTextures[0]}addColorTexture(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0,t=arguments.length>1?arguments[1]:void 0;return this.colorTextures[e]=t||new Si(null,{scaleMode:Cn.NEAREST,resolution:1,mipmap:Rn.OFF,width:this.width,height:this.height}),this.dirtyId++,this.dirtyFormat++,this}addDepthTexture(e){return this.depthTexture=e||new Si(null,{scaleMode:Cn.NEAREST,resolution:1,width:this.width,height:this.height,mipmap:Rn.OFF,format:An.DEPTH_COMPONENT,type:Sn.UNSIGNED_SHORT}),this.dirtyId++,this.dirtyFormat++,this}enableDepth(){return this.depth=!0,this.dirtyId++,this.dirtyFormat++,this}enableStencil(){return this.stencil=!0,this.dirtyId++,this.dirtyFormat++,this}resize(e,t){if(e=Math.round(e),t=Math.round(t),!e||!t)throw new Error("Framebuffer width and height must not be zero");if(e!==this.width||t!==this.height){this.width=e,this.height=t,this.dirtyId++,this.dirtySize++;for(let n=0;n<this.colorTextures.length;n++){const r=this.colorTextures[n],i=r.resolution;r.setSize(e/i,t/i)}if(this.depthTexture){const n=this.depthTexture.resolution;this.depthTexture.setSize(e/n,t/n)}}}dispose(){this.disposeRunner.emit(this,!1)}destroyDepthTexture(){this.depthTexture&&(this.depthTexture.destroy(),this.depthTexture=null,++this.dirtyId,++this.dirtyFormat)}}class Fs extends Si{constructor(){var e,t,n;let r=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};if("number"==typeof r){r={width:arguments[0],height:arguments[1],scaleMode:arguments[2],resolution:arguments[3]}}r.width=null!==(e=r.width)&&void 0!==e?e:100,r.height=null!==(t=r.height)&&void 0!==t?t:100,null!==(n=r.multisample)&&void 0!==n||(r.multisample=Ln.NONE),super(null,r),this.mipmap=Rn.OFF,this.valid=!0,this._clear=new jr([0,0,0,0]),this.framebuffer=new Ns(this.realWidth,this.realHeight).addColorTexture(0,this),this.framebuffer.multisample=r.multisample,this.maskStack=[],this.filterStack=[{}]}set clearColor(e){this._clear.setValue(e)}get clearColor(){return this._clear.value}get clear(){return this._clear}get multisample(){return this.framebuffer.multisample}set multisample(e){this.framebuffer.multisample=e}resize(e,t){this.framebuffer.resize(e*this.resolution,t*this.resolution),this.setRealSize(this.framebuffer.width,this.framebuffer.height)}dispose(){this.framebuffer.dispose(),super.dispose()}destroy(){super.destroy(),this.framebuffer.destroyDepthTexture(),this.framebuffer=null}}class Bs extends xi{constructor(e){const t=e;super(t.naturalWidth||t.videoWidth||t.displayWidth||t.width,t.naturalHeight||t.videoHeight||t.displayHeight||t.height),this.source=e,this.noSubImage=!1}static crossOrigin(e,t,n){void 0!==n||t.startsWith("data:")?!1!==n&&(e.crossOrigin="string"==typeof n?n:"anonymous"):e.crossOrigin=function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:globalThis.location;if(e.startsWith("data:"))return"";t=t||globalThis.location;const n=new URL(e,document.baseURI);return n.hostname!==t.hostname||n.port!==t.port||n.protocol!==t.protocol?"anonymous":""}(t)}upload(e,t,n,r){const i=e.gl,s=t.realWidth,o=t.realHeight;if(r=r||this.source,typeof HTMLImageElement<"u"&&r instanceof HTMLImageElement){if(!r.complete||0===r.naturalWidth)return!1}else if(typeof HTMLVideoElement<"u"&&r instanceof HTMLVideoElement&&r.readyState<=1)return!1;return i.pixelStorei(i.UNPACK_PREMULTIPLY_ALPHA_WEBGL,t.alphaMode===Pn.UNPACK),this.noSubImage||t.target!==i.TEXTURE_2D||n.width!==s||n.height!==o?(n.width=s,n.height=o,i.texImage2D(t.target,0,n.internalFormat,t.format,n.type,r)):i.texSubImage2D(i.TEXTURE_2D,0,0,0,t.format,n.type,r),!0}update(){if(this.destroyed)return;const e=this.source,t=e.naturalWidth||e.videoWidth||e.width,n=e.naturalHeight||e.videoHeight||e.height;this.resize(t,n),super.update()}dispose(){this.source=null}}class Us extends Bs{constructor(e,t){var n;if(t=t||{},"string"==typeof e){const n=new Image;Bs.crossOrigin(n,e,t.crossorigin),n.src=e,e=n}super(e),!e.complete&&this._width&&this._height&&(this._width=0,this._height=0),this.url=e.src,this._process=null,this.preserveBitmap=!1,this.createBitmap=(null!==(n=t.createBitmap)&&void 0!==n?n:Bn.CREATE_IMAGE_BITMAP)&&!!globalThis.createImageBitmap,this.alphaMode="number"==typeof t.alphaMode?t.alphaMode:null,this.bitmap=null,this._load=null,!1!==t.autoLoad&&this.load()}load(e){return this._load||(void 0!==e&&(this.createBitmap=e),this._load=new Promise((e,t)=>{const n=this.source;this.url=n.src;const r=()=>{this.destroyed||(n.onload=null,n.onerror=null,this.update(),this._load=null,this.createBitmap?e(this.process()):e(this))};n.complete&&n.src?r():(n.onload=r,n.onerror=e=>{t(e),this.onError.emit(e)})})),this._load}process(){const e=this.source;if(null!==this._process)return this._process;if(null!==this.bitmap||!globalThis.createImageBitmap)return Promise.resolve(this);const t=globalThis.createImageBitmap,n=!e.crossOrigin||"anonymous"===e.crossOrigin;return this._process=fetch(e.src,{mode:n?"cors":"no-cors"}).then(e=>e.blob()).then(n=>t(n,0,0,e.width,e.height,{premultiplyAlpha:null===this.alphaMode||this.alphaMode===Pn.UNPACK?"premultiply":"none"})).then(e=>this.destroyed?Promise.reject():(this.bitmap=e,this.update(),this._process=null,Promise.resolve(this))),this._process}upload(e,t,n){if("number"==typeof this.alphaMode&&(t.alphaMode=this.alphaMode),!this.createBitmap)return super.upload(e,t,n);if(!this.bitmap&&(this.process(),!this.bitmap))return!1;if(super.upload(e,t,n,this.bitmap),!this.preserveBitmap){let e=!0;const r=t._glTextures;for(const i in r){const s=r[i];if(s!==n&&s.dirtyId!==t.dirtyId){e=!1;break}}e&&(this.bitmap.close&&this.bitmap.close(),this.bitmap=null)}return!0}dispose(){this.source.onload=null,this.source.onerror=null,super.dispose(),this.bitmap&&(this.bitmap.close(),this.bitmap=null),this._process=null,this._load=null}static test(e){return typeof HTMLImageElement<"u"&&("string"==typeof e||e instanceof HTMLImageElement)}}class Gs{constructor(){this.x0=0,this.y0=0,this.x1=1,this.y1=0,this.x2=1,this.y2=1,this.x3=0,this.y3=1,this.uvsFloat32=new Float32Array(8)}set(e,t,n){const r=t.width,i=t.height;if(n){const t=e.width/2/r,s=e.height/2/i,o=e.x/r+t,a=e.y/i+s;n=ts.add(n,ts.NW),this.x0=o+t*ts.uX(n),this.y0=a+s*ts.uY(n),n=ts.add(n,2),this.x1=o+t*ts.uX(n),this.y1=a+s*ts.uY(n),n=ts.add(n,2),this.x2=o+t*ts.uX(n),this.y2=a+s*ts.uY(n),n=ts.add(n,2),this.x3=o+t*ts.uX(n),this.y3=a+s*ts.uY(n)}else this.x0=e.x/r,this.y0=e.y/i,this.x1=(e.x+e.width)/r,this.y1=e.y/i,this.x2=(e.x+e.width)/r,this.y2=(e.y+e.height)/i,this.x3=e.x/r,this.y3=(e.y+e.height)/i;this.uvsFloat32[0]=this.x0,this.uvsFloat32[1]=this.y0,this.uvsFloat32[2]=this.x1,this.uvsFloat32[3]=this.y1,this.uvsFloat32[4]=this.x2,this.uvsFloat32[5]=this.y2,this.uvsFloat32[6]=this.x3,this.uvsFloat32[7]=this.y3}}Gs.prototype.toString=function(){return"[@pixi/core:TextureUvs x0=".concat(this.x0," y0=").concat(this.y0," x1=").concat(this.x1," y1=").concat(this.y1," x2=").concat(this.x2," y2=").concat(this.y2," x3=").concat(this.x3," y3=").concat(this.y3,"]")};const zs=new Gs;function Hs(e){e.destroy=function(){},e.on=function(){},e.once=function(){},e.emit=function(){}}class js extends ir{constructor(e,t,n,r,i,s,o){if(super(),this.noFrame=!1,t||(this.noFrame=!0,t=new Hi(0,0,1,1)),e instanceof js&&(e=e.baseTexture),this.baseTexture=e,this._frame=t,this.trim=r,this.valid=!1,this.destroyed=!1,this._uvs=zs,this.uvMatrix=null,this.orig=n||t,this._rotate=Number(i||0),!0===i)this._rotate=2;else if(this._rotate%2!==0)throw new Error("attempt to use diamond-shaped UVs. If you are sure, set rotation manually");this.defaultAnchor=s?new Gi(s.x,s.y):new Gi(0,0),this.defaultBorders=o,this._updateID=0,this.textureCacheIds=[],e.valid?this.noFrame?e.valid&&this.onBaseTextureUpdated(e):this.frame=t:e.once("loaded",this.onBaseTextureUpdated,this),this.noFrame&&e.on("update",this.onBaseTextureUpdated,this)}update(){this.baseTexture.resource&&this.baseTexture.resource.update()}onBaseTextureUpdated(e){if(this.noFrame){if(!this.baseTexture.valid)return;this._frame.width=e.width,this._frame.height=e.height,this.valid=!0,this.updateUvs()}else this.frame=this._frame;this.emit("update",this)}destroy(e){if(this.baseTexture){if(e){const{resource:e}=this.baseTexture;null!==e&&void 0!==e&&e.url&&ri[e.url]&&js.removeFromCache(e.url),this.baseTexture.destroy()}this.baseTexture.off("loaded",this.onBaseTextureUpdated,this),this.baseTexture.off("update",this.onBaseTextureUpdated,this),this.baseTexture=null}this._frame=null,this._uvs=null,this.trim=null,this.orig=null,this.valid=!1,js.removeFromCache(this),this.textureCacheIds=null,this.destroyed=!0,this.emit("destroyed",this),this.removeAllListeners()}clone(){var e;const t=this._frame.clone(),n=this._frame===this.orig?t:this.orig.clone(),r=new js(this.baseTexture,!this.noFrame&&t,n,null===(e=this.trim)||void 0===e?void 0:e.clone(),this.rotate,this.defaultAnchor,this.defaultBorders);return this.noFrame&&(r._frame=t),r}updateUvs(){this._uvs===zs&&(this._uvs=new Gs),this._uvs.set(this._frame,this.baseTexture,this.rotate),this._updateID++}static from(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:Bn.STRICT_TEXTURE_CACHE;const r="string"==typeof e;let i=null;if(r)i=e;else if(e instanceof Si){if(!e.cacheId){const n=(null===t||void 0===t?void 0:t.pixiIdPrefix)||"pixiid";e.cacheId="".concat(n,"-").concat($r()),Si.addToCache(e,e.cacheId)}i=e.cacheId}else{if(!e._pixiId){const n=(null===t||void 0===t?void 0:t.pixiIdPrefix)||"pixiid";e._pixiId="".concat(n,"_").concat($r())}i=e._pixiId}let s=ri[i];if(r&&n&&!s)throw new Error('The cacheId "'.concat(i,'" does not exist in TextureCache.'));return s||e instanceof Si?!s&&e instanceof Si&&(s=new js(e),js.addToCache(s,i)):(t.resolution||(t.resolution=ui(e)),s=new js(new Si(e,t)),s.baseTexture.cacheId=i,Si.addToCache(s.baseTexture,i),js.addToCache(s,i)),s}static fromURL(e,t){const n=Object.assign({autoLoad:!1},null===t||void 0===t?void 0:t.resourceOptions),r=js.from(e,Object.assign({resourceOptions:n},t),!1),i=r.baseTexture.resource;return r.baseTexture.valid?Promise.resolve(r):i.load().then(()=>Promise.resolve(r))}static fromBuffer(e,t,n,r){return new js(Si.fromBuffer(e,t,n,r))}static fromLoader(e,t,n,r){const i=new Si(e,Object.assign({scaleMode:Si.defaultOptions.scaleMode,resolution:ui(t)},r)),{resource:s}=i;s instanceof Us&&(s.url=t);const o=new js(i);return n||(n=t),Si.addToCache(o.baseTexture,n),js.addToCache(o,n),n!==t&&(Si.addToCache(o.baseTexture,t),js.addToCache(o,t)),o.baseTexture.valid?Promise.resolve(o):new Promise(e=>{o.baseTexture.once("loaded",()=>e(o))})}static addToCache(e,t){t&&(e.textureCacheIds.includes(t)||e.textureCacheIds.push(t),ri[t]&&ri[t]!==e&&console.warn("Texture added to the cache with an id [".concat(t,"] that already had an entry")),ri[t]=e)}static removeFromCache(e){if("string"==typeof e){const t=ri[e];if(t){const n=t.textureCacheIds.indexOf(e);return n>-1&&t.textureCacheIds.splice(n,1),delete ri[e],t}}else if(null!==e&&void 0!==e&&e.textureCacheIds){for(let t=0;t<e.textureCacheIds.length;++t)ri[e.textureCacheIds[t]]===e&&delete ri[e.textureCacheIds[t]];return e.textureCacheIds.length=0,e}return null}get resolution(){return this.baseTexture.resolution}get frame(){return this._frame}set frame(e){this._frame=e,this.noFrame=!1;const{x:t,y:n,width:r,height:i}=e,s=t+r>this.baseTexture.width,o=n+i>this.baseTexture.height;if(s||o){const e=s&&o?"and":"or",a="X: ".concat(t," + ").concat(r," = ").concat(t+r," > ").concat(this.baseTexture.width),l="Y: ".concat(n," + ").concat(i," = ").concat(n+i," > ").concat(this.baseTexture.height);throw new Error("Texture Error: frame does not fit inside the base Texture dimensions: ".concat(a," ").concat(e," ").concat(l))}this.valid=r&&i&&this.baseTexture.valid,!this.trim&&!this.rotate&&(this.orig=e),this.valid&&this.updateUvs()}get rotate(){return this._rotate}set rotate(e){this._rotate=e,this.valid&&this.updateUvs()}get width(){return this.orig.width}get height(){return this.orig.height}castToBaseTexture(){return this.baseTexture}static get EMPTY(){return js._EMPTY||(js._EMPTY=new js(new Si),Hs(js._EMPTY),Hs(js._EMPTY.baseTexture)),js._EMPTY}static get WHITE(){if(!js._WHITE){const e=Bn.ADAPTER.createCanvas(16,16),t=e.getContext("2d");e.width=16,e.height=16,t.fillStyle="white",t.fillRect(0,0,16,16),js._WHITE=new js(Si.from(e)),Hs(js._WHITE),Hs(js._WHITE.baseTexture)}return js._WHITE}}class Ws extends js{constructor(e,t){super(e,t),this.valid=!0,this.filterFrame=null,this.filterPoolKey=null,this.updateUvs()}get framebuffer(){return this.baseTexture.framebuffer}get multisample(){return this.framebuffer.multisample}set multisample(e){this.framebuffer.multisample=e}resize(e,t){let n=!(arguments.length>2&&void 0!==arguments[2])||arguments[2];const r=this.baseTexture.resolution,i=Math.round(e*r)/r,s=Math.round(t*r)/r;this.valid=i>0&&s>0,this._frame.width=this.orig.width=i,this._frame.height=this.orig.height=s,n&&this.baseTexture.resize(i,s),this.updateUvs()}setResolution(e){const{baseTexture:t}=this;t.resolution!==e&&(t.setResolution(e),this.resize(t.width,t.height,!1))}static create(e){return new Ws(new Fs(e))}}class Vs{constructor(e){this.texturePool={},this.textureOptions=e||{},this.enableFullScreen=!1,this._pixelsWidth=0,this._pixelsHeight=0}createTexture(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:Ln.NONE;const r=new Fs(Object.assign({width:e,height:t,resolution:1,multisample:n},this.textureOptions));return new Ws(r)}getOptimalTexture(e,t){let n,r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:1,i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:Ln.NONE;e=Math.max(Math.ceil(e*r-1e-6),1),t=Math.max(Math.ceil(t*r-1e-6),1),this.enableFullScreen&&e===this._pixelsWidth&&t===this._pixelsHeight?n=i>1?-i:-1:(n=((65535&(e=Yr(e)))<<16|65535&(t=Yr(t)))>>>0,i>1&&(n+=4294967296*i)),this.texturePool[n]||(this.texturePool[n]=[]);let s=this.texturePool[n].pop();return s||(s=this.createTexture(e,t,i)),s.filterPoolKey=n,s.setResolution(r),s}getFilterTexture(e,t,n){const r=this.getOptimalTexture(e.width,e.height,t||e.resolution,n||Ln.NONE);return r.filterFrame=e.filterFrame,r}returnTexture(e){const t=e.filterPoolKey;e.filterFrame=null,this.texturePool[t].push(e)}returnFilterTexture(e){this.returnTexture(e)}clear(e){if(e=!1!==e)for(const t in this.texturePool){const e=this.texturePool[t];if(e)for(let t=0;t<e.length;t++)e[t].destroy(!0)}this.texturePool={}}setScreenSize(e){if(e.width!==this._pixelsWidth||e.height!==this._pixelsHeight){this.enableFullScreen=e.width>0&&e.height>0;for(const e in this.texturePool){if(!(Number(e)<0))continue;const t=this.texturePool[e];if(t)for(let e=0;e<t.length;e++)t[e].destroy(!0);this.texturePool[e]=[]}this._pixelsWidth=e.width,this._pixelsHeight=e.height}}}Vs.SCREEN_KEY=-1;class Xs extends Oi{constructor(){super(),this.addAttribute("aVertexPosition",new Float32Array([0,0,1,0,1,1,0,1])).addIndex([0,1,3,2])}}class Ys extends Oi{constructor(){super(),this.vertices=new Float32Array([-1,-1,1,-1,1,1,-1,1]),this.uvs=new Float32Array([0,0,1,0,1,1,0,1]),this.vertexBuffer=new ki(this.vertices),this.uvBuffer=new ki(this.uvs),this.addAttribute("aVertexPosition",this.vertexBuffer).addAttribute("aTextureCoord",this.uvBuffer).addIndex([0,1,2,0,2,3])}map(e,t){let n=0,r=0;return this.uvs[0]=n,this.uvs[1]=r,this.uvs[2]=n+t.width/e.width,this.uvs[3]=r,this.uvs[4]=n+t.width/e.width,this.uvs[5]=r+t.height/e.height,this.uvs[6]=n,this.uvs[7]=r+t.height/e.height,n=t.x,r=t.y,this.vertices[0]=n,this.vertices[1]=r,this.vertices[2]=n+t.width,this.vertices[3]=r,this.vertices[4]=n+t.width,this.vertices[5]=r+t.height,this.vertices[6]=n,this.vertices[7]=r+t.height,this.invalidate(),this}invalidate(){return this.vertexBuffer._updateID++,this.uvBuffer._updateID++,this}}class qs{constructor(){this.renderTexture=null,this.target=null,this.legacy=!1,this.resolution=1,this.multisample=Ln.NONE,this.sourceFrame=new Hi,this.destinationFrame=new Hi,this.bindingSourceFrame=new Hi,this.bindingDestinationFrame=new Hi,this.filters=[],this.transform=null}clear(){this.target=null,this.filters=null,this.renderTexture=null}}const Ks=[new Gi,new Gi,new Gi,new Gi],Qs=new Yi;class Zs{constructor(e){this.renderer=e,this.defaultFilterStack=[{}],this.texturePool=new Vs,this.statePool=[],this.quad=new Xs,this.quadUv=new Ys,this.tempRect=new Hi,this.activeState={},this.globalUniforms=new As({outputFrame:new Hi,inputSize:new Float32Array(4),inputPixel:new Float32Array(4),inputClamp:new Float32Array(4),resolution:1,filterArea:new Float32Array(4),filterClamp:new Float32Array(4)},!0),this.forceClear=!1,this.useMaxPadding=!1}init(){this.texturePool.setScreenSize(this.renderer.view)}push(e,t){var n,r;const i=this.renderer,s=this.defaultFilterStack,o=this.statePool.pop()||new qs,a=i.renderTexture;let l,u;if(a.current){const e=a.current;l=e.resolution,u=e.multisample}else l=i.resolution,u=i.multisample;let c=t[0].resolution||l,h=null!==(n=t[0].multisample)&&void 0!==n?n:u,d=t[0].padding,f=t[0].autoFit,p=null===(r=t[0].legacy)||void 0===r||r;for(let b=1;b<t.length;b++){var m,g;const e=t[b];c=Math.min(c,e.resolution||l),h=Math.min(h,null!==(m=e.multisample)&&void 0!==m?m:u),d=this.useMaxPadding?Math.max(d,e.padding):d+e.padding,f=f&&e.autoFit,p=p||null===(g=e.legacy)||void 0===g||g}1===s.length&&(this.defaultFilterStack[0].renderTexture=a.current),s.push(o),o.resolution=c,o.multisample=h,o.legacy=p,o.target=e,o.sourceFrame.copyFrom(e.filterArea||e.getBounds(!0)),o.sourceFrame.pad(d);const y=this.tempRect.copyFrom(a.sourceFrame);i.projection.transform&&this.transformAABB(Qs.copyFrom(i.projection.transform).invert(),y),f?(o.sourceFrame.fit(y),(o.sourceFrame.width<=0||o.sourceFrame.height<=0)&&(o.sourceFrame.width=0,o.sourceFrame.height=0)):o.sourceFrame.intersects(y)||(o.sourceFrame.width=0,o.sourceFrame.height=0),this.roundFrame(o.sourceFrame,a.current?a.current.resolution:i.resolution,a.sourceFrame,a.destinationFrame,i.projection.transform),o.renderTexture=this.getOptimalFilterTexture(o.sourceFrame.width,o.sourceFrame.height,c,h),o.filters=t,o.destinationFrame.width=o.renderTexture.width,o.destinationFrame.height=o.renderTexture.height;const v=this.tempRect;v.x=0,v.y=0,v.width=o.sourceFrame.width,v.height=o.sourceFrame.height,o.renderTexture.filterFrame=o.sourceFrame,o.bindingSourceFrame.copyFrom(a.sourceFrame),o.bindingDestinationFrame.copyFrom(a.destinationFrame),o.transform=i.projection.transform,i.projection.transform=null,a.bind(o.renderTexture,o.sourceFrame,v),i.framebuffer.clear(0,0,0,0)}pop(){const e=this.defaultFilterStack,t=e.pop(),n=t.filters;this.activeState=t;const r=this.globalUniforms.uniforms;r.outputFrame=t.sourceFrame,r.resolution=t.resolution;const i=r.inputSize,s=r.inputPixel,o=r.inputClamp;if(i[0]=t.destinationFrame.width,i[1]=t.destinationFrame.height,i[2]=1/i[0],i[3]=1/i[1],s[0]=Math.round(i[0]*t.resolution),s[1]=Math.round(i[1]*t.resolution),s[2]=1/s[0],s[3]=1/s[1],o[0]=.5*s[2],o[1]=.5*s[3],o[2]=t.sourceFrame.width*i[2]-.5*s[2],o[3]=t.sourceFrame.height*i[3]-.5*s[3],t.legacy){const e=r.filterArea;e[0]=t.destinationFrame.width,e[1]=t.destinationFrame.height,e[2]=t.sourceFrame.x,e[3]=t.sourceFrame.y,r.filterClamp=r.inputClamp}this.globalUniforms.update();const a=e[e.length-1];if(this.renderer.framebuffer.blit(),1===n.length)n[0].apply(this,t.renderTexture,a.renderTexture,In.BLEND,t),this.returnFilterTexture(t.renderTexture);else{let e=t.renderTexture,r=this.getOptimalFilterTexture(e.width,e.height,t.resolution);r.filterFrame=e.filterFrame;let i=0;for(i=0;i<n.length-1;++i){1===i&&t.multisample>1&&(r=this.getOptimalFilterTexture(e.width,e.height,t.resolution),r.filterFrame=e.filterFrame),n[i].apply(this,e,r,In.CLEAR,t);const s=e;e=r,r=s}n[i].apply(this,e,a.renderTexture,In.BLEND,t),i>1&&t.multisample>1&&this.returnFilterTexture(t.renderTexture),this.returnFilterTexture(e),this.returnFilterTexture(r)}t.clear(),this.statePool.push(t)}bindAndClear(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:In.CLEAR;const{renderTexture:n,state:r}=this.renderer;if(e===this.defaultFilterStack[this.defaultFilterStack.length-1].renderTexture?this.renderer.projection.transform=this.activeState.transform:this.renderer.projection.transform=null,null!==e&&void 0!==e&&e.filterFrame){const t=this.tempRect;t.x=0,t.y=0,t.width=e.filterFrame.width,t.height=e.filterFrame.height,n.bind(e,e.filterFrame,t)}else e!==this.defaultFilterStack[this.defaultFilterStack.length-1].renderTexture?n.bind(e):this.renderer.renderTexture.bind(e,this.activeState.bindingSourceFrame,this.activeState.bindingDestinationFrame);const i=1&r.stateId||this.forceClear;(t===In.CLEAR||t===In.BLIT&&i)&&this.renderer.framebuffer.clear(0,0,0,0)}applyFilter(e,t,n,r){const i=this.renderer;i.state.set(e.state),this.bindAndClear(n,r),e.uniforms.uSampler=t,e.uniforms.filterGlobals=this.globalUniforms,i.shader.bind(e),e.legacy=!!e.program.attributeData.aTextureCoord,e.legacy?(this.quadUv.map(t._frame,t.filterFrame),i.geometry.bind(this.quadUv),i.geometry.draw(wn.TRIANGLES)):(i.geometry.bind(this.quad),i.geometry.draw(wn.TRIANGLE_STRIP))}calculateSpriteMatrix(e,t){const{sourceFrame:n,destinationFrame:r}=this.activeState,{orig:i}=t._texture,s=e.set(r.width,0,0,r.height,n.x,n.y),o=t.worldTransform.copyTo(Yi.TEMP_MATRIX);return o.invert(),s.prepend(o),s.scale(1/i.width,1/i.height),s.translate(t.anchor.x,t.anchor.y),s}destroy(){this.renderer=null,this.texturePool.clear(!1)}getOptimalFilterTexture(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:1,r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:Ln.NONE;return this.texturePool.getOptimalTexture(e,t,n,r)}getFilterTexture(e,t,n){if("number"==typeof e){const n=e;e=t,t=n}e=e||this.activeState.renderTexture;const r=this.texturePool.getOptimalTexture(e.width,e.height,t||e.resolution,n||Ln.NONE);return r.filterFrame=e.filterFrame,r}returnFilterTexture(e){this.texturePool.returnTexture(e)}emptyPool(){this.texturePool.clear(!0)}resize(){this.texturePool.setScreenSize(this.renderer.view)}transformAABB(e,t){const n=Ks[0],r=Ks[1],i=Ks[2],s=Ks[3];n.set(t.left,t.top),r.set(t.left,t.bottom),i.set(t.right,t.top),s.set(t.right,t.bottom),e.apply(n,n),e.apply(r,r),e.apply(i,i),e.apply(s,s);const o=Math.min(n.x,r.x,i.x,s.x),a=Math.min(n.y,r.y,i.y,s.y),l=Math.max(n.x,r.x,i.x,s.x),u=Math.max(n.y,r.y,i.y,s.y);t.x=o,t.y=a,t.width=l-o,t.height=u-a}roundFrame(e,t,n,r,i){if(!(e.width<=0||e.height<=0||n.width<=0||n.height<=0)){if(i){const{a:e,b:t,c:n,d:r}=i;if((Math.abs(t)>1e-4||Math.abs(n)>1e-4)&&(Math.abs(e)>1e-4||Math.abs(r)>1e-4))return}(i=i?Qs.copyFrom(i):Qs.identity()).translate(-n.x,-n.y).scale(r.width/n.width,r.height/n.height).translate(r.x,r.y),this.transformAABB(i,e),e.ceil(t),this.transformAABB(i.invert(),e)}}}Zs.extension={type:ci.RendererSystem,name:"filter"},fi.add(Zs);class Js{constructor(e){this.framebuffer=e,this.stencil=null,this.dirtyId=-1,this.dirtyFormat=-1,this.dirtySize=-1,this.multisample=Ln.NONE,this.msaaBuffer=null,this.blitFramebuffer=null,this.mipLevel=0}}const $s=new Hi;class eo{constructor(e){this.renderer=e,this.managedFramebuffers=[],this.unknownFramebuffer=new Ns(10,10),this.msaaSamples=null}contextChange(){this.disposeAll(!0);const e=this.gl=this.renderer.gl;if(this.CONTEXT_UID=this.renderer.CONTEXT_UID,this.current=this.unknownFramebuffer,this.viewport=new Hi,this.hasMRT=!0,this.writeDepthTexture=!0,1===this.renderer.context.webGLVersion){let t=this.renderer.context.extensions.drawBuffers,n=this.renderer.context.extensions.depthTexture;Bn.PREFER_ENV===vn.WEBGL_LEGACY&&(t=null,n=null),t?e.drawBuffers=e=>t.drawBuffersWEBGL(e):(this.hasMRT=!1,e.drawBuffers=()=>{}),n||(this.writeDepthTexture=!1)}else this.msaaSamples=e.getInternalformatParameter(e.RENDERBUFFER,e.RGBA8,e.SAMPLES)}bind(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0;const{gl:r}=this;if(e){const i=e.glFramebuffers[this.CONTEXT_UID]||this.initFramebuffer(e);this.current!==e&&(this.current=e,r.bindFramebuffer(r.FRAMEBUFFER,i.framebuffer)),i.mipLevel!==n&&(e.dirtyId++,e.dirtyFormat++,i.mipLevel=n),i.dirtyId!==e.dirtyId&&(i.dirtyId=e.dirtyId,i.dirtyFormat!==e.dirtyFormat?(i.dirtyFormat=e.dirtyFormat,i.dirtySize=e.dirtySize,this.updateFramebuffer(e,n)):i.dirtySize!==e.dirtySize&&(i.dirtySize=e.dirtySize,this.resizeFramebuffer(e)));for(let t=0;t<e.colorTextures.length;t++){const n=e.colorTextures[t];this.renderer.texture.unbind(n.parentTextureArray||n)}if(e.depthTexture&&this.renderer.texture.unbind(e.depthTexture),t){const e=t.width>>n,r=t.height>>n,i=e/t.width;this.setViewport(t.x*i,t.y*i,e,r)}else{const t=e.width>>n,r=e.height>>n;this.setViewport(0,0,t,r)}}else this.current&&(this.current=null,r.bindFramebuffer(r.FRAMEBUFFER,null)),t?this.setViewport(t.x,t.y,t.width,t.height):this.setViewport(0,0,this.renderer.width,this.renderer.height)}setViewport(e,t,n,r){const i=this.viewport;e=Math.round(e),t=Math.round(t),n=Math.round(n),r=Math.round(r),(i.width!==n||i.height!==r||i.x!==e||i.y!==t)&&(i.x=e,i.y=t,i.width=n,i.height=r,this.gl.viewport(e,t,n,r))}get size(){return this.current?{x:0,y:0,width:this.current.width,height:this.current.height}:{x:0,y:0,width:this.renderer.width,height:this.renderer.height}}clear(e,t,n,r){let i=arguments.length>4&&void 0!==arguments[4]?arguments[4]:_n.COLOR|_n.DEPTH;const{gl:s}=this;s.clearColor(e,t,n,r),s.clear(i)}initFramebuffer(e){const{gl:t}=this,n=new Js(t.createFramebuffer());return n.multisample=this.detectSamples(e.multisample),e.glFramebuffers[this.CONTEXT_UID]=n,this.managedFramebuffers.push(e),e.disposeRunner.add(this),n}resizeFramebuffer(e){const{gl:t}=this,n=e.glFramebuffers[this.CONTEXT_UID];if(n.stencil){let r;t.bindRenderbuffer(t.RENDERBUFFER,n.stencil),r=1===this.renderer.context.webGLVersion?t.DEPTH_STENCIL:e.depth&&e.stencil?t.DEPTH24_STENCIL8:e.depth?t.DEPTH_COMPONENT24:t.STENCIL_INDEX8,n.msaaBuffer?t.renderbufferStorageMultisample(t.RENDERBUFFER,n.multisample,r,e.width,e.height):t.renderbufferStorage(t.RENDERBUFFER,r,e.width,e.height)}const r=e.colorTextures;let i=r.length;t.drawBuffers||(i=Math.min(i,1));for(let s=0;s<i;s++){const i=r[s],o=i.parentTextureArray||i;this.renderer.texture.bind(o,0),0===s&&n.msaaBuffer&&(t.bindRenderbuffer(t.RENDERBUFFER,n.msaaBuffer),t.renderbufferStorageMultisample(t.RENDERBUFFER,n.multisample,o._glTextures[this.CONTEXT_UID].internalFormat,e.width,e.height))}e.depthTexture&&this.writeDepthTexture&&this.renderer.texture.bind(e.depthTexture,0)}updateFramebuffer(e,t){const{gl:n}=this,r=e.glFramebuffers[this.CONTEXT_UID],i=e.colorTextures;let s=i.length;n.drawBuffers||(s=Math.min(s,1)),r.multisample>1&&this.canMultisampleFramebuffer(e)?r.msaaBuffer=r.msaaBuffer||n.createRenderbuffer():r.msaaBuffer&&(n.deleteRenderbuffer(r.msaaBuffer),r.msaaBuffer=null,r.blitFramebuffer&&(r.blitFramebuffer.dispose(),r.blitFramebuffer=null));const o=[];for(let a=0;a<s;a++){const s=i[a],l=s.parentTextureArray||s;this.renderer.texture.bind(l,0),0===a&&r.msaaBuffer?(n.bindRenderbuffer(n.RENDERBUFFER,r.msaaBuffer),n.renderbufferStorageMultisample(n.RENDERBUFFER,r.multisample,l._glTextures[this.CONTEXT_UID].internalFormat,e.width,e.height),n.framebufferRenderbuffer(n.FRAMEBUFFER,n.COLOR_ATTACHMENT0,n.RENDERBUFFER,r.msaaBuffer)):(n.framebufferTexture2D(n.FRAMEBUFFER,n.COLOR_ATTACHMENT0+a,s.target,l._glTextures[this.CONTEXT_UID].texture,t),o.push(n.COLOR_ATTACHMENT0+a))}if(o.length>1&&n.drawBuffers(o),e.depthTexture&&this.writeDepthTexture){const r=e.depthTexture;this.renderer.texture.bind(r,0),n.framebufferTexture2D(n.FRAMEBUFFER,n.DEPTH_ATTACHMENT,n.TEXTURE_2D,r._glTextures[this.CONTEXT_UID].texture,t)}if(!e.stencil&&!e.depth||e.depthTexture&&this.writeDepthTexture)r.stencil&&(n.deleteRenderbuffer(r.stencil),r.stencil=null);else{let t,i;r.stencil=r.stencil||n.createRenderbuffer(),1===this.renderer.context.webGLVersion?(t=n.DEPTH_STENCIL_ATTACHMENT,i=n.DEPTH_STENCIL):e.depth&&e.stencil?(t=n.DEPTH_STENCIL_ATTACHMENT,i=n.DEPTH24_STENCIL8):e.depth?(t=n.DEPTH_ATTACHMENT,i=n.DEPTH_COMPONENT24):(t=n.STENCIL_ATTACHMENT,i=n.STENCIL_INDEX8),n.bindRenderbuffer(n.RENDERBUFFER,r.stencil),r.msaaBuffer?n.renderbufferStorageMultisample(n.RENDERBUFFER,r.multisample,i,e.width,e.height):n.renderbufferStorage(n.RENDERBUFFER,i,e.width,e.height),n.framebufferRenderbuffer(n.FRAMEBUFFER,t,n.RENDERBUFFER,r.stencil)}}canMultisampleFramebuffer(e){return 1!==this.renderer.context.webGLVersion&&e.colorTextures.length<=1&&!e.depthTexture}detectSamples(e){const{msaaSamples:t}=this;let n=Ln.NONE;if(e<=1||null===t)return n;for(let r=0;r<t.length;r++)if(t[r]<=e){n=t[r];break}return 1===n&&(n=Ln.NONE),n}blit(e,t,n){const{current:r,renderer:i,gl:s,CONTEXT_UID:o}=this;if(2!==i.context.webGLVersion||!r)return;const a=r.glFramebuffers[o];if(!a)return;if(!e){if(!a.msaaBuffer)return;const t=r.colorTextures[0];if(!t)return;a.blitFramebuffer||(a.blitFramebuffer=new Ns(r.width,r.height),a.blitFramebuffer.addColorTexture(0,t)),(e=a.blitFramebuffer).colorTextures[0]!==t&&(e.colorTextures[0]=t,e.dirtyId++,e.dirtyFormat++),(e.width!==r.width||e.height!==r.height)&&(e.width=r.width,e.height=r.height,e.dirtyId++,e.dirtySize++)}t||((t=$s).width=r.width,t.height=r.height),n||(n=t);const l=t.width===n.width&&t.height===n.height;this.bind(e),s.bindFramebuffer(s.READ_FRAMEBUFFER,a.framebuffer),s.blitFramebuffer(t.left,t.top,t.right,t.bottom,n.left,n.top,n.right,n.bottom,s.COLOR_BUFFER_BIT,l?s.NEAREST:s.LINEAR),s.bindFramebuffer(s.READ_FRAMEBUFFER,e.glFramebuffers[this.CONTEXT_UID].framebuffer)}disposeFramebuffer(e,t){const n=e.glFramebuffers[this.CONTEXT_UID],r=this.gl;if(!n)return;delete e.glFramebuffers[this.CONTEXT_UID];const i=this.managedFramebuffers.indexOf(e);i>=0&&this.managedFramebuffers.splice(i,1),e.disposeRunner.remove(this),t||(r.deleteFramebuffer(n.framebuffer),n.msaaBuffer&&r.deleteRenderbuffer(n.msaaBuffer),n.stencil&&r.deleteRenderbuffer(n.stencil)),n.blitFramebuffer&&this.disposeFramebuffer(n.blitFramebuffer,t)}disposeAll(e){const t=this.managedFramebuffers;this.managedFramebuffers=[];for(let n=0;n<t.length;n++)this.disposeFramebuffer(t[n],e)}forceStencil(){const e=this.current;if(!e)return;const t=e.glFramebuffers[this.CONTEXT_UID];if(!t||t.stencil&&e.stencil)return;e.stencil=!0;const n=e.width,r=e.height,i=this.gl,s=t.stencil=i.createRenderbuffer();let o,a;i.bindRenderbuffer(i.RENDERBUFFER,s),1===this.renderer.context.webGLVersion?(o=i.DEPTH_STENCIL_ATTACHMENT,a=i.DEPTH_STENCIL):e.depth?(o=i.DEPTH_STENCIL_ATTACHMENT,a=i.DEPTH24_STENCIL8):(o=i.STENCIL_ATTACHMENT,a=i.STENCIL_INDEX8),t.msaaBuffer?i.renderbufferStorageMultisample(i.RENDERBUFFER,t.multisample,a,n,r):i.renderbufferStorage(i.RENDERBUFFER,a,n,r),i.framebufferRenderbuffer(i.FRAMEBUFFER,o,i.RENDERBUFFER,s)}reset(){this.current=this.unknownFramebuffer,this.viewport=new Hi}destroy(){this.renderer=null}}eo.extension={type:ci.RendererSystem,name:"framebuffer"},fi.add(eo);const to={5126:4,5123:2,5121:1};class no{constructor(e){this.renderer=e,this._activeGeometry=null,this._activeVao=null,this.hasVao=!0,this.hasInstance=!0,this.canUseUInt32ElementIndex=!1,this.managedGeometries={}}contextChange(){this.disposeAll(!0);const e=this.gl=this.renderer.gl,t=this.renderer.context;if(this.CONTEXT_UID=this.renderer.CONTEXT_UID,2!==t.webGLVersion){let t=this.renderer.context.extensions.vertexArrayObject;Bn.PREFER_ENV===vn.WEBGL_LEGACY&&(t=null),t?(e.createVertexArray=()=>t.createVertexArrayOES(),e.bindVertexArray=e=>t.bindVertexArrayOES(e),e.deleteVertexArray=e=>t.deleteVertexArrayOES(e)):(this.hasVao=!1,e.createVertexArray=()=>null,e.bindVertexArray=()=>null,e.deleteVertexArray=()=>null)}if(2!==t.webGLVersion){const t=e.getExtension("ANGLE_instanced_arrays");t?(e.vertexAttribDivisor=(e,n)=>t.vertexAttribDivisorANGLE(e,n),e.drawElementsInstanced=(e,n,r,i,s)=>t.drawElementsInstancedANGLE(e,n,r,i,s),e.drawArraysInstanced=(e,n,r,i)=>t.drawArraysInstancedANGLE(e,n,r,i)):this.hasInstance=!1}this.canUseUInt32ElementIndex=2===t.webGLVersion||!!t.extensions.uint32ElementIndex}bind(e,t){t=t||this.renderer.shader.shader;const{gl:n}=this;let r=e.glVertexArrayObjects[this.CONTEXT_UID],i=!1;r||(this.managedGeometries[e.id]=e,e.disposeRunner.add(this),e.glVertexArrayObjects[this.CONTEXT_UID]=r={},i=!0);const s=r[t.program.id]||this.initGeometryVao(e,t,i);this._activeGeometry=e,this._activeVao!==s&&(this._activeVao=s,this.hasVao?n.bindVertexArray(s):this.activateVao(e,t.program)),this.updateBuffers()}reset(){this.unbind()}updateBuffers(){const e=this._activeGeometry,t=this.renderer.buffer;for(let n=0;n<e.buffers.length;n++){const r=e.buffers[n];t.update(r)}}checkCompatibility(e,t){const n=e.attributes,r=t.attributeData;for(const i in r)if(!n[i])throw new Error('shader and geometry incompatible, geometry missing the "'.concat(i,'" attribute'))}getSignature(e,t){const n=e.attributes,r=t.attributeData,i=["g",e.id];for(const s in n)r[s]&&i.push(s,r[s].location);return i.join("-")}initGeometryVao(e,t){let n=!(arguments.length>2&&void 0!==arguments[2])||arguments[2];const r=this.gl,i=this.CONTEXT_UID,s=this.renderer.buffer,o=t.program;o.glPrograms[i]||this.renderer.shader.generateProgram(t),this.checkCompatibility(e,o);const a=this.getSignature(e,o),l=e.glVertexArrayObjects[this.CONTEXT_UID];let u=l[a];if(u)return l[o.id]=u,u;const c=e.buffers,h=e.attributes,d={},f={};for(const p in c)d[p]=0,f[p]=0;for(const p in h)!h[p].size&&o.attributeData[p]?h[p].size=o.attributeData[p].size:h[p].size||console.warn("PIXI Geometry attribute '".concat(p,"' size cannot be determined (likely the bound shader does not have the attribute)")),d[h[p].buffer]+=h[p].size*to[h[p].type];for(const p in h){const e=h[p],t=e.size;void 0===e.stride&&(d[e.buffer]===t*to[e.type]?e.stride=0:e.stride=d[e.buffer]),void 0===e.start&&(e.start=f[e.buffer],f[e.buffer]+=t*to[e.type])}u=r.createVertexArray(),r.bindVertexArray(u);for(let p=0;p<c.length;p++){const e=c[p];s.bind(e),n&&e._glBuffers[i].refCount++}return this.activateVao(e,o),l[o.id]=u,l[a]=u,r.bindVertexArray(null),s.unbind(Nn.ARRAY_BUFFER),u}disposeGeometry(e,t){var n;if(!this.managedGeometries[e.id])return;delete this.managedGeometries[e.id];const r=e.glVertexArrayObjects[this.CONTEXT_UID],i=this.gl,s=e.buffers,o=null===(n=this.renderer)||void 0===n?void 0:n.buffer;if(e.disposeRunner.remove(this),r){if(o)for(let e=0;e<s.length;e++){const n=s[e]._glBuffers[this.CONTEXT_UID];n&&(n.refCount--,0===n.refCount&&!t&&o.dispose(s[e],t))}if(!t)for(const e in r)if("g"===e[0]){const t=r[e];this._activeVao===t&&this.unbind(),i.deleteVertexArray(t)}delete e.glVertexArrayObjects[this.CONTEXT_UID]}}disposeAll(e){const t=Object.keys(this.managedGeometries);for(let n=0;n<t.length;n++)this.disposeGeometry(this.managedGeometries[t[n]],e)}activateVao(e,t){const n=this.gl,r=this.CONTEXT_UID,i=this.renderer.buffer,s=e.buffers,o=e.attributes;e.indexBuffer&&i.bind(e.indexBuffer);let a=null;for(const l in o){const e=o[l],u=s[e.buffer],c=u._glBuffers[r];if(t.attributeData[l]){a!==c&&(i.bind(u),a=c);const r=t.attributeData[l].location;if(n.enableVertexAttribArray(r),n.vertexAttribPointer(r,e.size,e.type||n.FLOAT,e.normalized,e.stride,e.start),e.instance){if(!this.hasInstance)throw new Error("geometry error, GPU Instancing is not supported on this device");n.vertexAttribDivisor(r,e.divisor)}}}}draw(e,t,n,r){const{gl:i}=this,s=this._activeGeometry;if(s.indexBuffer){const o=s.indexBuffer.data.BYTES_PER_ELEMENT,a=2===o?i.UNSIGNED_SHORT:i.UNSIGNED_INT;2===o||4===o&&this.canUseUInt32ElementIndex?s.instanced?i.drawElementsInstanced(e,t||s.indexBuffer.data.length,a,(n||0)*o,r||1):i.drawElements(e,t||s.indexBuffer.data.length,a,(n||0)*o):console.warn("unsupported index buffer type: uint32")}else s.instanced?i.drawArraysInstanced(e,n,t||s.getSize(),r||1):i.drawArrays(e,n,t||s.getSize());return this}unbind(){this.gl.bindVertexArray(null),this._activeVao=null,this._activeGeometry=null}destroy(){this.renderer=null}}no.extension={type:ci.RendererSystem,name:"geometry"},fi.add(no);const ro=new Yi;class io{constructor(e,t){this._texture=e,this.mapCoord=new Yi,this.uClampFrame=new Float32Array(4),this.uClampOffset=new Float32Array(2),this._textureID=-1,this._updateID=0,this.clampOffset=0,this.clampMargin=typeof t>"u"?.5:t,this.isSimple=!1}get texture(){return this._texture}set texture(e){this._texture=e,this._textureID=-1}multiplyUvs(e,t){void 0===t&&(t=e);const n=this.mapCoord;for(let r=0;r<e.length;r+=2){const i=e[r],s=e[r+1];t[r]=i*n.a+s*n.c+n.tx,t[r+1]=i*n.b+s*n.d+n.ty}return t}update(e){const t=this._texture;if(!t||!t.valid||!e&&this._textureID===t._updateID)return!1;this._textureID=t._updateID,this._updateID++;const n=t._uvs;this.mapCoord.set(n.x1-n.x0,n.y1-n.y0,n.x3-n.x0,n.y3-n.y0,n.x0,n.y0);const r=t.orig,i=t.trim;i&&(ro.set(r.width/i.width,0,0,r.height/i.height,-i.x/i.width,-i.y/i.height),this.mapCoord.append(ro));const s=t.baseTexture,o=this.uClampFrame,a=this.clampMargin/s.resolution,l=this.clampOffset;return o[0]=(t._frame.x+a+l)/s.width,o[1]=(t._frame.y+a+l)/s.height,o[2]=(t._frame.x+t._frame.width-a+l)/s.width,o[3]=(t._frame.y+t._frame.height-a+l)/s.height,this.uClampOffset[0]=l/s.realWidth,this.uClampOffset[1]=l/s.realHeight,this.isSimple=t._frame.width===s.width&&t._frame.height===s.height&&0===t.rotate,!0}}class so extends Is{constructor(e,t,n){let r=null;"string"!=typeof e&&void 0===t&&void 0===n&&(r=e,e=void 0,t=void 0,n=void 0),super(e||"attribute vec2 aVertexPosition;\nattribute vec2 aTextureCoord;\n\nuniform mat3 projectionMatrix;\nuniform mat3 otherMatrix;\n\nvarying vec2 vMaskCoord;\nvarying vec2 vTextureCoord;\n\nvoid main(void)\n{\n    gl_Position = vec4((projectionMatrix * vec3(aVertexPosition, 1.0)).xy, 0.0, 1.0);\n\n    vTextureCoord = aTextureCoord;\n    vMaskCoord = ( otherMatrix * vec3( aTextureCoord, 1.0)  ).xy;\n}\n",t||"varying vec2 vMaskCoord;\nvarying vec2 vTextureCoord;\n\nuniform sampler2D uSampler;\nuniform sampler2D mask;\nuniform float alpha;\nuniform float npmAlpha;\nuniform vec4 maskClamp;\n\nvoid main(void)\n{\n    float clip = step(3.5,\n        step(maskClamp.x, vMaskCoord.x) +\n        step(maskClamp.y, vMaskCoord.y) +\n        step(vMaskCoord.x, maskClamp.z) +\n        step(vMaskCoord.y, maskClamp.w));\n\n    vec4 original = texture2D(uSampler, vTextureCoord);\n    vec4 masky = texture2D(mask, vMaskCoord);\n    float alphaMul = 1.0 - npmAlpha * (1.0 - masky.a);\n\n    original *= (alphaMul * masky.r * alpha * clip);\n\n    gl_FragColor = original;\n}\n",n),this.maskSprite=r,this.maskMatrix=new Yi}get maskSprite(){return this._maskSprite}set maskSprite(e){this._maskSprite=e,this._maskSprite&&(this._maskSprite.renderable=!1)}apply(e,t,n,r){const i=this._maskSprite,s=i._texture;s.valid&&(s.uvMatrix||(s.uvMatrix=new io(s,0)),s.uvMatrix.update(),this.uniforms.npmAlpha=s.baseTexture.alphaMode?0:1,this.uniforms.mask=s,this.uniforms.otherMatrix=e.calculateSpriteMatrix(this.maskMatrix,i).prepend(s.uvMatrix.mapCoord),this.uniforms.alpha=i.worldAlpha,this.uniforms.maskClamp=s.uvMatrix.uClampFrame,e.applyFilter(this,t,n,r))}}class oo{constructor(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null;this.type=On.NONE,this.autoDetect=!0,this.maskObject=e||null,this.pooled=!1,this.isMaskData=!0,this.resolution=null,this.multisample=Is.defaultMultisample,this.enabled=!0,this.colorMask=15,this._filters=null,this._stencilCounter=0,this._scissorCounter=0,this._scissorRect=null,this._scissorRectLocal=null,this._colorMask=15,this._target=null}get filter(){return this._filters?this._filters[0]:null}set filter(e){e?this._filters?this._filters[0]=e:this._filters=[e]:this._filters=null}reset(){this.pooled&&(this.maskObject=null,this.type=On.NONE,this.autoDetect=!0),this._target=null,this._scissorRectLocal=null}copyCountersOrReset(e){e?(this._stencilCounter=e._stencilCounter,this._scissorCounter=e._scissorCounter,this._scissorRect=e._scissorRect):(this._stencilCounter=0,this._scissorCounter=0,this._scissorRect=null)}}class ao{constructor(e){this.renderer=e,this.enableScissor=!0,this.alphaMaskPool=[],this.maskDataPool=[],this.maskStack=[],this.alphaMaskIndex=0}setMaskStack(e){this.maskStack=e,this.renderer.scissor.setMaskStack(e),this.renderer.stencil.setMaskStack(e)}push(e,t){let n=t;if(!n.isMaskData){const e=this.maskDataPool.pop()||new oo;e.pooled=!0,e.maskObject=t,n=e}const r=0!==this.maskStack.length?this.maskStack[this.maskStack.length-1]:null;if(n.copyCountersOrReset(r),n._colorMask=r?r._colorMask:15,n.autoDetect&&this.detect(n),n._target=e,n.type!==On.SPRITE&&this.maskStack.push(n),n.enabled)switch(n.type){case On.SCISSOR:this.renderer.scissor.push(n);break;case On.STENCIL:this.renderer.stencil.push(n);break;case On.SPRITE:n.copyCountersOrReset(null),this.pushSpriteMask(n);break;case On.COLOR:this.pushColorMask(n)}n.type===On.SPRITE&&this.maskStack.push(n)}pop(e){const t=this.maskStack.pop();if(t&&t._target===e){if(t.enabled)switch(t.type){case On.SCISSOR:this.renderer.scissor.pop(t);break;case On.STENCIL:this.renderer.stencil.pop(t.maskObject);break;case On.SPRITE:this.popSpriteMask(t);break;case On.COLOR:this.popColorMask(t)}if(t.reset(),t.pooled&&this.maskDataPool.push(t),0!==this.maskStack.length){const e=this.maskStack[this.maskStack.length-1];e.type===On.SPRITE&&e._filters&&(e._filters[0].maskSprite=e.maskObject)}}}detect(e){const t=e.maskObject;t?t.isSprite?e.type=On.SPRITE:this.enableScissor&&this.renderer.scissor.testScissor(e)?e.type=On.SCISSOR:e.type=On.STENCIL:e.type=On.COLOR}pushSpriteMask(e){const{maskObject:t}=e,n=e._target;let r=e._filters;r||(r=this.alphaMaskPool[this.alphaMaskIndex],r||(r=this.alphaMaskPool[this.alphaMaskIndex]=[new so])),r[0].resolution=e.resolution,r[0].multisample=e.multisample,r[0].maskSprite=t;const i=n.filterArea;n.filterArea=t.getBounds(!0),this.renderer.filter.push(n,r),n.filterArea=i,e._filters||this.alphaMaskIndex++}popSpriteMask(e){this.renderer.filter.pop(),e._filters?e._filters[0].maskSprite=null:(this.alphaMaskIndex--,this.alphaMaskPool[this.alphaMaskIndex][0].maskSprite=null)}pushColorMask(e){const t=e._colorMask,n=e._colorMask=t&e.colorMask;n!==t&&this.renderer.gl.colorMask(0!==(1&n),0!==(2&n),0!==(4&n),0!==(8&n))}popColorMask(e){const t=e._colorMask,n=this.maskStack.length>0?this.maskStack[this.maskStack.length-1]._colorMask:15;n!==t&&this.renderer.gl.colorMask(0!==(1&n),0!==(2&n),0!==(4&n),0!==(8&n))}destroy(){this.renderer=null}}ao.extension={type:ci.RendererSystem,name:"mask"},fi.add(ao);class lo{constructor(e){this.renderer=e,this.maskStack=[],this.glConst=0}getStackLength(){return this.maskStack.length}setMaskStack(e){const{gl:t}=this.renderer,n=this.getStackLength();this.maskStack=e;const r=this.getStackLength();r!==n&&(0===r?t.disable(this.glConst):(t.enable(this.glConst),this._useCurrent()))}_useCurrent(){}destroy(){this.renderer=null,this.maskStack=null}}const uo=new Yi,co=[],ho=class e extends lo{constructor(e){super(e),this.glConst=Bn.ADAPTER.getWebGLRenderingContext().SCISSOR_TEST}getStackLength(){const e=this.maskStack[this.maskStack.length-1];return e?e._scissorCounter:0}calcScissorRect(e){var t;if(e._scissorRectLocal)return;const n=e._scissorRect,{maskObject:r}=e,{renderer:i}=this,s=i.renderTexture,o=r.getBounds(!0,null!==(t=co.pop())&&void 0!==t?t:new Hi);this.roundFrameToPixels(o,s.current?s.current.resolution:i.resolution,s.sourceFrame,s.destinationFrame,i.projection.transform),n&&o.fit(n),e._scissorRectLocal=o}static isMatrixRotated(e){if(!e)return!1;const{a:t,b:n,c:r,d:i}=e;return(Math.abs(n)>1e-4||Math.abs(r)>1e-4)&&(Math.abs(t)>1e-4||Math.abs(i)>1e-4)}testScissor(t){const{maskObject:n}=t;if(!n.isFastRect||!n.isFastRect()||e.isMatrixRotated(n.worldTransform)||e.isMatrixRotated(this.renderer.projection.transform))return!1;this.calcScissorRect(t);const r=t._scissorRectLocal;return r.width>0&&r.height>0}roundFrameToPixels(t,n,r,i,s){e.isMatrixRotated(s)||((s=s?uo.copyFrom(s):uo.identity()).translate(-r.x,-r.y).scale(i.width/r.width,i.height/r.height).translate(i.x,i.y),this.renderer.filter.transformAABB(s,t),t.fit(i),t.x=Math.round(t.x*n),t.y=Math.round(t.y*n),t.width=Math.round(t.width*n),t.height=Math.round(t.height*n))}push(e){e._scissorRectLocal||this.calcScissorRect(e);const{gl:t}=this.renderer;e._scissorRect||t.enable(t.SCISSOR_TEST),e._scissorCounter++,e._scissorRect=e._scissorRectLocal,this._useCurrent()}pop(e){const{gl:t}=this.renderer;e&&co.push(e._scissorRectLocal),this.getStackLength()>0?this._useCurrent():t.disable(t.SCISSOR_TEST)}_useCurrent(){const e=this.maskStack[this.maskStack.length-1]._scissorRect;let t;t=this.renderer.renderTexture.current?e.y:this.renderer.height-e.height-e.y,this.renderer.gl.scissor(e.x,t,e.width,e.height)}};ho.extension={type:ci.RendererSystem,name:"scissor"};let fo=ho;fi.add(fo);class po extends lo{constructor(e){super(e),this.glConst=Bn.ADAPTER.getWebGLRenderingContext().STENCIL_TEST}getStackLength(){const e=this.maskStack[this.maskStack.length-1];return e?e._stencilCounter:0}push(e){const t=e.maskObject,{gl:n}=this.renderer,r=e._stencilCounter;0===r&&(this.renderer.framebuffer.forceStencil(),n.clearStencil(0),n.clear(n.STENCIL_BUFFER_BIT),n.enable(n.STENCIL_TEST)),e._stencilCounter++;const i=e._colorMask;0!==i&&(e._colorMask=0,n.colorMask(!1,!1,!1,!1)),n.stencilFunc(n.EQUAL,r,4294967295),n.stencilOp(n.KEEP,n.KEEP,n.INCR),t.renderable=!0,t.render(this.renderer),this.renderer.batch.flush(),t.renderable=!1,0!==i&&(e._colorMask=i,n.colorMask(0!==(1&i),0!==(2&i),0!==(4&i),0!==(8&i))),this._useCurrent()}pop(e){const t=this.renderer.gl;if(0===this.getStackLength())t.disable(t.STENCIL_TEST);else{const n=0!==this.maskStack.length?this.maskStack[this.maskStack.length-1]:null,r=n?n._colorMask:15;0!==r&&(n._colorMask=0,t.colorMask(!1,!1,!1,!1)),t.stencilOp(t.KEEP,t.KEEP,t.DECR),e.renderable=!0,e.render(this.renderer),this.renderer.batch.flush(),e.renderable=!1,0!==r&&(n._colorMask=r,t.colorMask(0!==(1&r),0!==(2&r),0!==(4&r),0!==(8&r))),this._useCurrent()}}_useCurrent(){const e=this.renderer.gl;e.stencilFunc(e.EQUAL,this.getStackLength(),4294967295),e.stencilOp(e.KEEP,e.KEEP,e.KEEP)}}po.extension={type:ci.RendererSystem,name:"stencil"},fi.add(po);class mo{constructor(e){this.renderer=e,this.plugins={},Object.defineProperties(this.plugins,{extract:{enumerable:!1,get:()=>(ar("7.0.0","renderer.plugins.extract has moved to renderer.extract"),e.extract)},prepare:{enumerable:!1,get:()=>(ar("7.0.0","renderer.plugins.prepare has moved to renderer.prepare"),e.prepare)},interaction:{enumerable:!1,get:()=>(ar("7.0.0","renderer.plugins.interaction has been deprecated, use renderer.events"),e.events)}})}init(){const e=this.rendererPlugins;for(const t in e)this.plugins[t]=new e[t](this.renderer)}destroy(){for(const e in this.plugins)this.plugins[e].destroy(),this.plugins[e]=null}}mo.extension={type:[ci.RendererSystem,ci.CanvasRendererSystem],name:"_plugin"},fi.add(mo);class go{constructor(e){this.renderer=e,this.destinationFrame=null,this.sourceFrame=null,this.defaultFrame=null,this.projectionMatrix=new Yi,this.transform=null}update(e,t,n,r){this.destinationFrame=e||this.destinationFrame||this.defaultFrame,this.sourceFrame=t||this.sourceFrame||e,this.calculateProjection(this.destinationFrame,this.sourceFrame,n,r),this.transform&&this.projectionMatrix.append(this.transform);const i=this.renderer;i.globalUniforms.uniforms.projectionMatrix=this.projectionMatrix,i.globalUniforms.update(),i.shader.shader&&i.shader.syncUniformGroup(i.shader.shader.uniforms.globals)}calculateProjection(e,t,n,r){const i=this.projectionMatrix,s=r?-1:1;i.identity(),i.a=1/t.width*2,i.d=s*(1/t.height*2),i.tx=-1-t.x*i.a,i.ty=-s-t.y*i.d}setTransform(e){}destroy(){this.renderer=null}}go.extension={type:ci.RendererSystem,name:"projection"},fi.add(go);const yo=["region"],vo=new is,bo=new Hi;class _o{constructor(e){this.renderer=e,this._tempMatrix=new Yi}generateTexture(e,t){var n;const r=t||{},{region:s}=r,o=i(r,yo),a=(null===s||void 0===s?void 0:s.copyTo(bo))||e.getLocalBounds(bo,!0),l=o.resolution||this.renderer.resolution;a.width=Math.max(a.width,1/l),a.height=Math.max(a.height,1/l),o.width=a.width,o.height=a.height,o.resolution=l,null!==(n=o.multisample)&&void 0!==n||(o.multisample=this.renderer.multisample);const u=Ws.create(o);this._tempMatrix.tx=-a.x,this._tempMatrix.ty=-a.y;const c=e.transform;return e.transform=vo,this.renderer.render(e,{renderTexture:u,transform:this._tempMatrix,skipUpdateTransform:!!e.parent,blit:!0}),e.transform=c,u}destroy(){}}_o.extension={type:[ci.RendererSystem,ci.CanvasRendererSystem],name:"textureGenerator"},fi.add(_o);const xo=new Hi,wo=new Hi;class Ao{constructor(e){this.renderer=e,this.defaultMaskStack=[],this.current=null,this.sourceFrame=new Hi,this.destinationFrame=new Hi,this.viewportFrame=new Hi}contextChange(){var e;const t=null===(e=this.renderer)||void 0===e?void 0:e.gl.getContextAttributes();this._rendererPremultipliedAlpha=!!(t&&t.alpha&&t.premultipliedAlpha)}bind(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null,t=arguments.length>1?arguments[1]:void 0,n=arguments.length>2?arguments[2]:void 0;const r=this.renderer;let i,s,o;this.current=e,e?(i=e.baseTexture,o=i.resolution,t||(xo.width=e.frame.width,xo.height=e.frame.height,t=xo),n||(wo.x=e.frame.x,wo.y=e.frame.y,wo.width=t.width,wo.height=t.height,n=wo),s=i.framebuffer):(o=r.resolution,t||(xo.width=r._view.screen.width,xo.height=r._view.screen.height,t=xo),n||(n=xo,n.width=t.width,n.height=t.height));const a=this.viewportFrame;a.x=n.x*o,a.y=n.y*o,a.width=n.width*o,a.height=n.height*o,e||(a.y=r.view.height-(a.y+a.height)),a.ceil(),this.renderer.framebuffer.bind(s,a),this.renderer.projection.update(n,t,o,!s),e?this.renderer.mask.setMaskStack(i.maskStack):this.renderer.mask.setMaskStack(this.defaultMaskStack),this.sourceFrame.copyFrom(t),this.destinationFrame.copyFrom(n)}clear(e,t){const n=this.current?this.current.baseTexture.clear:this.renderer.background.backgroundColor,r=jr.shared.setValue(e||n);(this.current&&this.current.baseTexture.alphaMode>0||!this.current&&this._rendererPremultipliedAlpha)&&r.premultiply(r.alpha);const i=this.destinationFrame,s=this.current?this.current.baseTexture:this.renderer._view.screen,o=i.width!==s.width||i.height!==s.height;if(o){let{x:e,y:t,width:n,height:r}=this.viewportFrame;e=Math.round(e),t=Math.round(t),n=Math.round(n),r=Math.round(r),this.renderer.gl.enable(this.renderer.gl.SCISSOR_TEST),this.renderer.gl.scissor(e,t,n,r)}this.renderer.framebuffer.clear(r.red,r.green,r.blue,r.alpha,t),o&&this.renderer.scissor.pop()}resize(){this.bind(null)}reset(){this.bind(null)}destroy(){this.renderer=null}}Ao.extension={type:ci.RendererSystem,name:"renderTexture"},fi.add(Ao);class Eo{constructor(e,t){this.program=e,this.uniformData=t,this.uniformGroups={},this.uniformDirtyGroups={},this.uniformBufferBindings={}}destroy(){this.uniformData=null,this.uniformGroups=null,this.uniformDirtyGroups=null,this.uniformBufferBindings=null,this.program=null}}function So(e,t,n){const r=e.createShader(t);return e.shaderSource(r,n),e.compileShader(r),r}function To(e){const t=new Array(e);for(let n=0;n<t.length;n++)t[n]=!1;return t}function Co(e,t){switch(e){case"float":case"int":case"uint":case"sampler2D":case"sampler2DArray":return 0;case"vec2":return new Float32Array(2*t);case"vec3":return new Float32Array(3*t);case"vec4":return new Float32Array(4*t);case"ivec2":return new Int32Array(2*t);case"ivec3":return new Int32Array(3*t);case"ivec4":return new Int32Array(4*t);case"uvec2":return new Uint32Array(2*t);case"uvec3":return new Uint32Array(3*t);case"uvec4":return new Uint32Array(4*t);case"bool":return!1;case"bvec2":return To(2*t);case"bvec3":return To(3*t);case"bvec4":return To(4*t);case"mat2":return new Float32Array([1,0,0,1]);case"mat3":return new Float32Array([1,0,0,0,1,0,0,0,1]);case"mat4":return new Float32Array([1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1])}return null}function ko(e,t){const n=e.getShaderSource(t).split("\n").map((e,t)=>"".concat(t,": ").concat(e)),r=e.getShaderInfoLog(t),i=r.split("\n"),s={},o=i.map(e=>parseFloat(e.replace(/^ERROR\: 0\:([\d]+)\:.*$/,"$1"))).filter(e=>!(!e||s[e])&&(s[e]=!0,!0)),a=[""];o.forEach(e=>{n[e-1]="%c".concat(n[e-1],"%c"),a.push("background: #FF0000; color:#FFFFFF; font-size: 10px","font-size: 10px")});const l=n.join("\n");a[0]=l,console.error(r),console.groupCollapsed("click to view full shader code"),console.warn(...a),console.groupEnd()}function Ro(e,t){var n;const r=So(e,e.VERTEX_SHADER,t.vertexSrc),i=So(e,e.FRAGMENT_SHADER,t.fragmentSrc),s=e.createProgram();e.attachShader(s,r),e.attachShader(s,i);const o=null===(n=t.extra)||void 0===n?void 0:n.transformFeedbackVaryings;if(o&&("function"!=typeof e.transformFeedbackVaryings?console.warn("TransformFeedback is not supported but TransformFeedbackVaryings are given."):e.transformFeedbackVaryings(s,o.names,"separate"===o.bufferMode?e.SEPARATE_ATTRIBS:e.INTERLEAVED_ATTRIBS)),e.linkProgram(s),e.getProgramParameter(s,e.LINK_STATUS)||function(e,t,n,r){e.getProgramParameter(t,e.LINK_STATUS)||(e.getShaderParameter(n,e.COMPILE_STATUS)||ko(e,n),e.getShaderParameter(r,e.COMPILE_STATUS)||ko(e,r),console.error("PixiJS Error: Could not initialize shader."),""!==e.getProgramInfoLog(t)&&console.warn("PixiJS Warning: gl.getProgramInfoLog()",e.getProgramInfoLog(t)))}(e,s,r,i),t.attributeData=function(e,t){const n={},r=t.getProgramParameter(e,t.ACTIVE_ATTRIBUTES);for(let i=0;i<r;i++){const r=t.getActiveAttrib(e,i);if(r.name.startsWith("gl_"))continue;const s=gs(t,r.type),o={type:s,name:r.name,size:fs(s),location:t.getAttribLocation(e,r.name)};n[r.name]=o}return n}(s,e),t.uniformData=function(e,t){const n={},r=t.getProgramParameter(e,t.ACTIVE_UNIFORMS);for(let i=0;i<r;i++){const r=t.getActiveUniform(e,i),s=r.name.replace(/\[.*?\]$/,""),o=!!r.name.match(/\[.*?\]$/),a=gs(t,r.type);n[s]={name:s,index:i,type:a,size:r.size,isArray:o,value:Co(a,r.size)}}return n}(s,e),!/^[ \t]*#[ \t]*version[ \t]+300[ \t]+es[ \t]*$/m.test(t.vertexSrc)){const n=Object.keys(t.attributeData);n.sort((e,t)=>e>t?1:-1);for(let r=0;r<n.length;r++)t.attributeData[n[r]].location=r,e.bindAttribLocation(s,r,n[r]);e.linkProgram(s)}e.deleteShader(r),e.deleteShader(i);const a={};for(const l in t.uniformData){const n=t.uniformData[l];a[l]={location:e.getUniformLocation(s,l),value:Co(n.type,n.size)}}return new Eo(s,a)}function Po(e,t,n,r,i){n.buffer.update(i)}const Io={float:"\n        data[offset] = v;\n    ",vec2:"\n        data[offset] = v[0];\n        data[offset+1] = v[1];\n    ",vec3:"\n        data[offset] = v[0];\n        data[offset+1] = v[1];\n        data[offset+2] = v[2];\n\n    ",vec4:"\n        data[offset] = v[0];\n        data[offset+1] = v[1];\n        data[offset+2] = v[2];\n        data[offset+3] = v[3];\n    ",mat2:"\n        data[offset] = v[0];\n        data[offset+1] = v[1];\n\n        data[offset+4] = v[2];\n        data[offset+5] = v[3];\n    ",mat3:"\n        data[offset] = v[0];\n        data[offset+1] = v[1];\n        data[offset+2] = v[2];\n\n        data[offset + 4] = v[3];\n        data[offset + 5] = v[4];\n        data[offset + 6] = v[5];\n\n        data[offset + 8] = v[6];\n        data[offset + 9] = v[7];\n        data[offset + 10] = v[8];\n    ",mat4:"\n        for(var i = 0; i < 16; i++)\n        {\n            data[offset + i] = v[i];\n        }\n    "},Mo={float:4,vec2:8,vec3:12,vec4:16,int:4,ivec2:8,ivec3:12,ivec4:16,uint:4,uvec2:8,uvec3:12,uvec4:16,bool:4,bvec2:8,bvec3:12,bvec4:16,mat2:32,mat3:48,mat4:64};function Do(e,t){if(!e.autoManage)return{size:0,syncFunc:Po};const n=function(e,t){const n=[];for(const r in e)t[r]&&n.push(t[r]);return n.sort((e,t)=>e.index-t.index),n}(e.uniforms,t),{uboElements:r,size:i}=function(e){const t=e.map(e=>({data:e,offset:0,dataLen:0,dirty:0}));let n=0,r=0,i=0;for(let s=0;s<t.length;s++){const e=t[s];if(n=Mo[e.data.type],e.data.size>1&&(n=Math.max(n,16)*e.data.size),e.dataLen=n,r%n!==0&&r<16){const e=r%n%16;r+=e,i+=e}r+n>16?(i=16*Math.ceil(i/16),e.offset=i,i+=n,r=n):(e.offset=i,r+=n,i+=n)}return i=16*Math.ceil(i/16),{uboElements:t,size:i}}(n),s=["\n    var v = null;\n    var v2 = null;\n    var cv = null;\n    var t = 0;\n    var gl = renderer.gl\n    var index = 0;\n    var data = buffer.data;\n    "];for(let o=0;o<r.length;o++){const t=r[o],n=e.uniforms[t.data.name],i=t.data.name;let a=!1;for(let e=0;e<ss.length;e++){const r=ss[e];if(r.codeUbo&&r.test(t.data,n)){s.push("offset = ".concat(t.offset/4,";"),ss[e].codeUbo(t.data.name,n)),a=!0;break}}if(!a)if(t.data.size>1){const e=fs(t.data.type),n=Math.max(Mo[t.data.type]/16,1),r=e/n,o=(4-r%4)%4;s.push("\n                cv = ud.".concat(i,".value;\n                v = uv.").concat(i,";\n                offset = ").concat(t.offset/4,";\n\n                t = 0;\n\n                for(var i=0; i < ").concat(t.data.size*n,"; i++)\n                {\n                    for(var j = 0; j < ").concat(r,"; j++)\n                    {\n                        data[offset++] = v[t++];\n                    }\n                    offset += ").concat(o,";\n                }\n\n                "))}else{const e=Io[t.data.type];s.push("\n                cv = ud.".concat(i,".value;\n                v = uv.").concat(i,";\n                offset = ").concat(t.offset/4,";\n                ").concat(e,";\n                "))}}return s.push("\n       renderer.buffer.update(buffer);\n    "),{size:i,syncFunc:new Function("ud","uv","renderer","syncData","buffer",s.join("\n"))}}let Oo;let Lo=0;const No={textureCount:0,uboCount:0};class Fo{constructor(e){this.destroyed=!1,this.renderer=e,this.systemCheck(),this.gl=null,this.shader=null,this.program=null,this.cache={},this._uboCache={},this.id=Lo++}systemCheck(){if(!function(){if("boolean"==typeof Oo)return Oo;try{Oo=!0===new Function("param1","param2","param3","return param1[param2] === param3;")({a:"b"},"a","b")}catch(e){Oo=!1}return Oo}())throw new Error("Current environment does not allow unsafe-eval, please use @pixi/unsafe-eval module to enable support.")}contextChange(e){this.gl=e,this.reset()}bind(e,t){e.disposeRunner.add(this),e.uniforms.globals=this.renderer.globalUniforms;const n=e.program,r=n.glPrograms[this.renderer.CONTEXT_UID]||this.generateProgram(e);return this.shader=e,this.program!==n&&(this.program=n,this.gl.useProgram(r.program)),t||(No.textureCount=0,No.uboCount=0,this.syncUniformGroup(e.uniformGroup,No)),r}setUniforms(e){const t=this.shader.program,n=t.glPrograms[this.renderer.CONTEXT_UID];t.syncUniforms(n.uniformData,e,this.renderer)}syncUniformGroup(e,t){const n=this.getGlProgram();(!e.static||e.dirtyId!==n.uniformDirtyGroups[e.id])&&(n.uniformDirtyGroups[e.id]=e.dirtyId,this.syncUniforms(e,n,t))}syncUniforms(e,t,n){(e.syncUniforms[this.shader.program.id]||this.createSyncGroups(e))(t.uniformData,e.uniforms,this.renderer,n)}createSyncGroups(e){const t=this.getSignature(e,this.shader.program.uniformData,"u");return this.cache[t]||(this.cache[t]=function(e,t){const n=["\n        var v = null;\n        var cv = null;\n        var cu = null;\n        var t = 0;\n        var gl = renderer.gl;\n    "];for(const i in e.uniforms){const s=t[i];if(!s){var r;!0===(null===(r=e.uniforms[i])||void 0===r?void 0:r.group)&&(e.uniforms[i].ubo?n.push("\n                        renderer.shader.syncUniformBufferGroup(uv.".concat(i,", '").concat(i,"');\n                    ")):n.push("\n                        renderer.shader.syncUniformGroup(uv.".concat(i,", syncData);\n                    ")));continue}const o=e.uniforms[i];let a=!1;for(let e=0;e<ss.length;e++)if(ss[e].test(s,o)){n.push(ss[e].code(i,o)),a=!0;break}if(!a){const e=(1!==s.size||s.isArray?as:os)[s.type].replace("location",'ud["'.concat(i,'"].location'));n.push('\n            cu = ud["'.concat(i,'"];\n            cv = cu.value;\n            v = uv["').concat(i,'"];\n            ').concat(e,";"))}}return new Function("ud","uv","renderer","syncData",n.join("\n"))}(e,this.shader.program.uniformData)),e.syncUniforms[this.shader.program.id]=this.cache[t],e.syncUniforms[this.shader.program.id]}syncUniformBufferGroup(e,t){const n=this.getGlProgram();if(!e.static||0!==e.dirtyId||!n.uniformGroups[e.id]){e.dirtyId=0;const r=n.uniformGroups[e.id]||this.createSyncBufferGroup(e,n,t);e.buffer.update(),r(n.uniformData,e.uniforms,this.renderer,No,e.buffer)}this.renderer.buffer.bindBufferBase(e.buffer,n.uniformBufferBindings[t])}createSyncBufferGroup(e,t,n){const{gl:r}=this.renderer;this.renderer.buffer.bind(e.buffer);const i=this.gl.getUniformBlockIndex(t.program,n);t.uniformBufferBindings[n]=this.shader.uniformBindCount,r.uniformBlockBinding(t.program,i,this.shader.uniformBindCount),this.shader.uniformBindCount++;const s=this.getSignature(e,this.shader.program.uniformData,"ubo");let o=this._uboCache[s];if(o||(o=this._uboCache[s]=Do(e,this.shader.program.uniformData)),e.autoManage){const t=new Float32Array(o.size/4);e.buffer.update(t)}return t.uniformGroups[e.id]=o.syncFunc,t.uniformGroups[e.id]}getSignature(e,t,n){const r=e.uniforms,i=["".concat(n,"-")];for(const s in r)i.push(s),t[s]&&i.push(t[s].type);return i.join("-")}getGlProgram(){return this.shader?this.shader.program.glPrograms[this.renderer.CONTEXT_UID]:null}generateProgram(e){const t=this.gl,n=e.program,r=Ro(t,n);return n.glPrograms[this.renderer.CONTEXT_UID]=r,r}reset(){this.program=null,this.shader=null}disposeShader(e){this.shader===e&&(this.shader=null)}destroy(){this.renderer=null,this.destroyed=!0}}Fo.extension={type:ci.RendererSystem,name:"shader"},fi.add(Fo);class Bo{constructor(e){this.renderer=e}run(e){const{renderer:t}=this;t.runners.init.emit(t.options),e.hello&&console.log("PixiJS 7.4.3 - ".concat(t.rendererLogId," - https://pixijs.com")),t.resize(t.screen.width,t.screen.height)}destroy(){}}Bo.defaultOptions={hello:!1},Bo.extension={type:[ci.RendererSystem,ci.CanvasRendererSystem],name:"startup"},fi.add(Bo);const Uo=class e{constructor(){this.gl=null,this.stateId=0,this.polygonOffset=0,this.blendMode=xn.NONE,this._blendEq=!1,this.map=[],this.map[0]=this.setBlend,this.map[1]=this.setOffset,this.map[2]=this.setCullFace,this.map[3]=this.setDepthTest,this.map[4]=this.setFrontFace,this.map[5]=this.setDepthMask,this.checks=[],this.defaultState=new yi,this.defaultState.blend=!0}contextChange(e){this.gl=e,this.blendModes=function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[];return t[xn.NORMAL]=[e.ONE,e.ONE_MINUS_SRC_ALPHA],t[xn.ADD]=[e.ONE,e.ONE],t[xn.MULTIPLY]=[e.DST_COLOR,e.ONE_MINUS_SRC_ALPHA,e.ONE,e.ONE_MINUS_SRC_ALPHA],t[xn.SCREEN]=[e.ONE,e.ONE_MINUS_SRC_COLOR,e.ONE,e.ONE_MINUS_SRC_ALPHA],t[xn.OVERLAY]=[e.ONE,e.ONE_MINUS_SRC_ALPHA],t[xn.DARKEN]=[e.ONE,e.ONE_MINUS_SRC_ALPHA],t[xn.LIGHTEN]=[e.ONE,e.ONE_MINUS_SRC_ALPHA],t[xn.COLOR_DODGE]=[e.ONE,e.ONE_MINUS_SRC_ALPHA],t[xn.COLOR_BURN]=[e.ONE,e.ONE_MINUS_SRC_ALPHA],t[xn.HARD_LIGHT]=[e.ONE,e.ONE_MINUS_SRC_ALPHA],t[xn.SOFT_LIGHT]=[e.ONE,e.ONE_MINUS_SRC_ALPHA],t[xn.DIFFERENCE]=[e.ONE,e.ONE_MINUS_SRC_ALPHA],t[xn.EXCLUSION]=[e.ONE,e.ONE_MINUS_SRC_ALPHA],t[xn.HUE]=[e.ONE,e.ONE_MINUS_SRC_ALPHA],t[xn.SATURATION]=[e.ONE,e.ONE_MINUS_SRC_ALPHA],t[xn.COLOR]=[e.ONE,e.ONE_MINUS_SRC_ALPHA],t[xn.LUMINOSITY]=[e.ONE,e.ONE_MINUS_SRC_ALPHA],t[xn.NONE]=[0,0],t[xn.NORMAL_NPM]=[e.SRC_ALPHA,e.ONE_MINUS_SRC_ALPHA,e.ONE,e.ONE_MINUS_SRC_ALPHA],t[xn.ADD_NPM]=[e.SRC_ALPHA,e.ONE,e.ONE,e.ONE],t[xn.SCREEN_NPM]=[e.SRC_ALPHA,e.ONE_MINUS_SRC_COLOR,e.ONE,e.ONE_MINUS_SRC_ALPHA],t[xn.SRC_IN]=[e.DST_ALPHA,e.ZERO],t[xn.SRC_OUT]=[e.ONE_MINUS_DST_ALPHA,e.ZERO],t[xn.SRC_ATOP]=[e.DST_ALPHA,e.ONE_MINUS_SRC_ALPHA],t[xn.DST_OVER]=[e.ONE_MINUS_DST_ALPHA,e.ONE],t[xn.DST_IN]=[e.ZERO,e.SRC_ALPHA],t[xn.DST_OUT]=[e.ZERO,e.ONE_MINUS_SRC_ALPHA],t[xn.DST_ATOP]=[e.ONE_MINUS_DST_ALPHA,e.SRC_ALPHA],t[xn.XOR]=[e.ONE_MINUS_DST_ALPHA,e.ONE_MINUS_SRC_ALPHA],t[xn.SUBTRACT]=[e.ONE,e.ONE,e.ONE,e.ONE,e.FUNC_REVERSE_SUBTRACT,e.FUNC_ADD],t}(e),this.set(this.defaultState),this.reset()}set(e){if(e=e||this.defaultState,this.stateId!==e.data){let t=this.stateId^e.data,n=0;for(;t;)1&t&&this.map[n].call(this,!!(e.data&1<<n)),t>>=1,n++;this.stateId=e.data}for(let t=0;t<this.checks.length;t++)this.checks[t](this,e)}forceState(e){e=e||this.defaultState;for(let t=0;t<this.map.length;t++)this.map[t].call(this,!!(e.data&1<<t));for(let t=0;t<this.checks.length;t++)this.checks[t](this,e);this.stateId=e.data}setBlend(t){this.updateCheck(e.checkBlendMode,t),this.gl[t?"enable":"disable"](this.gl.BLEND)}setOffset(t){this.updateCheck(e.checkPolygonOffset,t),this.gl[t?"enable":"disable"](this.gl.POLYGON_OFFSET_FILL)}setDepthTest(e){this.gl[e?"enable":"disable"](this.gl.DEPTH_TEST)}setDepthMask(e){this.gl.depthMask(e)}setCullFace(e){this.gl[e?"enable":"disable"](this.gl.CULL_FACE)}setFrontFace(e){this.gl.frontFace(this.gl[e?"CW":"CCW"])}setBlendMode(e){if(e===this.blendMode)return;this.blendMode=e;const t=this.blendModes[e],n=this.gl;2===t.length?n.blendFunc(t[0],t[1]):n.blendFuncSeparate(t[0],t[1],t[2],t[3]),6===t.length?(this._blendEq=!0,n.blendEquationSeparate(t[4],t[5])):this._blendEq&&(this._blendEq=!1,n.blendEquationSeparate(n.FUNC_ADD,n.FUNC_ADD))}setPolygonOffset(e,t){this.gl.polygonOffset(e,t)}reset(){this.gl.pixelStorei(this.gl.UNPACK_FLIP_Y_WEBGL,!1),this.forceState(this.defaultState),this._blendEq=!0,this.blendMode=-1,this.setBlendMode(0)}updateCheck(e,t){const n=this.checks.indexOf(e);t&&-1===n?this.checks.push(e):!t&&-1!==n&&this.checks.splice(n,1)}static checkBlendMode(e,t){e.setBlendMode(t.blendMode)}static checkPolygonOffset(e,t){e.setPolygonOffset(1,t.polygonOffset)}destroy(){this.gl=null}};Uo.extension={type:ci.RendererSystem,name:"state"};let Go=Uo;fi.add(Go);class zo extends ir{constructor(){super(...arguments),this.runners={},this._systemsHash={}}setup(e){var t;this.addRunners(...e.runners);const n=(null!==(t=e.priority)&&void 0!==t?t:[]).filter(t=>e.systems[t]),r=[...n,...Object.keys(e.systems).filter(e=>!n.includes(e))];for(const i of r)this.addSystem(e.systems[i],i)}addRunners(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];t.forEach(e=>{this.runners[e]=new _i(e)})}addSystem(e,t){const n=new e(this);if(this[t])throw new Error('Whoops! The name "'.concat(t,'" is already in use'));this[t]=n,this._systemsHash[t]=n;for(const r in this.runners)this.runners[r].add(n);return this}emitWithCustomOptions(e,t){const n=Object.keys(this._systemsHash);e.items.forEach(r=>{const i=n.find(e=>this._systemsHash[e]===r);r[e.name](t[i])})}destroy(){Object.values(this.runners).forEach(e=>{e.destroy()}),this._systemsHash={}}}const Ho=class e{constructor(t){this.renderer=t,this.count=0,this.checkCount=0,this.maxIdle=e.defaultMaxIdle,this.checkCountMax=e.defaultCheckCountMax,this.mode=e.defaultMode}postrender(){this.renderer.objectRenderer.renderingToScreen&&(this.count++,this.mode!==Mn.MANUAL&&(this.checkCount++,this.checkCount>this.checkCountMax&&(this.checkCount=0,this.run())))}run(){const e=this.renderer.texture,t=e.managedTextures;let n=!1;for(let r=0;r<t.length;r++){const i=t[r];i.resource&&this.count-i.touched>this.maxIdle&&(e.destroyTexture(i,!0),t[r]=null,n=!0)}if(n){let e=0;for(let n=0;n<t.length;n++)null!==t[n]&&(t[e++]=t[n]);t.length=e}}unload(e){const t=this.renderer.texture,n=e._texture;n&&!n.framebuffer&&t.destroyTexture(n);for(let r=e.children.length-1;r>=0;r--)this.unload(e.children[r])}destroy(){this.renderer=null}};Ho.defaultMode=Mn.AUTO,Ho.defaultMaxIdle=3600,Ho.defaultCheckCountMax=600,Ho.extension={type:ci.RendererSystem,name:"textureGC"};let jo=Ho;fi.add(jo);class Wo{constructor(e){this.texture=e,this.width=-1,this.height=-1,this.dirtyId=-1,this.dirtyStyleId=-1,this.mipmap=!1,this.wrapMode=33071,this.type=Sn.UNSIGNED_BYTE,this.internalFormat=An.RGBA,this.samplerType=0}}class Vo{constructor(e){this.renderer=e,this.boundTextures=[],this.currentLocation=-1,this.managedTextures=[],this._unknownBoundTextures=!1,this.unknownTexture=new Si,this.hasIntegerTextures=!1}contextChange(){const e=this.gl=this.renderer.gl;this.CONTEXT_UID=this.renderer.CONTEXT_UID,this.webGLVersion=this.renderer.context.webGLVersion,this.internalFormats=function(e){let t;return t="WebGL2RenderingContext"in globalThis&&e instanceof globalThis.WebGL2RenderingContext?{[Sn.UNSIGNED_BYTE]:{[An.RGBA]:e.RGBA8,[An.RGB]:e.RGB8,[An.RG]:e.RG8,[An.RED]:e.R8,[An.RGBA_INTEGER]:e.RGBA8UI,[An.RGB_INTEGER]:e.RGB8UI,[An.RG_INTEGER]:e.RG8UI,[An.RED_INTEGER]:e.R8UI,[An.ALPHA]:e.ALPHA,[An.LUMINANCE]:e.LUMINANCE,[An.LUMINANCE_ALPHA]:e.LUMINANCE_ALPHA},[Sn.BYTE]:{[An.RGBA]:e.RGBA8_SNORM,[An.RGB]:e.RGB8_SNORM,[An.RG]:e.RG8_SNORM,[An.RED]:e.R8_SNORM,[An.RGBA_INTEGER]:e.RGBA8I,[An.RGB_INTEGER]:e.RGB8I,[An.RG_INTEGER]:e.RG8I,[An.RED_INTEGER]:e.R8I},[Sn.UNSIGNED_SHORT]:{[An.RGBA_INTEGER]:e.RGBA16UI,[An.RGB_INTEGER]:e.RGB16UI,[An.RG_INTEGER]:e.RG16UI,[An.RED_INTEGER]:e.R16UI,[An.DEPTH_COMPONENT]:e.DEPTH_COMPONENT16},[Sn.SHORT]:{[An.RGBA_INTEGER]:e.RGBA16I,[An.RGB_INTEGER]:e.RGB16I,[An.RG_INTEGER]:e.RG16I,[An.RED_INTEGER]:e.R16I},[Sn.UNSIGNED_INT]:{[An.RGBA_INTEGER]:e.RGBA32UI,[An.RGB_INTEGER]:e.RGB32UI,[An.RG_INTEGER]:e.RG32UI,[An.RED_INTEGER]:e.R32UI,[An.DEPTH_COMPONENT]:e.DEPTH_COMPONENT24},[Sn.INT]:{[An.RGBA_INTEGER]:e.RGBA32I,[An.RGB_INTEGER]:e.RGB32I,[An.RG_INTEGER]:e.RG32I,[An.RED_INTEGER]:e.R32I},[Sn.FLOAT]:{[An.RGBA]:e.RGBA32F,[An.RGB]:e.RGB32F,[An.RG]:e.RG32F,[An.RED]:e.R32F,[An.DEPTH_COMPONENT]:e.DEPTH_COMPONENT32F},[Sn.HALF_FLOAT]:{[An.RGBA]:e.RGBA16F,[An.RGB]:e.RGB16F,[An.RG]:e.RG16F,[An.RED]:e.R16F},[Sn.UNSIGNED_SHORT_5_6_5]:{[An.RGB]:e.RGB565},[Sn.UNSIGNED_SHORT_4_4_4_4]:{[An.RGBA]:e.RGBA4},[Sn.UNSIGNED_SHORT_5_5_5_1]:{[An.RGBA]:e.RGB5_A1},[Sn.UNSIGNED_INT_2_10_10_10_REV]:{[An.RGBA]:e.RGB10_A2,[An.RGBA_INTEGER]:e.RGB10_A2UI},[Sn.UNSIGNED_INT_10F_11F_11F_REV]:{[An.RGB]:e.R11F_G11F_B10F},[Sn.UNSIGNED_INT_5_9_9_9_REV]:{[An.RGB]:e.RGB9_E5},[Sn.UNSIGNED_INT_24_8]:{[An.DEPTH_STENCIL]:e.DEPTH24_STENCIL8},[Sn.FLOAT_32_UNSIGNED_INT_24_8_REV]:{[An.DEPTH_STENCIL]:e.DEPTH32F_STENCIL8}}:{[Sn.UNSIGNED_BYTE]:{[An.RGBA]:e.RGBA,[An.RGB]:e.RGB,[An.ALPHA]:e.ALPHA,[An.LUMINANCE]:e.LUMINANCE,[An.LUMINANCE_ALPHA]:e.LUMINANCE_ALPHA},[Sn.UNSIGNED_SHORT_5_6_5]:{[An.RGB]:e.RGB},[Sn.UNSIGNED_SHORT_4_4_4_4]:{[An.RGBA]:e.RGBA},[Sn.UNSIGNED_SHORT_5_5_5_1]:{[An.RGBA]:e.RGBA}},t}(e),this.samplerTypes=function(e){let t;return t="WebGL2RenderingContext"in globalThis&&e instanceof globalThis.WebGL2RenderingContext?{[e.RGB]:Tn.FLOAT,[e.RGBA]:Tn.FLOAT,[e.ALPHA]:Tn.FLOAT,[e.LUMINANCE]:Tn.FLOAT,[e.LUMINANCE_ALPHA]:Tn.FLOAT,[e.R8]:Tn.FLOAT,[e.R8_SNORM]:Tn.FLOAT,[e.RG8]:Tn.FLOAT,[e.RG8_SNORM]:Tn.FLOAT,[e.RGB8]:Tn.FLOAT,[e.RGB8_SNORM]:Tn.FLOAT,[e.RGB565]:Tn.FLOAT,[e.RGBA4]:Tn.FLOAT,[e.RGB5_A1]:Tn.FLOAT,[e.RGBA8]:Tn.FLOAT,[e.RGBA8_SNORM]:Tn.FLOAT,[e.RGB10_A2]:Tn.FLOAT,[e.RGB10_A2UI]:Tn.FLOAT,[e.SRGB8]:Tn.FLOAT,[e.SRGB8_ALPHA8]:Tn.FLOAT,[e.R16F]:Tn.FLOAT,[e.RG16F]:Tn.FLOAT,[e.RGB16F]:Tn.FLOAT,[e.RGBA16F]:Tn.FLOAT,[e.R32F]:Tn.FLOAT,[e.RG32F]:Tn.FLOAT,[e.RGB32F]:Tn.FLOAT,[e.RGBA32F]:Tn.FLOAT,[e.R11F_G11F_B10F]:Tn.FLOAT,[e.RGB9_E5]:Tn.FLOAT,[e.R8I]:Tn.INT,[e.R8UI]:Tn.UINT,[e.R16I]:Tn.INT,[e.R16UI]:Tn.UINT,[e.R32I]:Tn.INT,[e.R32UI]:Tn.UINT,[e.RG8I]:Tn.INT,[e.RG8UI]:Tn.UINT,[e.RG16I]:Tn.INT,[e.RG16UI]:Tn.UINT,[e.RG32I]:Tn.INT,[e.RG32UI]:Tn.UINT,[e.RGB8I]:Tn.INT,[e.RGB8UI]:Tn.UINT,[e.RGB16I]:Tn.INT,[e.RGB16UI]:Tn.UINT,[e.RGB32I]:Tn.INT,[e.RGB32UI]:Tn.UINT,[e.RGBA8I]:Tn.INT,[e.RGBA8UI]:Tn.UINT,[e.RGBA16I]:Tn.INT,[e.RGBA16UI]:Tn.UINT,[e.RGBA32I]:Tn.INT,[e.RGBA32UI]:Tn.UINT,[e.DEPTH_COMPONENT16]:Tn.FLOAT,[e.DEPTH_COMPONENT24]:Tn.FLOAT,[e.DEPTH_COMPONENT32F]:Tn.FLOAT,[e.DEPTH_STENCIL]:Tn.FLOAT,[e.DEPTH24_STENCIL8]:Tn.FLOAT,[e.DEPTH32F_STENCIL8]:Tn.FLOAT}:{[e.RGB]:Tn.FLOAT,[e.RGBA]:Tn.FLOAT,[e.ALPHA]:Tn.FLOAT,[e.LUMINANCE]:Tn.FLOAT,[e.LUMINANCE_ALPHA]:Tn.FLOAT,[e.DEPTH_STENCIL]:Tn.FLOAT},t}(e);const t=e.getParameter(e.MAX_TEXTURE_IMAGE_UNITS);this.boundTextures.length=t;for(let r=0;r<t;r++)this.boundTextures[r]=null;this.emptyTextures={};const n=new Wo(e.createTexture());e.bindTexture(e.TEXTURE_2D,n.texture),e.texImage2D(e.TEXTURE_2D,0,e.RGBA,1,1,0,e.RGBA,e.UNSIGNED_BYTE,new Uint8Array(4)),this.emptyTextures[e.TEXTURE_2D]=n,this.emptyTextures[e.TEXTURE_CUBE_MAP]=new Wo(e.createTexture()),e.bindTexture(e.TEXTURE_CUBE_MAP,this.emptyTextures[e.TEXTURE_CUBE_MAP].texture);for(let r=0;r<6;r++)e.texImage2D(e.TEXTURE_CUBE_MAP_POSITIVE_X+r,0,e.RGBA,1,1,0,e.RGBA,e.UNSIGNED_BYTE,null);e.texParameteri(e.TEXTURE_CUBE_MAP,e.TEXTURE_MAG_FILTER,e.LINEAR),e.texParameteri(e.TEXTURE_CUBE_MAP,e.TEXTURE_MIN_FILTER,e.LINEAR);for(let r=0;r<this.boundTextures.length;r++)this.bind(null,r)}bind(e){var t,n;let r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;const{gl:i}=this;if(null!==(n=e=null===(t=e)||void 0===t?void 0:t.castToBaseTexture())&&void 0!==n&&n.valid&&!e.parentTextureArray){e.touched=this.renderer.textureGC.count;const t=e._glTextures[this.CONTEXT_UID]||this.initTexture(e);this.boundTextures[r]!==e&&(this.currentLocation!==r&&(this.currentLocation=r,i.activeTexture(i.TEXTURE0+r)),i.bindTexture(e.target,t.texture)),t.dirtyId!==e.dirtyId?(this.currentLocation!==r&&(this.currentLocation=r,i.activeTexture(i.TEXTURE0+r)),this.updateTexture(e)):t.dirtyStyleId!==e.dirtyStyleId&&this.updateTextureStyle(e),this.boundTextures[r]=e}else this.currentLocation!==r&&(this.currentLocation=r,i.activeTexture(i.TEXTURE0+r)),i.bindTexture(i.TEXTURE_2D,this.emptyTextures[i.TEXTURE_2D].texture),this.boundTextures[r]=null}reset(){this._unknownBoundTextures=!0,this.hasIntegerTextures=!1,this.currentLocation=-1;for(let e=0;e<this.boundTextures.length;e++)this.boundTextures[e]=this.unknownTexture}unbind(e){const{gl:t,boundTextures:n}=this;if(this._unknownBoundTextures){this._unknownBoundTextures=!1;for(let e=0;e<n.length;e++)n[e]===this.unknownTexture&&this.bind(null,e)}for(let r=0;r<n.length;r++)n[r]===e&&(this.currentLocation!==r&&(t.activeTexture(t.TEXTURE0+r),this.currentLocation=r),t.bindTexture(e.target,this.emptyTextures[e.target].texture),n[r]=null)}ensureSamplerType(e){const{boundTextures:t,hasIntegerTextures:n,CONTEXT_UID:r}=this;if(n)for(let i=e-1;i>=0;--i){const e=t[i];e&&e._glTextures[r].samplerType!==Tn.FLOAT&&this.renderer.texture.unbind(e)}}initTexture(e){const t=new Wo(this.gl.createTexture());return t.dirtyId=-1,e._glTextures[this.CONTEXT_UID]=t,this.managedTextures.push(e),e.on("dispose",this.destroyTexture,this),t}initTextureType(e,t){var n,r,i;t.internalFormat=null!==(n=null===(r=this.internalFormats[e.type])||void 0===r?void 0:r[e.format])&&void 0!==n?n:e.format,t.samplerType=null!==(i=this.samplerTypes[t.internalFormat])&&void 0!==i?i:Tn.FLOAT,2===this.webGLVersion&&e.type===Sn.HALF_FLOAT?t.type=this.gl.HALF_FLOAT:t.type=e.type}updateTexture(e){var t;const n=e._glTextures[this.CONTEXT_UID];if(!n)return;const r=this.renderer;if(this.initTextureType(e,n),null!==(t=e.resource)&&void 0!==t&&t.upload(r,e,n))n.samplerType!==Tn.FLOAT&&(this.hasIntegerTextures=!0);else{const t=e.realWidth,i=e.realHeight,s=r.gl;(n.width!==t||n.height!==i||n.dirtyId<0)&&(n.width=t,n.height=i,s.texImage2D(e.target,0,n.internalFormat,t,i,0,e.format,n.type,null))}e.dirtyStyleId!==n.dirtyStyleId&&this.updateTextureStyle(e),n.dirtyId=e.dirtyId}destroyTexture(e,t){const{gl:n}=this;if((e=e.castToBaseTexture())._glTextures[this.CONTEXT_UID]&&(this.unbind(e),n.deleteTexture(e._glTextures[this.CONTEXT_UID].texture),e.off("dispose",this.destroyTexture,this),delete e._glTextures[this.CONTEXT_UID],!t)){const t=this.managedTextures.indexOf(e);-1!==t&&Qr(this.managedTextures,t,1)}}updateTextureStyle(e){var t;const n=e._glTextures[this.CONTEXT_UID];n&&(e.mipmap!==Rn.POW2&&2===this.webGLVersion||e.isPowerOfTwo?n.mipmap=e.mipmap>=1:n.mipmap=!1,2===this.webGLVersion||e.isPowerOfTwo?n.wrapMode=e.wrapMode:n.wrapMode=kn.CLAMP,null!==(t=e.resource)&&void 0!==t&&t.style(this.renderer,e,n)||this.setStyle(e,n),n.dirtyStyleId=e.dirtyStyleId)}setStyle(e,t){const n=this.gl;if(t.mipmap&&e.mipmap!==Rn.ON_MANUAL&&n.generateMipmap(e.target),n.texParameteri(e.target,n.TEXTURE_WRAP_S,t.wrapMode),n.texParameteri(e.target,n.TEXTURE_WRAP_T,t.wrapMode),t.mipmap){n.texParameteri(e.target,n.TEXTURE_MIN_FILTER,e.scaleMode===Cn.LINEAR?n.LINEAR_MIPMAP_LINEAR:n.NEAREST_MIPMAP_NEAREST);const t=this.renderer.context.extensions.anisotropicFiltering;if(t&&e.anisotropicLevel>0&&e.scaleMode===Cn.LINEAR){const r=Math.min(e.anisotropicLevel,n.getParameter(t.MAX_TEXTURE_MAX_ANISOTROPY_EXT));n.texParameterf(e.target,t.TEXTURE_MAX_ANISOTROPY_EXT,r)}}else n.texParameteri(e.target,n.TEXTURE_MIN_FILTER,e.scaleMode===Cn.LINEAR?n.LINEAR:n.NEAREST);n.texParameteri(e.target,n.TEXTURE_MAG_FILTER,e.scaleMode===Cn.LINEAR?n.LINEAR:n.NEAREST)}destroy(){this.renderer=null}}Vo.extension={type:ci.RendererSystem,name:"texture"},fi.add(Vo);class Xo{constructor(e){this.renderer=e}contextChange(){this.gl=this.renderer.gl,this.CONTEXT_UID=this.renderer.CONTEXT_UID}bind(e){const{gl:t,CONTEXT_UID:n}=this,r=e._glTransformFeedbacks[n]||this.createGLTransformFeedback(e);t.bindTransformFeedback(t.TRANSFORM_FEEDBACK,r)}unbind(){const{gl:e}=this;e.bindTransformFeedback(e.TRANSFORM_FEEDBACK,null)}beginTransformFeedback(e,t){const{gl:n,renderer:r}=this;t&&r.shader.bind(t),n.beginTransformFeedback(e)}endTransformFeedback(){const{gl:e}=this;e.endTransformFeedback()}createGLTransformFeedback(e){const{gl:t,renderer:n,CONTEXT_UID:r}=this,i=t.createTransformFeedback();e._glTransformFeedbacks[r]=i,t.bindTransformFeedback(t.TRANSFORM_FEEDBACK,i);for(let s=0;s<e.buffers.length;s++){const i=e.buffers[s];i&&(n.buffer.update(i),i._glBuffers[r].refCount++,t.bindBufferBase(t.TRANSFORM_FEEDBACK_BUFFER,s,i._glBuffers[r].buffer||null))}return t.bindTransformFeedback(t.TRANSFORM_FEEDBACK,null),e.disposeRunner.add(this),i}disposeTransformFeedback(e,t){const n=e._glTransformFeedbacks[this.CONTEXT_UID],r=this.gl;e.disposeRunner.remove(this);const i=this.renderer.buffer;if(i)for(let s=0;s<e.buffers.length;s++){const n=e.buffers[s];if(!n)continue;const r=n._glBuffers[this.CONTEXT_UID];r&&(r.refCount--,0===r.refCount&&!t&&i.dispose(n,t))}n&&(t||r.deleteTransformFeedback(n),delete e._glTransformFeedbacks[this.CONTEXT_UID])}destroy(){this.renderer=null}}Xo.extension={type:ci.RendererSystem,name:"transformFeedback"},fi.add(Xo);class Yo{constructor(e){this.renderer=e}init(e){this.screen=new Hi(0,0,e.width,e.height),this.element=e.view||Bn.ADAPTER.createCanvas(),this.resolution=e.resolution||Bn.RESOLUTION,this.autoDensity=!!e.autoDensity}resizeView(e,t){this.element.width=Math.round(e*this.resolution),this.element.height=Math.round(t*this.resolution);const n=this.element.width/this.resolution,r=this.element.height/this.resolution;this.screen.width=n,this.screen.height=r,this.autoDensity&&(this.element.style.width="".concat(n,"px"),this.element.style.height="".concat(r,"px")),this.renderer.emit("resize",n,r),this.renderer.runners.resize.emit(this.screen.width,this.screen.height)}destroy(e){var t;e&&null!==(t=this.element.parentNode)&&void 0!==t&&t.removeChild(this.element),this.renderer=null,this.element=null,this.screen=null}}Yo.defaultOptions={width:800,height:600,resolution:void 0,autoDensity:!1},Yo.extension={type:[ci.RendererSystem,ci.CanvasRendererSystem],name:"_view"},fi.add(Yo),Bn.PREFER_ENV=vn.WEBGL2,Bn.STRICT_TEXTURE_CACHE=!1,Bn.RENDER_OPTIONS=u(u(u(u({},Ls.defaultOptions),Ms.defaultOptions),Yo.defaultOptions),Bo.defaultOptions),Object.defineProperties(Bn,{WRAP_MODE:{get:()=>Si.defaultOptions.wrapMode,set(e){ar("7.1.0","settings.WRAP_MODE is deprecated, use BaseTexture.defaultOptions.wrapMode"),Si.defaultOptions.wrapMode=e}},SCALE_MODE:{get:()=>Si.defaultOptions.scaleMode,set(e){ar("7.1.0","settings.SCALE_MODE is deprecated, use BaseTexture.defaultOptions.scaleMode"),Si.defaultOptions.scaleMode=e}},MIPMAP_TEXTURES:{get:()=>Si.defaultOptions.mipmap,set(e){ar("7.1.0","settings.MIPMAP_TEXTURES is deprecated, use BaseTexture.defaultOptions.mipmap"),Si.defaultOptions.mipmap=e}},ANISOTROPIC_LEVEL:{get:()=>Si.defaultOptions.anisotropicLevel,set(e){ar("7.1.0","settings.ANISOTROPIC_LEVEL is deprecated, use BaseTexture.defaultOptions.anisotropicLevel"),Si.defaultOptions.anisotropicLevel=e}},FILTER_RESOLUTION:{get:()=>(ar("7.1.0","settings.FILTER_RESOLUTION is deprecated, use Filter.defaultResolution"),Is.defaultResolution),set(e){Is.defaultResolution=e}},FILTER_MULTISAMPLE:{get:()=>(ar("7.1.0","settings.FILTER_MULTISAMPLE is deprecated, use Filter.defaultMultisample"),Is.defaultMultisample),set(e){Is.defaultMultisample=e}},SPRITE_MAX_TEXTURES:{get:()=>Rs.defaultMaxTextures,set(e){ar("7.1.0","settings.SPRITE_MAX_TEXTURES is deprecated, use BatchRenderer.defaultMaxTextures"),Rs.defaultMaxTextures=e}},SPRITE_BATCH_SIZE:{get:()=>Rs.defaultBatchSize,set(e){ar("7.1.0","settings.SPRITE_BATCH_SIZE is deprecated, use BatchRenderer.defaultBatchSize"),Rs.defaultBatchSize=e}},CAN_UPLOAD_SAME_BUFFER:{get:()=>Rs.canUploadSameBuffer,set(e){ar("7.1.0","settings.CAN_UPLOAD_SAME_BUFFER is deprecated, use BatchRenderer.canUploadSameBuffer"),Rs.canUploadSameBuffer=e}},GC_MODE:{get:()=>jo.defaultMode,set(e){ar("7.1.0","settings.GC_MODE is deprecated, use TextureGCSystem.defaultMode"),jo.defaultMode=e}},GC_MAX_IDLE:{get:()=>jo.defaultMaxIdle,set(e){ar("7.1.0","settings.GC_MAX_IDLE is deprecated, use TextureGCSystem.defaultMaxIdle"),jo.defaultMaxIdle=e}},GC_MAX_CHECK_COUNT:{get:()=>jo.defaultCheckCountMax,set(e){ar("7.1.0","settings.GC_MAX_CHECK_COUNT is deprecated, use TextureGCSystem.defaultCheckCountMax"),jo.defaultCheckCountMax=e}},PRECISION_VERTEX:{get:()=>xs.defaultVertexPrecision,set(e){ar("7.1.0","settings.PRECISION_VERTEX is deprecated, use Program.defaultVertexPrecision"),xs.defaultVertexPrecision=e}},PRECISION_FRAGMENT:{get:()=>xs.defaultFragmentPrecision,set(e){ar("7.1.0","settings.PRECISION_FRAGMENT is deprecated, use Program.defaultFragmentPrecision"),xs.defaultFragmentPrecision=e}}});var qo=(e=>(e[e.INTERACTION=50]="INTERACTION",e[e.HIGH=25]="HIGH",e[e.NORMAL=0]="NORMAL",e[e.LOW=-25]="LOW",e[e.UTILITY=-50]="UTILITY",e))(qo||{});class Ko{constructor(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0,r=arguments.length>3&&void 0!==arguments[3]&&arguments[3];this.next=null,this.previous=null,this._destroyed=!1,this.fn=e,this.context=t,this.priority=n,this.once=r}match(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;return this.fn===e&&this.context===t}emit(e){this.fn&&(this.context?this.fn.call(this.context,e):this.fn(e));const t=this.next;return this.once&&this.destroy(!0),this._destroyed&&(this.next=null),t}connect(e){this.previous=e,e.next&&(e.next.previous=this),this.next=e.next,e.next=this}destroy(){let e=arguments.length>0&&void 0!==arguments[0]&&arguments[0];this._destroyed=!0,this.fn=null,this.context=null,this.previous&&(this.previous.next=this.next),this.next&&(this.next.previous=this.previous);const t=this.next;return this.next=e?null:t,this.previous=null,t}}const Qo=class e{constructor(){this.autoStart=!1,this.deltaTime=1,this.lastTime=-1,this.speed=1,this.started=!1,this._requestId=null,this._maxElapsedMS=100,this._minElapsedMS=0,this._protected=!1,this._lastFrame=-1,this._head=new Ko(null,null,1/0),this.deltaMS=1/e.targetFPMS,this.elapsedMS=1/e.targetFPMS,this._tick=e=>{this._requestId=null,this.started&&(this.update(e),this.started&&null===this._requestId&&this._head.next&&(this._requestId=requestAnimationFrame(this._tick)))}}_requestIfNeeded(){null===this._requestId&&this._head.next&&(this.lastTime=performance.now(),this._lastFrame=this.lastTime,this._requestId=requestAnimationFrame(this._tick))}_cancelIfNeeded(){null!==this._requestId&&(cancelAnimationFrame(this._requestId),this._requestId=null)}_startIfPossible(){this.started?this._requestIfNeeded():this.autoStart&&this.start()}add(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:qo.NORMAL;return this._addListener(new Ko(e,t,n))}addOnce(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:qo.NORMAL;return this._addListener(new Ko(e,t,n,!0))}_addListener(e){let t=this._head.next,n=this._head;if(t){for(;t;){if(e.priority>t.priority){e.connect(n);break}n=t,t=t.next}e.previous||e.connect(n)}else e.connect(n);return this._startIfPossible(),this}remove(e,t){let n=this._head.next;for(;n;)n=n.match(e,t)?n.destroy():n.next;return this._head.next||this._cancelIfNeeded(),this}get count(){if(!this._head)return 0;let e=0,t=this._head;for(;t=t.next;)e++;return e}start(){this.started||(this.started=!0,this._requestIfNeeded())}stop(){this.started&&(this.started=!1,this._cancelIfNeeded())}destroy(){if(!this._protected){this.stop();let e=this._head.next;for(;e;)e=e.destroy(!0);this._head.destroy(),this._head=null}}update(){let t,n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:performance.now();if(n>this.lastTime){if(t=this.elapsedMS=n-this.lastTime,t>this._maxElapsedMS&&(t=this._maxElapsedMS),t*=this.speed,this._minElapsedMS){const e=n-this._lastFrame|0;if(e<this._minElapsedMS)return;this._lastFrame=n-e%this._minElapsedMS}this.deltaMS=t,this.deltaTime=this.deltaMS*e.targetFPMS;const r=this._head;let i=r.next;for(;i;)i=i.emit(this.deltaTime);r.next||this._cancelIfNeeded()}else this.deltaTime=this.deltaMS=this.elapsedMS=0;this.lastTime=n}get FPS(){return 1e3/this.elapsedMS}get minFPS(){return 1e3/this._maxElapsedMS}set minFPS(t){const n=Math.min(this.maxFPS,t),r=Math.min(Math.max(0,n)/1e3,e.targetFPMS);this._maxElapsedMS=1/r}get maxFPS(){return this._minElapsedMS?Math.round(1e3/this._minElapsedMS):0}set maxFPS(e){if(0===e)this._minElapsedMS=0;else{const t=Math.max(this.minFPS,e);this._minElapsedMS=1/(t/1e3)}}static get shared(){if(!e._shared){const t=e._shared=new e;t.autoStart=!0,t._protected=!0}return e._shared}static get system(){if(!e._system){const t=e._system=new e;t.autoStart=!0,t._protected=!0}return e._system}};Qo.targetFPMS=.06;let Zo=Qo;Object.defineProperties(Bn,{TARGET_FPMS:{get:()=>Zo.targetFPMS,set(e){ar("7.1.0","settings.TARGET_FPMS is deprecated, use Ticker.targetFPMS"),Zo.targetFPMS=e}}});class Jo{static init(e){e=Object.assign({autoStart:!0,sharedTicker:!1},e),Object.defineProperty(this,"ticker",{set(e){this._ticker&&this._ticker.remove(this.render,this),this._ticker=e,e&&e.add(this.render,this,qo.LOW)},get(){return this._ticker}}),this.stop=()=>{this._ticker.stop()},this.start=()=>{this._ticker.start()},this._ticker=null,this.ticker=e.sharedTicker?Zo.shared:new Zo,e.autoStart&&this.start()}static destroy(){if(this._ticker){const e=this._ticker;this.ticker=null,e.destroy()}}}Jo.extension=ci.Application,fi.add(Jo);const $o=[];fi.handleByList(ci.Renderer,$o);const ea="attribute vec2 aVertexPosition;\n\nuniform mat3 projectionMatrix;\n\nvarying vec2 vTextureCoord;\n\nuniform vec4 inputSize;\nuniform vec4 outputFrame;\n\nvec4 filterVertexPosition( void )\n{\n    vec2 position = aVertexPosition * max(outputFrame.zw, vec2(0.)) + outputFrame.xy;\n\n    return vec4((projectionMatrix * vec3(position, 1.0)).xy, 0.0, 1.0);\n}\n\nvec2 filterTextureCoord( void )\n{\n    return aVertexPosition * (outputFrame.zw * inputSize.zw);\n}\n\nvoid main(void)\n{\n    gl_Position = filterVertexPosition();\n    vTextureCoord = filterTextureCoord();\n}\n";class ta{constructor(e){this.renderer=e}contextChange(e){let t;if(1===this.renderer.context.webGLVersion){const n=e.getParameter(e.FRAMEBUFFER_BINDING);e.bindFramebuffer(e.FRAMEBUFFER,null),t=e.getParameter(e.SAMPLES),e.bindFramebuffer(e.FRAMEBUFFER,n)}else{const n=e.getParameter(e.DRAW_FRAMEBUFFER_BINDING);e.bindFramebuffer(e.DRAW_FRAMEBUFFER,null),t=e.getParameter(e.SAMPLES),e.bindFramebuffer(e.DRAW_FRAMEBUFFER,n)}t>=Ln.HIGH?this.multisample=Ln.HIGH:t>=Ln.MEDIUM?this.multisample=Ln.MEDIUM:t>=Ln.LOW?this.multisample=Ln.LOW:this.multisample=Ln.NONE}destroy(){}}ta.extension={type:ci.RendererSystem,name:"_multisample"},fi.add(ta);class na{constructor(e){this.buffer=e||null,this.updateID=-1,this.byteLength=-1,this.refCount=0}}class ra{constructor(e){this.renderer=e,this.managedBuffers={},this.boundBufferBases={}}destroy(){this.renderer=null}contextChange(){this.disposeAll(!0),this.gl=this.renderer.gl,this.CONTEXT_UID=this.renderer.CONTEXT_UID}bind(e){const{gl:t,CONTEXT_UID:n}=this,r=e._glBuffers[n]||this.createGLBuffer(e);t.bindBuffer(e.type,r.buffer)}unbind(e){const{gl:t}=this;t.bindBuffer(e,null)}bindBufferBase(e,t){const{gl:n,CONTEXT_UID:r}=this;if(this.boundBufferBases[t]!==e){const i=e._glBuffers[r]||this.createGLBuffer(e);this.boundBufferBases[t]=e,n.bindBufferBase(n.UNIFORM_BUFFER,t,i.buffer)}}bindBufferRange(e,t,n){const{gl:r,CONTEXT_UID:i}=this;n=n||0;const s=e._glBuffers[i]||this.createGLBuffer(e);r.bindBufferRange(r.UNIFORM_BUFFER,t||0,s.buffer,256*n,256)}update(e){const{gl:t,CONTEXT_UID:n}=this,r=e._glBuffers[n]||this.createGLBuffer(e);if(e._updateID!==r.updateID)if(r.updateID=e._updateID,t.bindBuffer(e.type,r.buffer),r.byteLength>=e.data.byteLength)t.bufferSubData(e.type,0,e.data);else{const n=e.static?t.STATIC_DRAW:t.DYNAMIC_DRAW;r.byteLength=e.data.byteLength,t.bufferData(e.type,e.data,n)}}dispose(e,t){if(!this.managedBuffers[e.id])return;delete this.managedBuffers[e.id];const n=e._glBuffers[this.CONTEXT_UID],r=this.gl;e.disposeRunner.remove(this),n&&(t||r.deleteBuffer(n.buffer),delete e._glBuffers[this.CONTEXT_UID])}disposeAll(e){const t=Object.keys(this.managedBuffers);for(let n=0;n<t.length;n++)this.dispose(this.managedBuffers[t[n]],e)}createGLBuffer(e){const{CONTEXT_UID:t,gl:n}=this;return e._glBuffers[t]=new na(n.createBuffer()),this.managedBuffers[e.id]=e,e.disposeRunner.add(this),e._glBuffers[t]}}ra.extension={type:ci.RendererSystem,name:"buffer"},fi.add(ra);class ia{constructor(e){this.renderer=e}render(e,t){const n=this.renderer;let r,i,s,o;if(t&&(r=t.renderTexture,i=t.clear,s=t.transform,o=t.skipUpdateTransform),this.renderingToScreen=!r,n.runners.prerender.emit(),n.emit("prerender"),n.projection.transform=s,!n.context.isLost){if(r||(this.lastObjectRendered=e),!o){const t=e.enableTempParent();e.updateTransform(),e.disableTempParent(t)}n.renderTexture.bind(r),n.batch.currentRenderer.start(),(null!==i&&void 0!==i?i:n.background.clearBeforeRender)&&n.renderTexture.clear(),e.render(n),n.batch.currentRenderer.flush(),r&&(t.blit&&n.framebuffer.blit(),r.baseTexture.update()),n.runners.postrender.emit(),n.projection.transform=null,n.emit("postrender")}}destroy(){this.renderer=null,this.lastObjectRendered=null}}ia.extension={type:ci.RendererSystem,name:"objectRenderer"},fi.add(ia);const sa=class e extends zo{constructor(t){super(),this.type=bn.WEBGL,t=Object.assign({},Bn.RENDER_OPTIONS,t),this.gl=null,this.CONTEXT_UID=0,this.globalUniforms=new As({projectionMatrix:new Yi},!0);const n={runners:["init","destroy","contextChange","resolutionChange","reset","update","postrender","prerender","resize"],systems:e.__systems,priority:["_view","textureGenerator","background","_plugin","startup","context","state","texture","buffer","geometry","framebuffer","transformFeedback","mask","scissor","stencil","projection","textureGC","filter","renderTexture","batch","objectRenderer","_multisample"]};this.setup(n),"useContextAlpha"in t&&(ar("7.0.0","options.useContextAlpha is deprecated, use options.premultipliedAlpha and options.backgroundAlpha instead"),t.premultipliedAlpha=t.useContextAlpha&&"notMultiplied"!==t.useContextAlpha,t.backgroundAlpha=!1===t.useContextAlpha?1:t.backgroundAlpha),this._plugin.rendererPlugins=e.__plugins,this.options=t,this.startup.run(this.options)}static test(e){return(null===e||void 0===e||!e.forceCanvas)&&(typeof dr>"u"&&(dr=function(){const e={stencil:!0,failIfMajorPerformanceCaveat:Bn.FAIL_IF_MAJOR_PERFORMANCE_CAVEAT};try{var t;if(!Bn.ADAPTER.getWebGLRenderingContext())return!1;const n=Bn.ADAPTER.createCanvas();let r=n.getContext("webgl",e)||n.getContext("experimental-webgl",e);const i=!(null===(t=r)||void 0===t||null===(t=t.getContextAttributes())||void 0===t||!t.stencil);if(r){const e=r.getExtension("WEBGL_lose_context");e&&e.loseContext()}return r=null,i}catch(n){return!1}}()),dr)}render(e,t){this.objectRenderer.render(e,t)}resize(e,t){this._view.resizeView(e,t)}reset(){return this.runners.reset.emit(),this}clear(){this.renderTexture.bind(),this.renderTexture.clear()}destroy(){let e=arguments.length>0&&void 0!==arguments[0]&&arguments[0];this.runners.destroy.items.reverse(),this.emitWithCustomOptions(this.runners.destroy,{_view:e}),super.destroy()}get plugins(){return this._plugin.plugins}get multisample(){return this._multisample.multisample}get width(){return this._view.element.width}get height(){return this._view.element.height}get resolution(){return this._view.resolution}set resolution(e){this._view.resolution=e,this.runners.resolutionChange.emit(e)}get autoDensity(){return this._view.autoDensity}get view(){return this._view.element}get screen(){return this._view.screen}get lastObjectRendered(){return this.objectRenderer.lastObjectRendered}get renderingToScreen(){return this.objectRenderer.renderingToScreen}get rendererLogId(){return"WebGL ".concat(this.context.webGLVersion)}get clearBeforeRender(){return ar("7.0.0","renderer.clearBeforeRender has been deprecated, please use renderer.background.clearBeforeRender instead."),this.background.clearBeforeRender}get useContextAlpha(){return ar("7.0.0","renderer.useContextAlpha has been deprecated, please use renderer.context.premultipliedAlpha instead."),this.context.useContextAlpha}get preserveDrawingBuffer(){return ar("7.0.0","renderer.preserveDrawingBuffer has been deprecated, we cannot truly know this unless pixi created the context"),this.context.preserveDrawingBuffer}get backgroundColor(){return ar("7.0.0","renderer.backgroundColor has been deprecated, use renderer.background.color instead."),this.background.color}set backgroundColor(e){ar("7.0.0","renderer.backgroundColor has been deprecated, use renderer.background.color instead."),this.background.color=e}get backgroundAlpha(){return ar("7.0.0","renderer.backgroundAlpha has been deprecated, use renderer.background.alpha instead."),this.background.alpha}set backgroundAlpha(e){ar("7.0.0","renderer.backgroundAlpha has been deprecated, use renderer.background.alpha instead."),this.background.alpha=e}get powerPreference(){return ar("7.0.0","renderer.powerPreference has been deprecated, we can only know this if pixi creates the context"),this.context.powerPreference}generateTexture(e,t){return this.textureGenerator.generateTexture(e,t)}};sa.extension={type:ci.Renderer,priority:1},sa.__plugins={},sa.__systems={};let oa=sa;fi.handleByMap(ci.RendererPlugin,oa.__plugins),fi.handleByMap(ci.RendererSystem,oa.__systems),fi.add(oa);class aa extends xi{constructor(e,t){const{width:n,height:r}=t||{};super(n,r),this.items=[],this.itemDirtyIds=[];for(let i=0;i<e;i++){const e=new Si;this.items.push(e),this.itemDirtyIds.push(-2)}this.length=e,this._load=null,this.baseTexture=null}initFromArray(e,t){for(let n=0;n<this.length;n++)e[n]&&(e[n].castToBaseTexture?this.addBaseTextureAt(e[n].castToBaseTexture(),n):e[n]instanceof xi?this.addResourceAt(e[n],n):this.addResourceAt(bi(e[n],t),n))}dispose(){for(let e=0,t=this.length;e<t;e++)this.items[e].destroy();this.items=null,this.itemDirtyIds=null,this._load=null}addResourceAt(e,t){if(!this.items[t])throw new Error("Index ".concat(t," is out of bounds"));return e.valid&&!this.valid&&this.resize(e.width,e.height),this.items[t].setResource(e),this}bind(e){if(null!==this.baseTexture)throw new Error("Only one base texture per TextureArray is allowed");super.bind(e);for(let t=0;t<this.length;t++)this.items[t].parentTextureArray=e,this.items[t].on("update",e.update,e)}unbind(e){super.unbind(e);for(let t=0;t<this.length;t++)this.items[t].parentTextureArray=null,this.items[t].off("update",e.update,e)}load(){if(this._load)return this._load;const e=this.items.map(e=>e.resource).filter(e=>e).map(e=>e.load());return this._load=Promise.all(e).then(()=>{const{realWidth:e,realHeight:t}=this.items[0];return this.resize(e,t),this.update(),Promise.resolve(this)}),this._load}}const la=class e extends aa{constructor(t,n){const{width:r,height:i,autoLoad:s,linkBaseTexture:o}=n||{};if(t&&t.length!==e.SIDES)throw new Error("Invalid length. Got ".concat(t.length,", expected 6"));super(6,{width:r,height:i});for(let a=0;a<e.SIDES;a++)this.items[a].target=En.TEXTURE_CUBE_MAP_POSITIVE_X+a;this.linkBaseTexture=!1!==o,t&&this.initFromArray(t,n),!1!==s&&this.load()}bind(e){super.bind(e),e.target=En.TEXTURE_CUBE_MAP}addBaseTextureAt(e,t,n){if(void 0===n&&(n=this.linkBaseTexture),!this.items[t])throw new Error("Index ".concat(t," is out of bounds"));if(!this.linkBaseTexture||e.parentTextureArray||Object.keys(e._glTextures).length>0){if(!e.resource)throw new Error("CubeResource does not support copying of renderTexture.");this.addResourceAt(e.resource,t)}else e.target=En.TEXTURE_CUBE_MAP_POSITIVE_X+t,e.parentTextureArray=this.baseTexture,this.items[t]=e;return e.valid&&!this.valid&&this.resize(e.realWidth,e.realHeight),this.items[t]=e,this}upload(t,n,r){const i=this.itemDirtyIds;for(let s=0;s<e.SIDES;s++){const e=this.items[s];(i[s]<e.dirtyId||r.dirtyId<n.dirtyId)&&(e.valid&&e.resource?(e.resource.upload(t,e,r),i[s]=e.dirtyId):i[s]<-1&&(t.gl.texImage2D(e.target,0,r.internalFormat,n.realWidth,n.realHeight,0,n.format,r.type,null),i[s]=-1))}return!0}static test(t){return Array.isArray(t)&&t.length===e.SIDES}};la.SIDES=6;let ua=la;class ca extends Bs{constructor(e,t){var n,r;let i,s,o;t=t||{},"string"==typeof e?(i=ca.EMPTY,s=e,o=!0):(i=e,s=null,o=!1),super(i),this.url=s,this.crossOrigin=null===(n=t.crossOrigin)||void 0===n||n,this.alphaMode="number"==typeof t.alphaMode?t.alphaMode:null,this.ownsImageBitmap=null!==(r=t.ownsImageBitmap)&&void 0!==r?r:o,this._load=null,!1!==t.autoLoad&&this.load()}load(){return this._load||(this._load=new Promise(async(e,t)=>{if(null!==this.url)try{const t=await Bn.ADAPTER.fetch(this.url,{mode:this.crossOrigin?"cors":"no-cors"});if(this.destroyed)return;const n=await t.blob();if(this.destroyed)return;const r=await createImageBitmap(n,{premultiplyAlpha:null===this.alphaMode||this.alphaMode===Pn.UNPACK?"premultiply":"none"});if(this.destroyed)return void r.close();this.source=r,this.update(),e(this)}catch(ly){if(this.destroyed)return;t(ly),this.onError.emit(ly)}else e(this)})),this._load}upload(e,t,n){return this.source instanceof ImageBitmap?("number"==typeof this.alphaMode&&(t.alphaMode=this.alphaMode),super.upload(e,t,n)):(this.load(),!1)}dispose(){this.ownsImageBitmap&&this.source instanceof ImageBitmap&&this.source.close(),super.dispose(),this._load=null}static test(e){return!!globalThis.createImageBitmap&&typeof ImageBitmap<"u"&&("string"==typeof e||e instanceof ImageBitmap)}static get EMPTY(){var e;return ca._EMPTY=null!==(e=ca._EMPTY)&&void 0!==e?e:Bn.ADAPTER.createCanvas(0,0),ca._EMPTY}}const ha=class e extends Bs{constructor(e,t){t=t||{},super(Bn.ADAPTER.createCanvas()),this._width=0,this._height=0,this.svg=e,this.scale=t.scale||1,this._overrideWidth=t.width,this._overrideHeight=t.height,this._resolve=null,this._crossorigin=t.crossorigin,this._load=null,!1!==t.autoLoad&&this.load()}load(){return this._load||(this._load=new Promise(t=>{if(this._resolve=()=>{this.update(),t(this)},e.SVG_XML.test(this.svg.trim())){if(!btoa)throw new Error("Your browser doesn't support base64 conversions.");this.svg="data:image/svg+xml;base64,".concat(btoa(unescape(encodeURIComponent(this.svg))))}this._loadSvg()})),this._load}_loadSvg(){const e=new Image;Bs.crossOrigin(e,this.svg,this._crossorigin),e.src=this.svg,e.onerror=t=>{this._resolve&&(e.onerror=null,this.onError.emit(t))},e.onload=()=>{if(!this._resolve)return;const t=e.width,n=e.height;if(!t||!n)throw new Error("The SVG image must have width and height defined (in pixels), canvas API needs them.");let r=t*this.scale,i=n*this.scale;(this._overrideWidth||this._overrideHeight)&&(r=this._overrideWidth||this._overrideHeight/n*t,i=this._overrideHeight||this._overrideWidth/t*n),r=Math.round(r),i=Math.round(i);const s=this.source;s.width=r,s.height=i,s._pixiId="canvas_".concat($r()),s.getContext("2d").drawImage(e,0,0,t,n,0,0,r,i),this._resolve(),this._resolve=null}}static getSize(t){const n=e.SVG_SIZE.exec(t),r={};return n&&(r[n[1]]=Math.round(parseFloat(n[3])),r[n[5]]=Math.round(parseFloat(n[7]))),r}dispose(){super.dispose(),this._resolve=null,this._crossorigin=null}static test(t,n){return"svg"===n||"string"==typeof t&&t.startsWith("data:image/svg+xml")||"string"==typeof t&&e.SVG_XML.test(t)}};ha.SVG_XML=/^(<\?xml[^?]+\?>)?\s*(<!--[^(-->)]*-->)?\s*\<svg/m,ha.SVG_SIZE=/<svg[^>]*(?:\s(width|height)=('|")(\d*(?:\.\d+)?)(?:px)?('|"))[^>]*(?:\s(width|height)=('|")(\d*(?:\.\d+)?)(?:px)?('|"))[^>]*>/i;let da=ha;const fa=class e extends Bs{constructor(t,n){if(n=n||{},!(t instanceof HTMLVideoElement)){const r=document.createElement("video");!1!==n.autoLoad&&r.setAttribute("preload","auto"),!1!==n.playsinline&&(r.setAttribute("webkit-playsinline",""),r.setAttribute("playsinline","")),!0===n.muted&&(r.setAttribute("muted",""),r.muted=!0),!0===n.loop&&r.setAttribute("loop",""),!1!==n.autoPlay&&r.setAttribute("autoplay",""),"string"==typeof t&&(t=[t]);const i=t[0].src||t[0];Bs.crossOrigin(r,i,n.crossorigin);for(let n=0;n<t.length;++n){const i=document.createElement("source");let{src:s,mime:o}=t[n];if(s=s||t[n],s.startsWith("data:"))o=s.slice(5,s.indexOf(";"));else if(!s.startsWith("blob:")){const t=s.split("?").shift().toLowerCase(),n=t.slice(t.lastIndexOf(".")+1);o=o||e.MIME_TYPES[n]||"video/".concat(n)}i.src=s,o&&(i.type=o),r.appendChild(i)}t=r}super(t),this.noSubImage=!0,this._autoUpdate=!0,this._isConnectedToTicker=!1,this._updateFPS=n.updateFPS||0,this._msToNextUpdate=0,this.autoPlay=!1!==n.autoPlay,this._videoFrameRequestCallback=this._videoFrameRequestCallback.bind(this),this._videoFrameRequestCallbackHandle=null,this._load=null,this._resolve=null,this._reject=null,this._onCanPlay=this._onCanPlay.bind(this),this._onError=this._onError.bind(this),this._onPlayStart=this._onPlayStart.bind(this),this._onPlayStop=this._onPlayStop.bind(this),this._onSeeked=this._onSeeked.bind(this),!1!==n.autoLoad&&this.load()}update(){if(!this.destroyed){if(this._updateFPS){const e=Zo.shared.elapsedMS*this.source.playbackRate;this._msToNextUpdate=Math.floor(this._msToNextUpdate-e)}(!this._updateFPS||this._msToNextUpdate<=0)&&(super.update(),this._msToNextUpdate=this._updateFPS?Math.floor(1e3/this._updateFPS):0)}}_videoFrameRequestCallback(){this.update(),this.destroyed?this._videoFrameRequestCallbackHandle=null:this._videoFrameRequestCallbackHandle=this.source.requestVideoFrameCallback(this._videoFrameRequestCallback)}load(){if(this._load)return this._load;const e=this.source;return(e.readyState===e.HAVE_ENOUGH_DATA||e.readyState===e.HAVE_FUTURE_DATA)&&e.width&&e.height&&(e.complete=!0),e.addEventListener("play",this._onPlayStart),e.addEventListener("pause",this._onPlayStop),e.addEventListener("seeked",this._onSeeked),this._isSourceReady()?this._onCanPlay():(e.addEventListener("canplay",this._onCanPlay),e.addEventListener("canplaythrough",this._onCanPlay),e.addEventListener("error",this._onError,!0)),this._load=new Promise((t,n)=>{this.valid?t(this):(this._resolve=t,this._reject=n,e.load())}),this._load}_onError(e){this.source.removeEventListener("error",this._onError,!0),this.onError.emit(e),this._reject&&(this._reject(e),this._reject=null,this._resolve=null)}_isSourcePlaying(){const e=this.source;return!e.paused&&!e.ended}_isSourceReady(){return this.source.readyState>2}_onPlayStart(){this.valid||this._onCanPlay(),this._configureAutoUpdate()}_onPlayStop(){this._configureAutoUpdate()}_onSeeked(){this._autoUpdate&&!this._isSourcePlaying()&&(this._msToNextUpdate=0,this.update(),this._msToNextUpdate=0)}_onCanPlay(){const e=this.source;e.removeEventListener("canplay",this._onCanPlay),e.removeEventListener("canplaythrough",this._onCanPlay);const t=this.valid;this._msToNextUpdate=0,this.update(),this._msToNextUpdate=0,!t&&this._resolve&&(this._resolve(this),this._resolve=null,this._reject=null),this._isSourcePlaying()?this._onPlayStart():this.autoPlay&&e.play()}dispose(){this._configureAutoUpdate();const e=this.source;e&&(e.removeEventListener("play",this._onPlayStart),e.removeEventListener("pause",this._onPlayStop),e.removeEventListener("seeked",this._onSeeked),e.removeEventListener("canplay",this._onCanPlay),e.removeEventListener("canplaythrough",this._onCanPlay),e.removeEventListener("error",this._onError,!0),e.pause(),e.src="",e.load()),super.dispose()}get autoUpdate(){return this._autoUpdate}set autoUpdate(e){e!==this._autoUpdate&&(this._autoUpdate=e,this._configureAutoUpdate())}get updateFPS(){return this._updateFPS}set updateFPS(e){e!==this._updateFPS&&(this._updateFPS=e,this._configureAutoUpdate())}_configureAutoUpdate(){this._autoUpdate&&this._isSourcePlaying()?!this._updateFPS&&this.source.requestVideoFrameCallback?(this._isConnectedToTicker&&(Zo.shared.remove(this.update,this),this._isConnectedToTicker=!1,this._msToNextUpdate=0),null===this._videoFrameRequestCallbackHandle&&(this._videoFrameRequestCallbackHandle=this.source.requestVideoFrameCallback(this._videoFrameRequestCallback))):(null!==this._videoFrameRequestCallbackHandle&&(this.source.cancelVideoFrameCallback(this._videoFrameRequestCallbackHandle),this._videoFrameRequestCallbackHandle=null),this._isConnectedToTicker||(Zo.shared.add(this.update,this),this._isConnectedToTicker=!0,this._msToNextUpdate=0)):(null!==this._videoFrameRequestCallbackHandle&&(this.source.cancelVideoFrameCallback(this._videoFrameRequestCallbackHandle),this._videoFrameRequestCallbackHandle=null),this._isConnectedToTicker&&(Zo.shared.remove(this.update,this),this._isConnectedToTicker=!1,this._msToNextUpdate=0))}static test(t,n){return globalThis.HTMLVideoElement&&t instanceof HTMLVideoElement||e.TYPES.includes(n)}};fa.TYPES=["mp4","m4v","webm","ogg","ogv","h264","avi","mov"],fa.MIME_TYPES={ogv:"video/ogg",mov:"video/quicktime",m4v:"video/mp4"};let pa=fa;vi.push(ca,Us,class extends Bs{constructor(e){super(e)}static test(e){const{OffscreenCanvas:t}=globalThis;return!!(t&&e instanceof t)||globalThis.HTMLCanvasElement&&e instanceof HTMLCanvasElement}},pa,class extends Bs{constructor(e){super(e)}static test(e){return!!globalThis.VideoFrame&&e instanceof globalThis.VideoFrame}},da,wi,ua,class extends aa{constructor(e,t){const{width:n,height:r}=t||{};let i,s;Array.isArray(e)?(i=e,s=e.length):s=e,super(s,{width:n,height:r}),i&&this.initFromArray(i,t)}addBaseTextureAt(e,t){if(!e.resource)throw new Error("ArrayResource does not support RenderTexture");return this.addResourceAt(e.resource,t),this}bind(e){super.bind(e),e.target=En.TEXTURE_2D_ARRAY}upload(e,t,n){const{length:r,itemDirtyIds:i,items:s}=this,{gl:o}=e;n.dirtyId<0&&o.texImage3D(o.TEXTURE_2D_ARRAY,0,n.internalFormat,this._width,this._height,r,0,t.format,n.type,null);for(let a=0;a<r;a++){const e=s[a];i[a]<e.dirtyId&&(i[a]=e.dirtyId,e.valid&&o.texSubImage3D(o.TEXTURE_2D_ARRAY,0,0,0,a,e.resource.width,e.resource.height,1,t.format,n.type,e.resource.source))}return!0}});class ma{constructor(){this.minX=1/0,this.minY=1/0,this.maxX=-1/0,this.maxY=-1/0,this.rect=null,this.updateID=-1}isEmpty(){return this.minX>this.maxX||this.minY>this.maxY}clear(){this.minX=1/0,this.minY=1/0,this.maxX=-1/0,this.maxY=-1/0}getRectangle(e){return this.minX>this.maxX||this.minY>this.maxY?Hi.EMPTY:((e=e||new Hi(0,0,1,1)).x=this.minX,e.y=this.minY,e.width=this.maxX-this.minX,e.height=this.maxY-this.minY,e)}addPoint(e){this.minX=Math.min(this.minX,e.x),this.maxX=Math.max(this.maxX,e.x),this.minY=Math.min(this.minY,e.y),this.maxY=Math.max(this.maxY,e.y)}addPointMatrix(e,t){const{a:n,b:r,c:i,d:s,tx:o,ty:a}=e,l=n*t.x+i*t.y+o,u=r*t.x+s*t.y+a;this.minX=Math.min(this.minX,l),this.maxX=Math.max(this.maxX,l),this.minY=Math.min(this.minY,u),this.maxY=Math.max(this.maxY,u)}addQuad(e){let t=this.minX,n=this.minY,r=this.maxX,i=this.maxY,s=e[0],o=e[1];t=s<t?s:t,n=o<n?o:n,r=s>r?s:r,i=o>i?o:i,s=e[2],o=e[3],t=s<t?s:t,n=o<n?o:n,r=s>r?s:r,i=o>i?o:i,s=e[4],o=e[5],t=s<t?s:t,n=o<n?o:n,r=s>r?s:r,i=o>i?o:i,s=e[6],o=e[7],t=s<t?s:t,n=o<n?o:n,r=s>r?s:r,i=o>i?o:i,this.minX=t,this.minY=n,this.maxX=r,this.maxY=i}addFrame(e,t,n,r,i){this.addFrameMatrix(e.worldTransform,t,n,r,i)}addFrameMatrix(e,t,n,r,i){const s=e.a,o=e.b,a=e.c,l=e.d,u=e.tx,c=e.ty;let h=this.minX,d=this.minY,f=this.maxX,p=this.maxY,m=s*t+a*n+u,g=o*t+l*n+c;h=m<h?m:h,d=g<d?g:d,f=m>f?m:f,p=g>p?g:p,m=s*r+a*n+u,g=o*r+l*n+c,h=m<h?m:h,d=g<d?g:d,f=m>f?m:f,p=g>p?g:p,m=s*t+a*i+u,g=o*t+l*i+c,h=m<h?m:h,d=g<d?g:d,f=m>f?m:f,p=g>p?g:p,m=s*r+a*i+u,g=o*r+l*i+c,h=m<h?m:h,d=g<d?g:d,f=m>f?m:f,p=g>p?g:p,this.minX=h,this.minY=d,this.maxX=f,this.maxY=p}addVertexData(e,t,n){let r=this.minX,i=this.minY,s=this.maxX,o=this.maxY;for(let a=t;a<n;a+=2){const t=e[a],n=e[a+1];r=t<r?t:r,i=n<i?n:i,s=t>s?t:s,o=n>o?n:o}this.minX=r,this.minY=i,this.maxX=s,this.maxY=o}addVertices(e,t,n,r){this.addVerticesMatrix(e.worldTransform,t,n,r)}addVerticesMatrix(e,t,n,r){let i=arguments.length>4&&void 0!==arguments[4]?arguments[4]:0,s=arguments.length>5&&void 0!==arguments[5]?arguments[5]:i;const o=e.a,a=e.b,l=e.c,u=e.d,c=e.tx,h=e.ty;let d=this.minX,f=this.minY,p=this.maxX,m=this.maxY;for(let g=n;g<r;g+=2){const e=t[g],n=t[g+1],r=o*e+l*n+c,y=u*n+a*e+h;d=Math.min(d,r-i),p=Math.max(p,r+i),f=Math.min(f,y-s),m=Math.max(m,y+s)}this.minX=d,this.minY=f,this.maxX=p,this.maxY=m}addBounds(e){const t=this.minX,n=this.minY,r=this.maxX,i=this.maxY;this.minX=e.minX<t?e.minX:t,this.minY=e.minY<n?e.minY:n,this.maxX=e.maxX>r?e.maxX:r,this.maxY=e.maxY>i?e.maxY:i}addBoundsMask(e,t){const n=e.minX>t.minX?e.minX:t.minX,r=e.minY>t.minY?e.minY:t.minY,i=e.maxX<t.maxX?e.maxX:t.maxX,s=e.maxY<t.maxY?e.maxY:t.maxY;if(n<=i&&r<=s){const e=this.minX,t=this.minY,o=this.maxX,a=this.maxY;this.minX=n<e?n:e,this.minY=r<t?r:t,this.maxX=i>o?i:o,this.maxY=s>a?s:a}}addBoundsMatrix(e,t){this.addFrameMatrix(t,e.minX,e.minY,e.maxX,e.maxY)}addBoundsArea(e,t){const n=e.minX>t.x?e.minX:t.x,r=e.minY>t.y?e.minY:t.y,i=e.maxX<t.x+t.width?e.maxX:t.x+t.width,s=e.maxY<t.y+t.height?e.maxY:t.y+t.height;if(n<=i&&r<=s){const e=this.minX,t=this.minY,o=this.maxX,a=this.maxY;this.minX=n<e?n:e,this.minY=r<t?r:t,this.maxX=i>o?i:o,this.maxY=s>a?s:a}}pad(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:e;this.isEmpty()||(this.minX-=e,this.maxX+=e,this.minY-=t,this.maxY+=t)}addFramePad(e,t,n,r,i,s){e-=i,t-=s,n+=i,r+=s,this.minX=this.minX<e?this.minX:e,this.maxX=this.maxX>n?this.maxX:n,this.minY=this.minY<t?this.minY:t,this.maxY=this.maxY>r?this.maxY:r}}class ga extends ir{constructor(){super(),this.tempDisplayObjectParent=null,this.transform=new is,this.alpha=1,this.visible=!0,this.renderable=!0,this.cullable=!1,this.cullArea=null,this.parent=null,this.worldAlpha=1,this._lastSortedIndex=0,this._zIndex=0,this.filterArea=null,this.filters=null,this._enabledFilters=null,this._bounds=new ma,this._localBounds=null,this._boundsID=0,this._boundsRect=null,this._localBoundsRect=null,this._mask=null,this._maskRefCount=0,this._destroyed=!1,this.isSprite=!1,this.isMask=!1}static mixin(e){const t=Object.keys(e);for(let n=0;n<t.length;++n){const r=t[n];Object.defineProperty(ga.prototype,r,Object.getOwnPropertyDescriptor(e,r))}}get destroyed(){return this._destroyed}_recursivePostUpdateTransform(){this.parent?(this.parent._recursivePostUpdateTransform(),this.transform.updateTransform(this.parent.transform)):this.transform.updateTransform(this._tempDisplayObjectParent.transform)}updateTransform(){this._boundsID++,this.transform.updateTransform(this.parent.transform),this.worldAlpha=this.alpha*this.parent.worldAlpha}getBounds(e,t){return e||(this.parent?(this._recursivePostUpdateTransform(),this.updateTransform()):(this.parent=this._tempDisplayObjectParent,this.updateTransform(),this.parent=null)),this._bounds.updateID!==this._boundsID&&(this.calculateBounds(),this._bounds.updateID=this._boundsID),t||(this._boundsRect||(this._boundsRect=new Hi),t=this._boundsRect),this._bounds.getRectangle(t)}getLocalBounds(e){var t;e||(this._localBoundsRect||(this._localBoundsRect=new Hi),e=this._localBoundsRect),this._localBounds||(this._localBounds=new ma);const n=this.transform,r=this.parent;this.parent=null,this._tempDisplayObjectParent.worldAlpha=null!==(t=null===r||void 0===r?void 0:r.worldAlpha)&&void 0!==t?t:1,this.transform=this._tempDisplayObjectParent.transform;const i=this._bounds,s=this._boundsID;this._bounds=this._localBounds;const o=this.getBounds(!1,e);return this.parent=r,this.transform=n,this._bounds=i,this._bounds.updateID+=this._boundsID-s,o}toGlobal(e,t){return arguments.length>2&&void 0!==arguments[2]&&arguments[2]||(this._recursivePostUpdateTransform(),this.parent?this.displayObjectUpdateTransform():(this.parent=this._tempDisplayObjectParent,this.displayObjectUpdateTransform(),this.parent=null)),this.worldTransform.apply(e,t)}toLocal(e,t,n,r){return t&&(e=t.toGlobal(e,n,r)),r||(this._recursivePostUpdateTransform(),this.parent?this.displayObjectUpdateTransform():(this.parent=this._tempDisplayObjectParent,this.displayObjectUpdateTransform(),this.parent=null)),this.worldTransform.applyInverse(e,n)}setParent(e){if(!e||!e.addChild)throw new Error("setParent: Argument must be a Container");return e.addChild(this),e}removeFromParent(){var e;null===(e=this.parent)||void 0===e||e.removeChild(this)}setTransform(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:1,r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:1,i=arguments.length>4&&void 0!==arguments[4]?arguments[4]:0,s=arguments.length>5&&void 0!==arguments[5]?arguments[5]:0,o=arguments.length>6&&void 0!==arguments[6]?arguments[6]:0,a=arguments.length>7&&void 0!==arguments[7]?arguments[7]:0,l=arguments.length>8&&void 0!==arguments[8]?arguments[8]:0;return this.position.x=e,this.position.y=t,this.scale.x=n||1,this.scale.y=r||1,this.rotation=i,this.skew.x=s,this.skew.y=o,this.pivot.x=a,this.pivot.y=l,this}destroy(e){this.removeFromParent(),this._destroyed=!0,this.transform=null,this.parent=null,this._bounds=null,this.mask=null,this.cullArea=null,this.filters=null,this.filterArea=null,this.hitArea=null,this.eventMode="auto",this.interactiveChildren=!1,this.emit("destroyed"),this.removeAllListeners()}get _tempDisplayObjectParent(){return null===this.tempDisplayObjectParent&&(this.tempDisplayObjectParent=new ya),this.tempDisplayObjectParent}enableTempParent(){const e=this.parent;return this.parent=this._tempDisplayObjectParent,e}disableTempParent(e){this.parent=e}get x(){return this.position.x}set x(e){this.transform.position.x=e}get y(){return this.position.y}set y(e){this.transform.position.y=e}get worldTransform(){return this.transform.worldTransform}get localTransform(){return this.transform.localTransform}get position(){return this.transform.position}set position(e){this.transform.position.copyFrom(e)}get scale(){return this.transform.scale}set scale(e){this.transform.scale.copyFrom(e)}get pivot(){return this.transform.pivot}set pivot(e){this.transform.pivot.copyFrom(e)}get skew(){return this.transform.skew}set skew(e){this.transform.skew.copyFrom(e)}get rotation(){return this.transform.rotation}set rotation(e){this.transform.rotation=e}get angle(){return this.transform.rotation*Fi}set angle(e){this.transform.rotation=e*Bi}get zIndex(){return this._zIndex}set zIndex(e){this._zIndex!==e&&(this._zIndex=e,this.parent&&(this.parent.sortDirty=!0))}get worldVisible(){let e=this;do{if(!e.visible)return!1;e=e.parent}while(e);return!0}get mask(){return this._mask}set mask(e){if(this._mask!==e){if(this._mask){const e=this._mask.isMaskData?this._mask.maskObject:this._mask;e&&(e._maskRefCount--,0===e._maskRefCount&&(e.renderable=!0,e.isMask=!1))}if(this._mask=e,this._mask){const e=this._mask.isMaskData?this._mask.maskObject:this._mask;e&&(0===e._maskRefCount&&(e.renderable=!1,e.isMask=!0),e._maskRefCount++)}}}}class ya extends ga{constructor(){super(...arguments),this.sortDirty=null}}ga.prototype.displayObjectUpdateTransform=ga.prototype.updateTransform;const va=new Yi;function ba(e,t){return e.zIndex===t.zIndex?e._lastSortedIndex-t._lastSortedIndex:e.zIndex-t.zIndex}const _a=class e extends ga{constructor(){super(),this.children=[],this.sortableChildren=e.defaultSortableChildren,this.sortDirty=!1}onChildrenChange(e){}addChild(){if(arguments.length>1)for(let e=0;e<arguments.length;e++)this.addChild(e<0||arguments.length<=e?void 0:arguments[e]);else{const e=arguments.length<=0?void 0:arguments[0];e.parent&&e.parent.removeChild(e),e.parent=this,this.sortDirty=!0,e.transform._parentID=-1,this.children.push(e),this._boundsID++,this.onChildrenChange(this.children.length-1),this.emit("childAdded",e,this,this.children.length-1),e.emit("added",this)}return arguments.length<=0?void 0:arguments[0]}addChildAt(e,t){if(t<0||t>this.children.length)throw new Error("".concat(e,"addChildAt: The index ").concat(t," supplied is out of bounds ").concat(this.children.length));return e.parent&&e.parent.removeChild(e),e.parent=this,this.sortDirty=!0,e.transform._parentID=-1,this.children.splice(t,0,e),this._boundsID++,this.onChildrenChange(t),e.emit("added",this),this.emit("childAdded",e,this,t),e}swapChildren(e,t){if(e===t)return;const n=this.getChildIndex(e),r=this.getChildIndex(t);this.children[n]=t,this.children[r]=e,this.onChildrenChange(n<r?n:r)}getChildIndex(e){const t=this.children.indexOf(e);if(-1===t)throw new Error("The supplied DisplayObject must be a child of the caller");return t}setChildIndex(e,t){if(t<0||t>=this.children.length)throw new Error("The index ".concat(t," supplied is out of bounds ").concat(this.children.length));const n=this.getChildIndex(e);Qr(this.children,n,1),this.children.splice(t,0,e),this.onChildrenChange(t)}getChildAt(e){if(e<0||e>=this.children.length)throw new Error("getChildAt: Index (".concat(e,") does not exist."));return this.children[e]}removeChild(){if(arguments.length>1)for(let e=0;e<arguments.length;e++)this.removeChild(e<0||arguments.length<=e?void 0:arguments[e]);else{const e=arguments.length<=0?void 0:arguments[0],t=this.children.indexOf(e);if(-1===t)return null;e.parent=null,e.transform._parentID=-1,Qr(this.children,t,1),this._boundsID++,this.onChildrenChange(t),e.emit("removed",this),this.emit("childRemoved",e,this,t)}return arguments.length<=0?void 0:arguments[0]}removeChildAt(e){const t=this.getChildAt(e);return t.parent=null,t.transform._parentID=-1,Qr(this.children,e,1),this._boundsID++,this.onChildrenChange(e),t.emit("removed",this),this.emit("childRemoved",t,this,e),t}removeChildren(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:this.children.length;const n=e,r=t-n;let i;if(r>0&&r<=t){i=this.children.splice(n,r);for(let e=0;e<i.length;++e)i[e].parent=null,i[e].transform&&(i[e].transform._parentID=-1);this._boundsID++,this.onChildrenChange(e);for(let e=0;e<i.length;++e)i[e].emit("removed",this),this.emit("childRemoved",i[e],this,e);return i}if(0===r&&0===this.children.length)return[];throw new RangeError("removeChildren: numeric values are outside the acceptable range.")}sortChildren(){let e=!1;for(let t=0,n=this.children.length;t<n;++t){const n=this.children[t];n._lastSortedIndex=t,!e&&0!==n.zIndex&&(e=!0)}e&&this.children.length>1&&this.children.sort(ba),this.sortDirty=!1}updateTransform(){this.sortableChildren&&this.sortDirty&&this.sortChildren(),this._boundsID++,this.transform.updateTransform(this.parent.transform),this.worldAlpha=this.alpha*this.parent.worldAlpha;for(let e=0,t=this.children.length;e<t;++e){const t=this.children[e];t.visible&&t.updateTransform()}}calculateBounds(){this._bounds.clear(),this._calculateBounds();for(let e=0;e<this.children.length;e++){const t=this.children[e];if(t.visible&&t.renderable)if(t.calculateBounds(),t._mask){const e=t._mask.isMaskData?t._mask.maskObject:t._mask;e?(e.calculateBounds(),this._bounds.addBoundsMask(t._bounds,e._bounds)):this._bounds.addBounds(t._bounds)}else t.filterArea?this._bounds.addBoundsArea(t._bounds,t.filterArea):this._bounds.addBounds(t._bounds)}this._bounds.updateID=this._boundsID}getLocalBounds(e){let t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];const n=super.getLocalBounds(e);if(!t)for(let r=0,i=this.children.length;r<i;++r){const e=this.children[r];e.visible&&e.updateTransform()}return n}_calculateBounds(){}_renderWithCulling(t){const n=t.renderTexture.sourceFrame;if(!(n.width>0&&n.height>0))return;let r,i;this.cullArea?(r=this.cullArea,i=this.worldTransform):this._render!==e.prototype._render&&(r=this.getBounds(!0));const s=t.projection.transform;if(s&&(i?(i=va.copyFrom(i),i.prepend(s)):i=s),r&&n.intersects(r,i))this._render(t);else if(this.cullArea)return;for(let e=0,o=this.children.length;e<o;++e){const n=this.children[e],r=n.cullable;n.cullable=r||!this.cullArea,n.render(t),n.cullable=r}}render(e){var t;if(this.visible&&!(this.worldAlpha<=0)&&this.renderable)if(this._mask||null!==(t=this.filters)&&void 0!==t&&t.length)this.renderAdvanced(e);else if(this.cullable)this._renderWithCulling(e);else{this._render(e);for(let t=0,n=this.children.length;t<n;++t)this.children[t].render(e)}}renderAdvanced(e){var t,n,r;const i=this.filters,s=this._mask;if(i){this._enabledFilters||(this._enabledFilters=[]),this._enabledFilters.length=0;for(let e=0;e<i.length;e++)i[e].enabled&&this._enabledFilters.push(i[e])}const o=i&&(null===(t=this._enabledFilters)||void 0===t?void 0:t.length)||s&&(!s.isMaskData||s.enabled&&(s.autoDetect||s.type!==On.NONE));if(o&&e.batch.flush(),i&&null!==(n=this._enabledFilters)&&void 0!==n&&n.length&&e.filter.push(this,this._enabledFilters),s&&e.mask.push(this,this._mask),this.cullable)this._renderWithCulling(e);else{this._render(e);for(let t=0,n=this.children.length;t<n;++t)this.children[t].render(e)}o&&e.batch.flush(),s&&e.mask.pop(this),i&&(null===(r=this._enabledFilters)||void 0===r?void 0:r.length)&&e.filter.pop()}_render(e){}destroy(e){super.destroy(),this.sortDirty=!1;const t="boolean"==typeof e?e:null===e||void 0===e?void 0:e.children,n=this.removeChildren(0,this.children.length);if(t)for(let r=0;r<n.length;++r)n[r].destroy(e)}get width(){return this.scale.x*this.getLocalBounds().width}set width(e){const t=this.getLocalBounds().width;this.scale.x=0!==t?e/t:1,this._width=e}get height(){return this.scale.y*this.getLocalBounds().height}set height(e){const t=this.getLocalBounds().height;this.scale.y=0!==t?e/t:1,this._height=e}};_a.defaultSortableChildren=!1;let xa=_a;xa.prototype.containerUpdateTransform=xa.prototype.updateTransform,Object.defineProperties(Bn,{SORTABLE_CHILDREN:{get:()=>xa.defaultSortableChildren,set(e){ar("7.1.0","settings.SORTABLE_CHILDREN is deprecated, use Container.defaultSortableChildren"),xa.defaultSortableChildren=e}}});const wa=new Gi,Aa=new Uint16Array([0,1,2,0,2,3]);class Ea extends xa{constructor(e){super(),this._anchor=new ns(this._onAnchorUpdate,this,e?e.defaultAnchor.x:0,e?e.defaultAnchor.y:0),this._texture=null,this._width=0,this._height=0,this._tintColor=new jr(16777215),this._tintRGB=null,this.tint=16777215,this.blendMode=xn.NORMAL,this._cachedTint=16777215,this.uvs=null,this.texture=e||js.EMPTY,this.vertexData=new Float32Array(8),this.vertexTrimmedData=null,this._transformID=-1,this._textureID=-1,this._transformTrimmedID=-1,this._textureTrimmedID=-1,this.indices=Aa,this.pluginName="batch",this.isSprite=!0,this._roundPixels=Bn.ROUND_PIXELS}_onTextureUpdate(){this._textureID=-1,this._textureTrimmedID=-1,this._cachedTint=16777215,this._width&&(this.scale.x=Zr(this.scale.x)*this._width/this._texture.orig.width),this._height&&(this.scale.y=Zr(this.scale.y)*this._height/this._texture.orig.height)}_onAnchorUpdate(){this._transformID=-1,this._transformTrimmedID=-1}calculateVertices(){const e=this._texture;if(this._transformID===this.transform._worldID&&this._textureID===e._updateID)return;this._textureID!==e._updateID&&(this.uvs=this._texture._uvs.uvsFloat32),this._transformID=this.transform._worldID,this._textureID=e._updateID;const t=this.transform.worldTransform,n=t.a,r=t.b,i=t.c,s=t.d,o=t.tx,a=t.ty,l=this.vertexData,u=e.trim,c=e.orig,h=this._anchor;let d=0,f=0,p=0,m=0;if(u?(f=u.x-h._x*c.width,d=f+u.width,m=u.y-h._y*c.height,p=m+u.height):(f=-h._x*c.width,d=f+c.width,m=-h._y*c.height,p=m+c.height),l[0]=n*f+i*m+o,l[1]=s*m+r*f+a,l[2]=n*d+i*m+o,l[3]=s*m+r*d+a,l[4]=n*d+i*p+o,l[5]=s*p+r*d+a,l[6]=n*f+i*p+o,l[7]=s*p+r*f+a,this._roundPixels){const e=Bn.RESOLUTION;for(let t=0;t<l.length;++t)l[t]=Math.round(l[t]*e)/e}}calculateTrimmedVertices(){if(this.vertexTrimmedData){if(this._transformTrimmedID===this.transform._worldID&&this._textureTrimmedID===this._texture._updateID)return}else this.vertexTrimmedData=new Float32Array(8);this._transformTrimmedID=this.transform._worldID,this._textureTrimmedID=this._texture._updateID;const e=this._texture,t=this.vertexTrimmedData,n=e.orig,r=this._anchor,i=this.transform.worldTransform,s=i.a,o=i.b,a=i.c,l=i.d,u=i.tx,c=i.ty,h=-r._x*n.width,d=h+n.width,f=-r._y*n.height,p=f+n.height;if(t[0]=s*h+a*f+u,t[1]=l*f+o*h+c,t[2]=s*d+a*f+u,t[3]=l*f+o*d+c,t[4]=s*d+a*p+u,t[5]=l*p+o*d+c,t[6]=s*h+a*p+u,t[7]=l*p+o*h+c,this._roundPixels){const e=Bn.RESOLUTION;for(let n=0;n<t.length;++n)t[n]=Math.round(t[n]*e)/e}}_render(e){this.calculateVertices(),e.batch.setObjectRenderer(e.plugins[this.pluginName]),e.plugins[this.pluginName].render(this)}_calculateBounds(){const e=this._texture.trim,t=this._texture.orig;!e||e.width===t.width&&e.height===t.height?(this.calculateVertices(),this._bounds.addQuad(this.vertexData)):(this.calculateTrimmedVertices(),this._bounds.addQuad(this.vertexTrimmedData))}getLocalBounds(e){return 0===this.children.length?(this._localBounds||(this._localBounds=new ma),this._localBounds.minX=this._texture.orig.width*-this._anchor._x,this._localBounds.minY=this._texture.orig.height*-this._anchor._y,this._localBounds.maxX=this._texture.orig.width*(1-this._anchor._x),this._localBounds.maxY=this._texture.orig.height*(1-this._anchor._y),e||(this._localBoundsRect||(this._localBoundsRect=new Hi),e=this._localBoundsRect),this._localBounds.getRectangle(e)):super.getLocalBounds.call(this,e)}containsPoint(e){this.worldTransform.applyInverse(e,wa);const t=this._texture.orig.width,n=this._texture.orig.height,r=-t*this.anchor.x;let i=0;return wa.x>=r&&wa.x<r+t&&(i=-n*this.anchor.y,wa.y>=i&&wa.y<i+n)}destroy(e){if(super.destroy(e),this._texture.off("update",this._onTextureUpdate,this),this._anchor=null,"boolean"==typeof e?e:null===e||void 0===e?void 0:e.texture){const t="boolean"==typeof e?e:null===e||void 0===e?void 0:e.baseTexture;this._texture.destroy(!!t)}this._texture=null}static from(e,t){const n=e instanceof js?e:js.from(e,t);return new Ea(n)}set roundPixels(e){this._roundPixels!==e&&(this._transformID=-1,this._transformTrimmedID=-1),this._roundPixels=e}get roundPixels(){return this._roundPixels}get width(){return Math.abs(this.scale.x)*this._texture.orig.width}set width(e){const t=Zr(this.scale.x)||1;this.scale.x=t*e/this._texture.orig.width,this._width=e}get height(){return Math.abs(this.scale.y)*this._texture.orig.height}set height(e){const t=Zr(this.scale.y)||1;this.scale.y=t*e/this._texture.orig.height,this._height=e}get anchor(){return this._anchor}set anchor(e){this._anchor.copyFrom(e)}get tint(){return this._tintColor.value}set tint(e){this._tintColor.setValue(e),this._tintRGB=this._tintColor.toLittleEndianNumber()}get tintValue(){return this._tintColor.toNumber()}get texture(){return this._texture}set texture(e){this._texture!==e&&(this._texture&&this._texture.off("update",this._onTextureUpdate,this),this._texture=e||js.EMPTY,this._cachedTint=16777215,this._textureID=-1,this._textureTrimmedID=-1,e&&(e.baseTexture.valid?this._onTextureUpdate():e.once("update",this._onTextureUpdate,this)))}}const Sa=new Yi;ga.prototype._cacheAsBitmap=!1,ga.prototype._cacheData=null,ga.prototype._cacheAsBitmapResolution=null,ga.prototype._cacheAsBitmapMultisample=null;class Ta{constructor(){this.textureCacheId=null,this.originalRender=null,this.originalRenderCanvas=null,this.originalCalculateBounds=null,this.originalGetLocalBounds=null,this.originalUpdateTransform=null,this.originalDestroy=null,this.originalMask=null,this.originalFilterArea=null,this.originalContainsPoint=null,this.sprite=null}}Object.defineProperties(ga.prototype,{cacheAsBitmapResolution:{get(){return this._cacheAsBitmapResolution},set(e){e!==this._cacheAsBitmapResolution&&(this._cacheAsBitmapResolution=e,this.cacheAsBitmap&&(this.cacheAsBitmap=!1,this.cacheAsBitmap=!0))}},cacheAsBitmapMultisample:{get(){return this._cacheAsBitmapMultisample},set(e){e!==this._cacheAsBitmapMultisample&&(this._cacheAsBitmapMultisample=e,this.cacheAsBitmap&&(this.cacheAsBitmap=!1,this.cacheAsBitmap=!0))}},cacheAsBitmap:{get(){return this._cacheAsBitmap},set(e){if(this._cacheAsBitmap===e)return;let t;this._cacheAsBitmap=e,e?(this._cacheData||(this._cacheData=new Ta),t=this._cacheData,t.originalRender=this.render,t.originalRenderCanvas=this.renderCanvas,t.originalUpdateTransform=this.updateTransform,t.originalCalculateBounds=this.calculateBounds,t.originalGetLocalBounds=this.getLocalBounds,t.originalDestroy=this.destroy,t.originalContainsPoint=this.containsPoint,t.originalMask=this._mask,t.originalFilterArea=this.filterArea,this.render=this._renderCached,this.renderCanvas=this._renderCachedCanvas,this.destroy=this._cacheAsBitmapDestroy):(t=this._cacheData,t.sprite&&this._destroyCachedDisplayObject(),this.render=t.originalRender,this.renderCanvas=t.originalRenderCanvas,this.calculateBounds=t.originalCalculateBounds,this.getLocalBounds=t.originalGetLocalBounds,this.destroy=t.originalDestroy,this.updateTransform=t.originalUpdateTransform,this.containsPoint=t.originalContainsPoint,this._mask=t.originalMask,this.filterArea=t.originalFilterArea)}}}),ga.prototype._renderCached=function(e){!this.visible||this.worldAlpha<=0||!this.renderable||(this._initCachedDisplayObject(e),this._cacheData.sprite.transform._worldID=this.transform._worldID,this._cacheData.sprite.worldAlpha=this.worldAlpha,this._cacheData.sprite._render(e))},ga.prototype._initCachedDisplayObject=function(e){var t,n,r;if(null!==(t=this._cacheData)&&void 0!==t&&t.sprite)return;const i=this.alpha;this.alpha=1,e.batch.flush();const s=this.getLocalBounds(new Hi,!0);if(null!==(n=this.filters)&&void 0!==n&&n.length){const e=this.filters[0].padding;s.pad(e)}const o=this.cacheAsBitmapResolution||e.resolution;s.ceil(o),s.width=Math.max(s.width,1/o),s.height=Math.max(s.height,1/o);const a=e.renderTexture.current,l=e.renderTexture.sourceFrame.clone(),u=e.renderTexture.destinationFrame.clone(),c=e.projection.transform,h=Ws.create({width:s.width,height:s.height,resolution:o,multisample:null!==(r=this.cacheAsBitmapMultisample)&&void 0!==r?r:e.multisample}),d="cacheAsBitmap_".concat($r());this._cacheData.textureCacheId=d,Si.addToCache(h.baseTexture,d),js.addToCache(h,d);const f=this.transform.localTransform.copyTo(Sa).invert().translate(-s.x,-s.y);this.render=this._cacheData.originalRender,e.render(this,{renderTexture:h,clear:!0,transform:f,skipUpdateTransform:!1}),e.framebuffer.blit(),e.projection.transform=c,e.renderTexture.bind(a,l,u),this.render=this._renderCached,this.updateTransform=this.displayObjectUpdateTransform,this.calculateBounds=this._calculateCachedBounds,this.getLocalBounds=this._getCachedLocalBounds,this._mask=null,this.filterArea=null,this.alpha=i;const p=new Ea(h);p.transform.worldTransform=this.transform.worldTransform,p.anchor.x=-s.x/s.width,p.anchor.y=-s.y/s.height,p.alpha=i,p._bounds=this._bounds,this._cacheData.sprite=p,this.transform._parentID=-1,this.parent?this.updateTransform():(this.enableTempParent(),this.updateTransform(),this.disableTempParent(null)),this.containsPoint=p.containsPoint.bind(p)},ga.prototype._renderCachedCanvas=function(e){!this.visible||this.worldAlpha<=0||!this.renderable||(this._initCachedDisplayObjectCanvas(e),this._cacheData.sprite.worldAlpha=this.worldAlpha,this._cacheData.sprite._renderCanvas(e))},ga.prototype._initCachedDisplayObjectCanvas=function(e){var t;if(null!==(t=this._cacheData)&&void 0!==t&&t.sprite)return;const n=this.getLocalBounds(new Hi,!0),r=this.alpha;this.alpha=1;const i=e.canvasContext.activeContext,s=e._projTransform,o=this.cacheAsBitmapResolution||e.resolution;n.ceil(o),n.width=Math.max(n.width,1/o),n.height=Math.max(n.height,1/o);const a=Ws.create({width:n.width,height:n.height,resolution:o}),l="cacheAsBitmap_".concat($r());this._cacheData.textureCacheId=l,Si.addToCache(a.baseTexture,l),js.addToCache(a,l);const u=Sa;this.transform.localTransform.copyTo(u),u.invert(),u.tx-=n.x,u.ty-=n.y,this.renderCanvas=this._cacheData.originalRenderCanvas,e.render(this,{renderTexture:a,clear:!0,transform:u,skipUpdateTransform:!1}),e.canvasContext.activeContext=i,e._projTransform=s,this.renderCanvas=this._renderCachedCanvas,this.updateTransform=this.displayObjectUpdateTransform,this.calculateBounds=this._calculateCachedBounds,this.getLocalBounds=this._getCachedLocalBounds,this._mask=null,this.filterArea=null,this.alpha=r;const c=new Ea(a);c.transform.worldTransform=this.transform.worldTransform,c.anchor.x=-n.x/n.width,c.anchor.y=-n.y/n.height,c.alpha=r,c._bounds=this._bounds,this._cacheData.sprite=c,this.transform._parentID=-1,this.parent?this.updateTransform():(this.parent=e._tempDisplayObjectParent,this.updateTransform(),this.parent=null),this.containsPoint=c.containsPoint.bind(c)},ga.prototype._calculateCachedBounds=function(){this._bounds.clear(),this._cacheData.sprite.transform._worldID=this.transform._worldID,this._cacheData.sprite._calculateBounds(),this._bounds.updateID=this._boundsID},ga.prototype._getCachedLocalBounds=function(){return this._cacheData.sprite.getLocalBounds(null)},ga.prototype._destroyCachedDisplayObject=function(){this._cacheData.sprite._texture.destroy(!0),this._cacheData.sprite=null,Si.removeFromCache(this._cacheData.textureCacheId),js.removeFromCache(this._cacheData.textureCacheId),this._cacheData.textureCacheId=null},ga.prototype._cacheAsBitmapDestroy=function(e){this.cacheAsBitmap=!1,this.destroy(e)},ga.prototype.name=null,xa.prototype.getChildByName=function(e,t){for(let n=0,r=this.children.length;n<r;n++)if(this.children[n].name===e)return this.children[n];if(t)for(let n=0,r=this.children.length;n<r;n++){const t=this.children[n];if(!t.getChildByName)continue;const r=t.getChildByName(e,!0);if(r)return r}return null},ga.prototype.getGlobalPosition=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:new Gi,t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];return this.parent?this.parent.toGlobal(this.position,e,t):(e.x=this.position.x,e.y=this.position.y),e};const Ca={5:[.153388,.221461,.250301],7:[.071303,.131514,.189879,.214607],9:[.028532,.067234,.124009,.179044,.20236],11:[.0093,.028002,.065984,.121703,.175713,.198596],13:[.002406,.009255,.027867,.065666,.121117,.174868,.197641],15:[489e-6,.002403,.009246,.02784,.065602,.120999,.174697,.197448]},ka=["varying vec2 vBlurTexCoords[%size%];","uniform sampler2D uSampler;","void main(void)","{","    gl_FragColor = vec4(0.0);","    %blur%","}"].join("\n");class Ra extends Is{constructor(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:8,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:4,r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:Is.defaultResolution,i=arguments.length>4&&void 0!==arguments[4]?arguments[4]:5;const s=function(e,t){const n=Math.ceil(e/2);let r,i="\n    attribute vec2 aVertexPosition;\n\n    uniform mat3 projectionMatrix;\n\n    uniform float strength;\n\n    varying vec2 vBlurTexCoords[%size%];\n\n    uniform vec4 inputSize;\n    uniform vec4 outputFrame;\n\n    vec4 filterVertexPosition( void )\n    {\n        vec2 position = aVertexPosition * max(outputFrame.zw, vec2(0.)) + outputFrame.xy;\n\n        return vec4((projectionMatrix * vec3(position, 1.0)).xy, 0.0, 1.0);\n    }\n\n    vec2 filterTextureCoord( void )\n    {\n        return aVertexPosition * (outputFrame.zw * inputSize.zw);\n    }\n\n    void main(void)\n    {\n        gl_Position = filterVertexPosition();\n\n        vec2 textureCoord = filterTextureCoord();\n        %blur%\n    }",s="";r=t?"vBlurTexCoords[%index%] =  textureCoord + vec2(%sampleIndex% * strength, 0.0);":"vBlurTexCoords[%index%] =  textureCoord + vec2(0.0, %sampleIndex% * strength);";for(let o=0;o<e;o++){let e=r.replace("%index%",o.toString());e=e.replace("%sampleIndex%","".concat(o-(n-1),".0")),s+=e,s+="\n"}return i=i.replace("%blur%",s),i=i.replace("%size%",e.toString()),i}(i,e),o=function(e){const t=Ca[e],n=t.length;let r,i=ka,s="";for(let o=0;o<e;o++){let i="gl_FragColor += texture2D(uSampler, vBlurTexCoords[%index%]) * %value%;".replace("%index%",o.toString());r=o,o>=n&&(r=e-o-1),i=i.replace("%value%",t[r].toString()),s+=i,s+="\n"}return i=i.replace("%blur%",s),i=i.replace("%size%",e.toString()),i}(i);super(s,o),this.horizontal=e,this.resolution=r,this._quality=0,this.quality=n,this.blur=t}apply(e,t,n,r){if(n?this.horizontal?this.uniforms.strength=1/n.width*(n.width/t.width):this.uniforms.strength=1/n.height*(n.height/t.height):this.horizontal?this.uniforms.strength=1/e.renderer.width*(e.renderer.width/t.width):this.uniforms.strength=1/e.renderer.height*(e.renderer.height/t.height),this.uniforms.strength*=this.strength,this.uniforms.strength/=this.passes,1===this.passes)e.applyFilter(this,t,n,r);else{const i=e.getFilterTexture(),s=e.renderer;let o=t,a=i;this.state.blend=!1,e.applyFilter(this,o,a,In.CLEAR);for(let t=1;t<this.passes-1;t++){e.bindAndClear(o,In.BLIT),this.uniforms.uSampler=a;const t=a;a=o,o=t,s.shader.bind(this),s.geometry.draw(5)}this.state.blend=!0,e.applyFilter(this,a,n,r),e.returnFilterTexture(i)}}get blur(){return this.strength}set blur(e){this.padding=1+2*Math.abs(e),this.strength=e}get quality(){return this._quality}set quality(e){this._quality=e,this.passes=e}}class Pa extends Is{constructor(){const e={m:new Float32Array([1,0,0,0,0,0,1,0,0,0,0,0,1,0,0,0,0,0,1,0]),uAlpha:1};super(ea,"varying vec2 vTextureCoord;\nuniform sampler2D uSampler;\nuniform float m[20];\nuniform float uAlpha;\n\nvoid main(void)\n{\n    vec4 c = texture2D(uSampler, vTextureCoord);\n\n    if (uAlpha == 0.0) {\n        gl_FragColor = c;\n        return;\n    }\n\n    // Un-premultiply alpha before applying the color matrix. See issue #3539.\n    if (c.a > 0.0) {\n      c.rgb /= c.a;\n    }\n\n    vec4 result;\n\n    result.r = (m[0] * c.r);\n        result.r += (m[1] * c.g);\n        result.r += (m[2] * c.b);\n        result.r += (m[3] * c.a);\n        result.r += m[4];\n\n    result.g = (m[5] * c.r);\n        result.g += (m[6] * c.g);\n        result.g += (m[7] * c.b);\n        result.g += (m[8] * c.a);\n        result.g += m[9];\n\n    result.b = (m[10] * c.r);\n       result.b += (m[11] * c.g);\n       result.b += (m[12] * c.b);\n       result.b += (m[13] * c.a);\n       result.b += m[14];\n\n    result.a = (m[15] * c.r);\n       result.a += (m[16] * c.g);\n       result.a += (m[17] * c.b);\n       result.a += (m[18] * c.a);\n       result.a += m[19];\n\n    vec3 rgb = mix(c.rgb, result.rgb, uAlpha);\n\n    // Premultiply alpha again.\n    rgb *= result.a;\n\n    gl_FragColor = vec4(rgb, result.a);\n}\n",e),this.alpha=1}_loadMatrix(e){let t=e;arguments.length>1&&void 0!==arguments[1]&&arguments[1]&&(this._multiply(t,this.uniforms.m,e),t=this._colorMatrix(t)),this.uniforms.m=t}_multiply(e,t,n){return e[0]=t[0]*n[0]+t[1]*n[5]+t[2]*n[10]+t[3]*n[15],e[1]=t[0]*n[1]+t[1]*n[6]+t[2]*n[11]+t[3]*n[16],e[2]=t[0]*n[2]+t[1]*n[7]+t[2]*n[12]+t[3]*n[17],e[3]=t[0]*n[3]+t[1]*n[8]+t[2]*n[13]+t[3]*n[18],e[4]=t[0]*n[4]+t[1]*n[9]+t[2]*n[14]+t[3]*n[19]+t[4],e[5]=t[5]*n[0]+t[6]*n[5]+t[7]*n[10]+t[8]*n[15],e[6]=t[5]*n[1]+t[6]*n[6]+t[7]*n[11]+t[8]*n[16],e[7]=t[5]*n[2]+t[6]*n[7]+t[7]*n[12]+t[8]*n[17],e[8]=t[5]*n[3]+t[6]*n[8]+t[7]*n[13]+t[8]*n[18],e[9]=t[5]*n[4]+t[6]*n[9]+t[7]*n[14]+t[8]*n[19]+t[9],e[10]=t[10]*n[0]+t[11]*n[5]+t[12]*n[10]+t[13]*n[15],e[11]=t[10]*n[1]+t[11]*n[6]+t[12]*n[11]+t[13]*n[16],e[12]=t[10]*n[2]+t[11]*n[7]+t[12]*n[12]+t[13]*n[17],e[13]=t[10]*n[3]+t[11]*n[8]+t[12]*n[13]+t[13]*n[18],e[14]=t[10]*n[4]+t[11]*n[9]+t[12]*n[14]+t[13]*n[19]+t[14],e[15]=t[15]*n[0]+t[16]*n[5]+t[17]*n[10]+t[18]*n[15],e[16]=t[15]*n[1]+t[16]*n[6]+t[17]*n[11]+t[18]*n[16],e[17]=t[15]*n[2]+t[16]*n[7]+t[17]*n[12]+t[18]*n[17],e[18]=t[15]*n[3]+t[16]*n[8]+t[17]*n[13]+t[18]*n[18],e[19]=t[15]*n[4]+t[16]*n[9]+t[17]*n[14]+t[18]*n[19]+t[19],e}_colorMatrix(e){const t=new Float32Array(e);return t[4]/=255,t[9]/=255,t[14]/=255,t[19]/=255,t}brightness(e,t){const n=[e,0,0,0,0,0,e,0,0,0,0,0,e,0,0,0,0,0,1,0];this._loadMatrix(n,t)}tint(e,t){const[n,r,i]=jr.shared.setValue(e).toArray(),s=[n,0,0,0,0,0,r,0,0,0,0,0,i,0,0,0,0,0,1,0];this._loadMatrix(s,t)}greyscale(e,t){const n=[e,e,e,0,0,e,e,e,0,0,e,e,e,0,0,0,0,0,1,0];this._loadMatrix(n,t)}blackAndWhite(e){this._loadMatrix([.3,.6,.1,0,0,.3,.6,.1,0,0,.3,.6,.1,0,0,0,0,0,1,0],e)}hue(e,t){e=(e||0)/180*Math.PI;const n=Math.cos(e),r=Math.sin(e),i=1/3,s=(0,Math.sqrt)(i),o=[n+(1-n)*i,i*(1-n)-s*r,i*(1-n)+s*r,0,0,i*(1-n)+s*r,n+i*(1-n),i*(1-n)-s*r,0,0,i*(1-n)-s*r,i*(1-n)+s*r,n+i*(1-n),0,0,0,0,0,1,0];this._loadMatrix(o,t)}contrast(e,t){const n=(e||0)+1,r=-.5*(n-1),i=[n,0,0,0,r,0,n,0,0,r,0,0,n,0,r,0,0,0,1,0];this._loadMatrix(i,t)}saturate(){let e=arguments.length>1?arguments[1]:void 0;const t=2*(arguments.length>0&&void 0!==arguments[0]?arguments[0]:0)/3+1,n=-.5*(t-1),r=[t,n,n,0,0,n,t,n,0,0,n,n,t,0,0,0,0,0,1,0];this._loadMatrix(r,e)}desaturate(){this.saturate(-1)}negative(e){this._loadMatrix([-1,0,0,1,0,0,-1,0,1,0,0,0,-1,1,0,0,0,0,1,0],e)}sepia(e){this._loadMatrix([.393,.7689999,.18899999,0,0,.349,.6859999,.16799999,0,0,.272,.5339999,.13099999,0,0,0,0,0,1,0],e)}technicolor(e){this._loadMatrix([1.9125277891456083,-.8545344976951645,-.09155508482755585,0,11.793603434377337,-.3087833385928097,1.7658908555458428,-.10601743074722245,0,-70.35205161461398,-.231103377548616,-.7501899197440212,1.847597816108189,0,30.950940869491138,0,0,0,1,0],e)}polaroid(e){this._loadMatrix([1.438,-.062,-.062,0,0,-.122,1.378,-.122,0,0,-.016,-.016,1.483,0,0,0,0,0,1,0],e)}toBGR(e){this._loadMatrix([0,0,1,0,0,0,1,0,0,0,1,0,0,0,0,0,0,0,1,0],e)}kodachrome(e){this._loadMatrix([1.1285582396593525,-.3967382283601348,-.03992559172921793,0,63.72958762196502,-.16404339962244616,1.0835251566291304,-.05498805115633132,0,24.732407896706203,-.16786010706155763,-.5603416277695248,1.6014850761964943,0,35.62982807460946,0,0,0,1,0],e)}browni(e){this._loadMatrix([.5997023498159715,.34553243048391263,-.2708298674538042,0,47.43192855600873,-.037703249837783157,.8609577587992641,.15059552388459913,0,-36.96841498319127,.24113635128153335,-.07441037908422492,.44972182064877153,0,-7.562075277591283,0,0,0,1,0],e)}vintage(e){this._loadMatrix([.6279345635605994,.3202183420819367,-.03965408211312453,0,9.651285835294123,.02578397704808868,.6441188644374771,.03259127616149294,0,7.462829176470591,.0466055556782719,-.0851232987247891,.5241648018700465,0,5.159190588235296,0,0,0,1,0],e)}colorTone(e,t,n,r,i){e=e||.2,t=t||.15,n=n||16770432,r=r||3375104;const s=jr.shared,[o,a,l]=s.setValue(n).toArray(),[u,c,h]=s.setValue(r).toArray(),d=[.3,.59,.11,0,0,o,a,l,e,0,u,c,h,t,0,o-u,a-c,l-h,0,0];this._loadMatrix(d,i)}night(e,t){const n=[-2*(e=e||.1),-e,0,0,0,-e,0,e,0,0,0,e,2*e,0,0,0,0,0,1,0];this._loadMatrix(n,t)}predator(e,t){const n=[11.224130630493164*e,-4.794486999511719*e,-2.8746118545532227*e,0*e,.40342438220977783*e,-3.6330697536468506*e,9.193157196044922*e,-2.951810836791992*e,0*e,-1.316135048866272*e,-3.2184197902679443*e,-4.2375030517578125*e,7.476448059082031*e,0*e,.8044459223747253*e,0,0,0,1,0];this._loadMatrix(n,t)}lsd(e){this._loadMatrix([2,-.4,.5,0,0,-.5,2,-.4,0,0,-.4,-.5,3,0,0,0,0,0,1,0],e)}reset(){this._loadMatrix([1,0,0,0,0,0,1,0,0,0,0,0,1,0,0,0,0,0,1,0],!1)}get matrix(){return this.uniforms.m}set matrix(e){this.uniforms.m=e}get alpha(){return this.uniforms.uAlpha}set alpha(e){this.uniforms.uAlpha=e}}Pa.prototype.grayscale=Pa.prototype.greyscale;const Ia={AlphaFilter:class extends Is{constructor(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:1;super("attribute vec2 aVertexPosition;\nattribute vec2 aTextureCoord;\n\nuniform mat3 projectionMatrix;\n\nvarying vec2 vTextureCoord;\n\nvoid main(void)\n{\n    gl_Position = vec4((projectionMatrix * vec3(aVertexPosition, 1.0)).xy, 0.0, 1.0);\n    vTextureCoord = aTextureCoord;\n}","varying vec2 vTextureCoord;\n\nuniform sampler2D uSampler;\nuniform float uAlpha;\n\nvoid main(void)\n{\n   gl_FragColor = texture2D(uSampler, vTextureCoord) * uAlpha;\n}\n",{uAlpha:1}),this.alpha=e}get alpha(){return this.uniforms.uAlpha}set alpha(e){this.uniforms.uAlpha=e}},BlurFilter:class extends Is{constructor(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:8,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:4,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:Is.defaultResolution,r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:5;super(),this._repeatEdgePixels=!1,this.blurXFilter=new Ra(!0,e,t,n,r),this.blurYFilter=new Ra(!1,e,t,n,r),this.resolution=n,this.quality=t,this.blur=e,this.repeatEdgePixels=!1}apply(e,t,n,r){const i=Math.abs(this.blurXFilter.strength),s=Math.abs(this.blurYFilter.strength);if(i&&s){const i=e.getFilterTexture();this.blurXFilter.apply(e,t,i,In.CLEAR),this.blurYFilter.apply(e,i,n,r),e.returnFilterTexture(i)}else s?this.blurYFilter.apply(e,t,n,r):this.blurXFilter.apply(e,t,n,r)}updatePadding(){this._repeatEdgePixels?this.padding=0:this.padding=2*Math.max(Math.abs(this.blurXFilter.strength),Math.abs(this.blurYFilter.strength))}get blur(){return this.blurXFilter.blur}set blur(e){this.blurXFilter.blur=this.blurYFilter.blur=e,this.updatePadding()}get quality(){return this.blurXFilter.quality}set quality(e){this.blurXFilter.quality=this.blurYFilter.quality=e}get blurX(){return this.blurXFilter.blur}set blurX(e){this.blurXFilter.blur=e,this.updatePadding()}get blurY(){return this.blurYFilter.blur}set blurY(e){this.blurYFilter.blur=e,this.updatePadding()}get blendMode(){return this.blurYFilter.blendMode}set blendMode(e){this.blurYFilter.blendMode=e}get repeatEdgePixels(){return this._repeatEdgePixels}set repeatEdgePixels(e){this._repeatEdgePixels=e,this.updatePadding()}},BlurFilterPass:Ra,ColorMatrixFilter:Pa,DisplacementFilter:class extends Is{constructor(e,t){const n=new Yi;e.renderable=!1,super("attribute vec2 aVertexPosition;\n\nuniform mat3 projectionMatrix;\nuniform mat3 filterMatrix;\n\nvarying vec2 vTextureCoord;\nvarying vec2 vFilterCoord;\n\nuniform vec4 inputSize;\nuniform vec4 outputFrame;\n\nvec4 filterVertexPosition( void )\n{\n    vec2 position = aVertexPosition * max(outputFrame.zw, vec2(0.)) + outputFrame.xy;\n\n    return vec4((projectionMatrix * vec3(position, 1.0)).xy, 0.0, 1.0);\n}\n\nvec2 filterTextureCoord( void )\n{\n    return aVertexPosition * (outputFrame.zw * inputSize.zw);\n}\n\nvoid main(void)\n{\n\tgl_Position = filterVertexPosition();\n\tvTextureCoord = filterTextureCoord();\n\tvFilterCoord = ( filterMatrix * vec3( vTextureCoord, 1.0)  ).xy;\n}\n","varying vec2 vFilterCoord;\nvarying vec2 vTextureCoord;\n\nuniform vec2 scale;\nuniform mat2 rotation;\nuniform sampler2D uSampler;\nuniform sampler2D mapSampler;\n\nuniform highp vec4 inputSize;\nuniform vec4 inputClamp;\n\nvoid main(void)\n{\n  vec4 map =  texture2D(mapSampler, vFilterCoord);\n\n  map -= 0.5;\n  map.xy = scale * inputSize.zw * (rotation * map.xy);\n\n  gl_FragColor = texture2D(uSampler, clamp(vec2(vTextureCoord.x + map.x, vTextureCoord.y + map.y), inputClamp.xy, inputClamp.zw));\n}\n",{mapSampler:e._texture,filterMatrix:n,scale:{x:1,y:1},rotation:new Float32Array([1,0,0,1])}),this.maskSprite=e,this.maskMatrix=n,null==t&&(t=20),this.scale=new Gi(t,t)}apply(e,t,n,r){this.uniforms.filterMatrix=e.calculateSpriteMatrix(this.maskMatrix,this.maskSprite),this.uniforms.scale.x=this.scale.x,this.uniforms.scale.y=this.scale.y;const i=this.maskSprite.worldTransform,s=Math.sqrt(i.a*i.a+i.b*i.b),o=Math.sqrt(i.c*i.c+i.d*i.d);0!==s&&0!==o&&(this.uniforms.rotation[0]=i.a/s,this.uniforms.rotation[1]=i.b/s,this.uniforms.rotation[2]=i.c/o,this.uniforms.rotation[3]=i.d/o),e.applyFilter(this,t,n,r)}get map(){return this.uniforms.mapSampler}set map(e){this.uniforms.mapSampler=e}},FXAAFilter:class extends Is{constructor(){super("\nattribute vec2 aVertexPosition;\n\nuniform mat3 projectionMatrix;\n\nvarying vec2 v_rgbNW;\nvarying vec2 v_rgbNE;\nvarying vec2 v_rgbSW;\nvarying vec2 v_rgbSE;\nvarying vec2 v_rgbM;\n\nvarying vec2 vFragCoord;\n\nuniform vec4 inputSize;\nuniform vec4 outputFrame;\n\nvec4 filterVertexPosition( void )\n{\n    vec2 position = aVertexPosition * max(outputFrame.zw, vec2(0.)) + outputFrame.xy;\n\n    return vec4((projectionMatrix * vec3(position, 1.0)).xy, 0.0, 1.0);\n}\n\nvoid texcoords(vec2 fragCoord, vec2 inverseVP,\n               out vec2 v_rgbNW, out vec2 v_rgbNE,\n               out vec2 v_rgbSW, out vec2 v_rgbSE,\n               out vec2 v_rgbM) {\n    v_rgbNW = (fragCoord + vec2(-1.0, -1.0)) * inverseVP;\n    v_rgbNE = (fragCoord + vec2(1.0, -1.0)) * inverseVP;\n    v_rgbSW = (fragCoord + vec2(-1.0, 1.0)) * inverseVP;\n    v_rgbSE = (fragCoord + vec2(1.0, 1.0)) * inverseVP;\n    v_rgbM = vec2(fragCoord * inverseVP);\n}\n\nvoid main(void) {\n\n   gl_Position = filterVertexPosition();\n\n   vFragCoord = aVertexPosition * outputFrame.zw;\n\n   texcoords(vFragCoord, inputSize.zw, v_rgbNW, v_rgbNE, v_rgbSW, v_rgbSE, v_rgbM);\n}\n",'varying vec2 v_rgbNW;\nvarying vec2 v_rgbNE;\nvarying vec2 v_rgbSW;\nvarying vec2 v_rgbSE;\nvarying vec2 v_rgbM;\n\nvarying vec2 vFragCoord;\nuniform sampler2D uSampler;\nuniform highp vec4 inputSize;\n\n\n/**\n Basic FXAA implementation based on the code on geeks3d.com with the\n modification that the texture2DLod stuff was removed since it\'s\n unsupported by WebGL.\n\n --\n\n From:\n https://github.com/mitsuhiko/webgl-meincraft\n\n Copyright (c) 2011 by Armin Ronacher.\n\n Some rights reserved.\n\n Redistribution and use in source and binary forms, with or without\n modification, are permitted provided that the following conditions are\n met:\n\n * Redistributions of source code must retain the above copyright\n notice, this list of conditions and the following disclaimer.\n\n * Redistributions in binary form must reproduce the above\n copyright notice, this list of conditions and the following\n disclaimer in the documentation and/or other materials provided\n with the distribution.\n\n * The names of the contributors may not be used to endorse or\n promote products derived from this software without specific\n prior written permission.\n\n THIS SOFTWARE IS PROVIDED BY THE COPYRIGHT HOLDERS AND CONTRIBUTORS\n "AS IS" AND ANY EXPRESS OR IMPLIED WARRANTIES, INCLUDING, BUT NOT\n LIMITED TO, THE IMPLIED WARRANTIES OF MERCHANTABILITY AND FITNESS FOR\n A PARTICULAR PURPOSE ARE DISCLAIMED. IN NO EVENT SHALL THE COPYRIGHT\n OWNER OR CONTRIBUTORS BE LIABLE FOR ANY DIRECT, INDIRECT, INCIDENTAL,\n SPECIAL, EXEMPLARY, OR CONSEQUENTIAL DAMAGES (INCLUDING, BUT NOT\n LIMITED TO, PROCUREMENT OF SUBSTITUTE GOODS OR SERVICES; LOSS OF USE,\n DATA, OR PROFITS; OR BUSINESS INTERRUPTION) HOWEVER CAUSED AND ON ANY\n THEORY OF LIABILITY, WHETHER IN CONTRACT, STRICT LIABILITY, OR TORT\n (INCLUDING NEGLIGENCE OR OTHERWISE) ARISING IN ANY WAY OUT OF THE USE\n OF THIS SOFTWARE, EVEN IF ADVISED OF THE POSSIBILITY OF SUCH DAMAGE.\n */\n\n#ifndef FXAA_REDUCE_MIN\n#define FXAA_REDUCE_MIN   (1.0/ 128.0)\n#endif\n#ifndef FXAA_REDUCE_MUL\n#define FXAA_REDUCE_MUL   (1.0 / 8.0)\n#endif\n#ifndef FXAA_SPAN_MAX\n#define FXAA_SPAN_MAX     8.0\n#endif\n\n//optimized version for mobile, where dependent\n//texture reads can be a bottleneck\nvec4 fxaa(sampler2D tex, vec2 fragCoord, vec2 inverseVP,\n          vec2 v_rgbNW, vec2 v_rgbNE,\n          vec2 v_rgbSW, vec2 v_rgbSE,\n          vec2 v_rgbM) {\n    vec4 color;\n    vec3 rgbNW = texture2D(tex, v_rgbNW).xyz;\n    vec3 rgbNE = texture2D(tex, v_rgbNE).xyz;\n    vec3 rgbSW = texture2D(tex, v_rgbSW).xyz;\n    vec3 rgbSE = texture2D(tex, v_rgbSE).xyz;\n    vec4 texColor = texture2D(tex, v_rgbM);\n    vec3 rgbM  = texColor.xyz;\n    vec3 luma = vec3(0.299, 0.587, 0.114);\n    float lumaNW = dot(rgbNW, luma);\n    float lumaNE = dot(rgbNE, luma);\n    float lumaSW = dot(rgbSW, luma);\n    float lumaSE = dot(rgbSE, luma);\n    float lumaM  = dot(rgbM,  luma);\n    float lumaMin = min(lumaM, min(min(lumaNW, lumaNE), min(lumaSW, lumaSE)));\n    float lumaMax = max(lumaM, max(max(lumaNW, lumaNE), max(lumaSW, lumaSE)));\n\n    mediump vec2 dir;\n    dir.x = -((lumaNW + lumaNE) - (lumaSW + lumaSE));\n    dir.y =  ((lumaNW + lumaSW) - (lumaNE + lumaSE));\n\n    float dirReduce = max((lumaNW + lumaNE + lumaSW + lumaSE) *\n                          (0.25 * FXAA_REDUCE_MUL), FXAA_REDUCE_MIN);\n\n    float rcpDirMin = 1.0 / (min(abs(dir.x), abs(dir.y)) + dirReduce);\n    dir = min(vec2(FXAA_SPAN_MAX, FXAA_SPAN_MAX),\n              max(vec2(-FXAA_SPAN_MAX, -FXAA_SPAN_MAX),\n                  dir * rcpDirMin)) * inverseVP;\n\n    vec3 rgbA = 0.5 * (\n                       texture2D(tex, fragCoord * inverseVP + dir * (1.0 / 3.0 - 0.5)).xyz +\n                       texture2D(tex, fragCoord * inverseVP + dir * (2.0 / 3.0 - 0.5)).xyz);\n    vec3 rgbB = rgbA * 0.5 + 0.25 * (\n                                     texture2D(tex, fragCoord * inverseVP + dir * -0.5).xyz +\n                                     texture2D(tex, fragCoord * inverseVP + dir * 0.5).xyz);\n\n    float lumaB = dot(rgbB, luma);\n    if ((lumaB < lumaMin) || (lumaB > lumaMax))\n        color = vec4(rgbA, texColor.a);\n    else\n        color = vec4(rgbB, texColor.a);\n    return color;\n}\n\nvoid main() {\n\n      vec4 color;\n\n      color = fxaa(uSampler, vFragCoord, inputSize.zw, v_rgbNW, v_rgbNE, v_rgbSW, v_rgbSE, v_rgbM);\n\n      gl_FragColor = color;\n}\n')}},NoiseFilter:class extends Is{constructor(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:.5,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:Math.random();super(ea,"precision highp float;\n\nvarying vec2 vTextureCoord;\nvarying vec4 vColor;\n\nuniform float uNoise;\nuniform float uSeed;\nuniform sampler2D uSampler;\n\nfloat rand(vec2 co)\n{\n    return fract(sin(dot(co.xy, vec2(12.9898, 78.233))) * 43758.5453);\n}\n\nvoid main()\n{\n    vec4 color = texture2D(uSampler, vTextureCoord);\n    float randomValue = rand(gl_FragCoord.xy * uSeed);\n    float diff = (randomValue - 0.5) * uNoise;\n\n    // Un-premultiply alpha before applying the color matrix. See issue #3539.\n    if (color.a > 0.0) {\n        color.rgb /= color.a;\n    }\n\n    color.r += diff;\n    color.g += diff;\n    color.b += diff;\n\n    // Premultiply alpha again.\n    color.rgb *= color.a;\n\n    gl_FragColor = color;\n}\n",{uNoise:0,uSeed:0}),this.noise=e,this.seed=t}get noise(){return this.uniforms.uNoise}set noise(e){this.uniforms.uNoise=e}get seed(){return this.uniforms.uSeed}set seed(e){this.uniforms.uSeed=e}}};Object.entries(Ia).forEach(e=>{let[t,n]=e;Object.defineProperty(Ia,t,{get:()=>(ar("7.1.0","filters.".concat(t," has moved to ").concat(t)),n)})});const Ma=new class{constructor(){this.interactionFrequency=10,this._deltaTime=0,this._didMove=!1,this.tickerAdded=!1,this._pauseUpdate=!0}init(e){this.removeTickerListener(),this.events=e,this.interactionFrequency=10,this._deltaTime=0,this._didMove=!1,this.tickerAdded=!1,this._pauseUpdate=!0}get pauseUpdate(){return this._pauseUpdate}set pauseUpdate(e){this._pauseUpdate=e}addTickerListener(){this.tickerAdded||!this.domElement||(Zo.system.add(this.tickerUpdate,this,qo.INTERACTION),this.tickerAdded=!0)}removeTickerListener(){this.tickerAdded&&(Zo.system.remove(this.tickerUpdate,this),this.tickerAdded=!1)}pointerMoved(){this._didMove=!0}update(){if(!this.domElement||this._pauseUpdate)return;if(this._didMove)return void(this._didMove=!1);const e=this.events.rootPointerEvent;this.events.supportsTouchEvents&&"touch"===e.pointerType||globalThis.document.dispatchEvent(new PointerEvent("pointermove",{clientX:e.clientX,clientY:e.clientY}))}tickerUpdate(e){this._deltaTime+=e,!(this._deltaTime<this.interactionFrequency)&&(this._deltaTime=0,this.update())}};class Da{constructor(e){this.bubbles=!0,this.cancelBubble=!0,this.cancelable=!1,this.composed=!1,this.defaultPrevented=!1,this.eventPhase=Da.prototype.NONE,this.propagationStopped=!1,this.propagationImmediatelyStopped=!1,this.layer=new Gi,this.page=new Gi,this.NONE=0,this.CAPTURING_PHASE=1,this.AT_TARGET=2,this.BUBBLING_PHASE=3,this.manager=e}get layerX(){return this.layer.x}get layerY(){return this.layer.y}get pageX(){return this.page.x}get pageY(){return this.page.y}get data(){return this}composedPath(){return this.manager&&(!this.path||this.path[this.path.length-1]!==this.target)&&(this.path=this.target?this.manager.propagationPath(this.target):[]),this.path}initEvent(e,t,n){throw new Error("initEvent() is a legacy DOM API. It is not implemented in the Federated Events API.")}initUIEvent(e,t,n,r,i){throw new Error("initUIEvent() is a legacy DOM API. It is not implemented in the Federated Events API.")}preventDefault(){this.nativeEvent instanceof Event&&this.nativeEvent.cancelable&&this.nativeEvent.preventDefault(),this.defaultPrevented=!0}stopImmediatePropagation(){this.propagationImmediatelyStopped=!0}stopPropagation(){this.propagationStopped=!0}}class Oa extends Da{constructor(){super(...arguments),this.client=new Gi,this.movement=new Gi,this.offset=new Gi,this.global=new Gi,this.screen=new Gi}get clientX(){return this.client.x}get clientY(){return this.client.y}get x(){return this.clientX}get y(){return this.clientY}get movementX(){return this.movement.x}get movementY(){return this.movement.y}get offsetX(){return this.offset.x}get offsetY(){return this.offset.y}get globalX(){return this.global.x}get globalY(){return this.global.y}get screenX(){return this.screen.x}get screenY(){return this.screen.y}getLocalPosition(e,t,n){return e.worldTransform.applyInverse(n||this.global,t)}getModifierState(e){return"getModifierState"in this.nativeEvent&&this.nativeEvent.getModifierState(e)}initMouseEvent(e,t,n,r,i,s,o,a,l,u,c,h,d,f,p){throw new Error("Method not implemented.")}}class La extends Oa{constructor(){super(...arguments),this.width=0,this.height=0,this.isPrimary=!1}getCoalescedEvents(){return"pointermove"===this.type||"mousemove"===this.type||"touchmove"===this.type?[this]:[]}getPredictedEvents(){throw new Error("getPredictedEvents is not supported!")}}class Na extends Oa{constructor(){super(...arguments),this.DOM_DELTA_PIXEL=0,this.DOM_DELTA_LINE=1,this.DOM_DELTA_PAGE=2}}Na.DOM_DELTA_PIXEL=0,Na.DOM_DELTA_LINE=1,Na.DOM_DELTA_PAGE=2;const Fa=new Gi,Ba=new Gi;class Ua{constructor(e){this.dispatch=new ir,this.moveOnAll=!1,this.enableGlobalMoveEvents=!0,this.mappingState={trackingData:{}},this.eventPool=new Map,this._allInteractiveElements=[],this._hitElements=[],this._isPointerMoveEvent=!1,this.rootTarget=e,this.hitPruneFn=this.hitPruneFn.bind(this),this.hitTestFn=this.hitTestFn.bind(this),this.mapPointerDown=this.mapPointerDown.bind(this),this.mapPointerMove=this.mapPointerMove.bind(this),this.mapPointerOut=this.mapPointerOut.bind(this),this.mapPointerOver=this.mapPointerOver.bind(this),this.mapPointerUp=this.mapPointerUp.bind(this),this.mapPointerUpOutside=this.mapPointerUpOutside.bind(this),this.mapWheel=this.mapWheel.bind(this),this.mappingTable={},this.addEventMapping("pointerdown",this.mapPointerDown),this.addEventMapping("pointermove",this.mapPointerMove),this.addEventMapping("pointerout",this.mapPointerOut),this.addEventMapping("pointerleave",this.mapPointerOut),this.addEventMapping("pointerover",this.mapPointerOver),this.addEventMapping("pointerup",this.mapPointerUp),this.addEventMapping("pointerupoutside",this.mapPointerUpOutside),this.addEventMapping("wheel",this.mapWheel)}addEventMapping(e,t){this.mappingTable[e]||(this.mappingTable[e]=[]),this.mappingTable[e].push({fn:t,priority:0}),this.mappingTable[e].sort((e,t)=>e.priority-t.priority)}dispatchEvent(e,t){e.propagationStopped=!1,e.propagationImmediatelyStopped=!1,this.propagate(e,t),this.dispatch.emit(t||e.type,e)}mapEvent(e){if(!this.rootTarget)return;const t=this.mappingTable[e.type];if(t)for(let n=0,r=t.length;n<r;n++)t[n].fn(e);else console.warn("[EventBoundary]: Event mapping not defined for ".concat(e.type))}hitTest(e,t){Ma.pauseUpdate=!0;const n=this[this._isPointerMoveEvent&&this.enableGlobalMoveEvents?"hitTestMoveRecursive":"hitTestRecursive"](this.rootTarget,this.rootTarget.eventMode,Fa.set(e,t),this.hitTestFn,this.hitPruneFn);return n&&n[0]}propagate(e,t){if(!e.target)return;const n=e.composedPath();e.eventPhase=e.CAPTURING_PHASE;for(let r=0,i=n.length-1;r<i;r++)if(e.currentTarget=n[r],this.notifyTarget(e,t),e.propagationStopped||e.propagationImmediatelyStopped)return;if(e.eventPhase=e.AT_TARGET,e.currentTarget=e.target,this.notifyTarget(e,t),!e.propagationStopped&&!e.propagationImmediatelyStopped){e.eventPhase=e.BUBBLING_PHASE;for(let r=n.length-2;r>=0;r--)if(e.currentTarget=n[r],this.notifyTarget(e,t),e.propagationStopped||e.propagationImmediatelyStopped)return}}all(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:this._allInteractiveElements;if(0===n.length)return;e.eventPhase=e.BUBBLING_PHASE;const r=Array.isArray(t)?t:[t];for(let i=n.length-1;i>=0;i--)r.forEach(t=>{e.currentTarget=n[i],this.notifyTarget(e,t)})}propagationPath(e){const t=[e];for(let n=0;n<2048&&e!==this.rootTarget;n++){if(!e.parent)throw new Error("Cannot find propagation path to disconnected target");t.push(e.parent),e=e.parent}return t.reverse(),t}hitTestMoveRecursive(e,t,n,r,i){let s=arguments.length>5&&void 0!==arguments[5]&&arguments[5],o=!1;if(this._interactivePrune(e))return null;if(("dynamic"===e.eventMode||"dynamic"===t)&&(Ma.pauseUpdate=!1),e.interactiveChildren&&e.children){const a=e.children;for(let l=a.length-1;l>=0;l--){const u=a[l],c=this.hitTestMoveRecursive(u,this._isInteractive(t)?t:u.eventMode,n,r,i,s||i(e,n));if(c){if(c.length>0&&!c[c.length-1].parent)continue;const t=e.isInteractive();(c.length>0||t)&&(t&&this._allInteractiveElements.push(e),c.push(e)),0===this._hitElements.length&&(this._hitElements=c),o=!0}}}const a=this._isInteractive(t),l=e.isInteractive();return a&&l&&this._allInteractiveElements.push(e),s||this._hitElements.length>0?null:o?this._hitElements:a&&!i(e,n)&&r(e,n)?l?[e]:[]:null}hitTestRecursive(e,t,n,r,i){if(this._interactivePrune(e)||i(e,n))return null;if(("dynamic"===e.eventMode||"dynamic"===t)&&(Ma.pauseUpdate=!1),e.interactiveChildren&&e.children){const s=e.children;for(let o=s.length-1;o>=0;o--){const a=s[o],l=this.hitTestRecursive(a,this._isInteractive(t)?t:a.eventMode,n,r,i);if(l){if(l.length>0&&!l[l.length-1].parent)continue;const t=e.isInteractive();return(l.length>0||t)&&l.push(e),l}}}const s=this._isInteractive(t),o=e.isInteractive();return s&&r(e,n)?o?[e]:[]:null}_isInteractive(e){return"static"===e||"dynamic"===e}_interactivePrune(e){return!(e&&!e.isMask&&e.visible&&e.renderable&&"none"!==e.eventMode&&("passive"!==e.eventMode||e.interactiveChildren)&&!e.isMask)}hitPruneFn(e,t){if(e.hitArea&&(e.worldTransform.applyInverse(t,Ba),!e.hitArea.contains(Ba.x,Ba.y)))return!0;if(e._mask){var n;const r=e._mask.isMaskData?e._mask.maskObject:e._mask;if(r&&(null===(n=r.containsPoint)||void 0===n||!n.call(r,t)))return!0}return!1}hitTestFn(e,t){return"passive"!==e.eventMode&&(!!e.hitArea||!!e.containsPoint&&e.containsPoint(t))}notifyTarget(e,t){var n,r;t=null!==t&&void 0!==t?t:e.type;const i="on".concat(t);null===(n=(r=e.currentTarget)[i])||void 0===n||n.call(r,e);const s=e.eventPhase===e.CAPTURING_PHASE||e.eventPhase===e.AT_TARGET?"".concat(t,"capture"):t;this.notifyListeners(e,s),e.eventPhase===e.AT_TARGET&&this.notifyListeners(e,t)}mapPointerDown(e){if(!(e instanceof La))return void console.warn("EventBoundary cannot map a non-pointer event as a pointer event");const t=this.createPointerEvent(e);if(this.dispatchEvent(t,"pointerdown"),"touch"===t.pointerType)this.dispatchEvent(t,"touchstart");else if("mouse"===t.pointerType||"pen"===t.pointerType){const e=2===t.button;this.dispatchEvent(t,e?"rightdown":"mousedown")}this.trackingData(e.pointerId).pressTargetsByButton[e.button]=t.composedPath(),this.freeEvent(t)}mapPointerMove(e){var t,n,r;if(!(e instanceof La))return void console.warn("EventBoundary cannot map a non-pointer event as a pointer event");this._allInteractiveElements.length=0,this._hitElements.length=0,this._isPointerMoveEvent=!0;const i=this.createPointerEvent(e);this._isPointerMoveEvent=!1;const s="mouse"===i.pointerType||"pen"===i.pointerType,o=this.trackingData(e.pointerId),a=this.findMountedTarget(o.overTargets);if((null===(t=o.overTargets)||void 0===t?void 0:t.length)>0&&a!==i.target){const t="mousemove"===e.type?"mouseout":"pointerout",n=this.createPointerEvent(e,t,a);if(this.dispatchEvent(n,"pointerout"),s&&this.dispatchEvent(n,"mouseout"),!i.composedPath().includes(a)){const t=this.createPointerEvent(e,"pointerleave",a);for(t.eventPhase=t.AT_TARGET;t.target&&!i.composedPath().includes(t.target);)t.currentTarget=t.target,this.notifyTarget(t),s&&this.notifyTarget(t,"mouseleave"),t.target=t.target.parent;this.freeEvent(t)}this.freeEvent(n)}if(a!==i.target){const t="mousemove"===e.type?"mouseover":"pointerover",n=this.clonePointerEvent(i,t);this.dispatchEvent(n,"pointerover"),s&&this.dispatchEvent(n,"mouseover");let r=null===a||void 0===a?void 0:a.parent;for(;r&&r!==this.rootTarget.parent&&r!==i.target;)r=r.parent;if(!r||r===this.rootTarget.parent){const e=this.clonePointerEvent(i,"pointerenter");for(e.eventPhase=e.AT_TARGET;e.target&&e.target!==a&&e.target!==this.rootTarget.parent;)e.currentTarget=e.target,this.notifyTarget(e),s&&this.notifyTarget(e,"mouseenter"),e.target=e.target.parent;this.freeEvent(e)}this.freeEvent(n)}const l=[],u=null===(n=this.enableGlobalMoveEvents)||void 0===n||n;this.moveOnAll?l.push("pointermove"):this.dispatchEvent(i,"pointermove"),u&&l.push("globalpointermove"),"touch"===i.pointerType&&(this.moveOnAll?l.splice(1,0,"touchmove"):this.dispatchEvent(i,"touchmove"),u&&l.push("globaltouchmove")),s&&(this.moveOnAll?l.splice(1,0,"mousemove"):this.dispatchEvent(i,"mousemove"),u&&l.push("globalmousemove"),this.cursor=null===(r=i.target)||void 0===r?void 0:r.cursor),l.length>0&&this.all(i,l),this._allInteractiveElements.length=0,this._hitElements.length=0,o.overTargets=i.composedPath(),this.freeEvent(i)}mapPointerOver(e){var t;if(!(e instanceof La))return void console.warn("EventBoundary cannot map a non-pointer event as a pointer event");const n=this.trackingData(e.pointerId),r=this.createPointerEvent(e),i="mouse"===r.pointerType||"pen"===r.pointerType;this.dispatchEvent(r,"pointerover"),i&&this.dispatchEvent(r,"mouseover"),"mouse"===r.pointerType&&(this.cursor=null===(t=r.target)||void 0===t?void 0:t.cursor);const s=this.clonePointerEvent(r,"pointerenter");for(s.eventPhase=s.AT_TARGET;s.target&&s.target!==this.rootTarget.parent;)s.currentTarget=s.target,this.notifyTarget(s),i&&this.notifyTarget(s,"mouseenter"),s.target=s.target.parent;n.overTargets=r.composedPath(),this.freeEvent(r),this.freeEvent(s)}mapPointerOut(e){if(!(e instanceof La))return void console.warn("EventBoundary cannot map a non-pointer event as a pointer event");const t=this.trackingData(e.pointerId);if(t.overTargets){const n="mouse"===e.pointerType||"pen"===e.pointerType,r=this.findMountedTarget(t.overTargets),i=this.createPointerEvent(e,"pointerout",r);this.dispatchEvent(i),n&&this.dispatchEvent(i,"mouseout");const s=this.createPointerEvent(e,"pointerleave",r);for(s.eventPhase=s.AT_TARGET;s.target&&s.target!==this.rootTarget.parent;)s.currentTarget=s.target,this.notifyTarget(s),n&&this.notifyTarget(s,"mouseleave"),s.target=s.target.parent;t.overTargets=null,this.freeEvent(i),this.freeEvent(s)}this.cursor=null}mapPointerUp(e){if(!(e instanceof La))return void console.warn("EventBoundary cannot map a non-pointer event as a pointer event");const t=performance.now(),n=this.createPointerEvent(e);if(this.dispatchEvent(n,"pointerup"),"touch"===n.pointerType)this.dispatchEvent(n,"touchend");else if("mouse"===n.pointerType||"pen"===n.pointerType){const e=2===n.button;this.dispatchEvent(n,e?"rightup":"mouseup")}const r=this.trackingData(e.pointerId),i=this.findMountedTarget(r.pressTargetsByButton[e.button]);let s=i;if(i&&!n.composedPath().includes(i)){let t=i;for(;t&&!n.composedPath().includes(t);){if(n.currentTarget=t,this.notifyTarget(n,"pointerupoutside"),"touch"===n.pointerType)this.notifyTarget(n,"touchendoutside");else if("mouse"===n.pointerType||"pen"===n.pointerType){const e=2===n.button;this.notifyTarget(n,e?"rightupoutside":"mouseupoutside")}t=t.parent}delete r.pressTargetsByButton[e.button],s=t}if(s){const i=this.clonePointerEvent(n,"click");i.target=s,i.path=null,r.clicksByButton[e.button]||(r.clicksByButton[e.button]={clickCount:0,target:i.target,timeStamp:t});const o=r.clicksByButton[e.button];if(o.target===i.target&&t-o.timeStamp<200?++o.clickCount:o.clickCount=1,o.target=i.target,o.timeStamp=t,i.detail=o.clickCount,"mouse"===i.pointerType){const e=2===i.button;this.dispatchEvent(i,e?"rightclick":"click")}else"touch"===i.pointerType&&this.dispatchEvent(i,"tap");this.dispatchEvent(i,"pointertap"),this.freeEvent(i)}this.freeEvent(n)}mapPointerUpOutside(e){if(!(e instanceof La))return void console.warn("EventBoundary cannot map a non-pointer event as a pointer event");const t=this.trackingData(e.pointerId),n=this.findMountedTarget(t.pressTargetsByButton[e.button]),r=this.createPointerEvent(e);if(n){let i=n;for(;i;)r.currentTarget=i,this.notifyTarget(r,"pointerupoutside"),"touch"===r.pointerType?this.notifyTarget(r,"touchendoutside"):("mouse"===r.pointerType||"pen"===r.pointerType)&&this.notifyTarget(r,2===r.button?"rightupoutside":"mouseupoutside"),i=i.parent;delete t.pressTargetsByButton[e.button]}this.freeEvent(r)}mapWheel(e){if(!(e instanceof Na))return void console.warn("EventBoundary cannot map a non-wheel event as a wheel event");const t=this.createWheelEvent(e);this.dispatchEvent(t),this.freeEvent(t)}findMountedTarget(e){if(!e)return null;let t=e[0];for(let n=1;n<e.length&&e[n].parent===t;n++)t=e[n];return t}createPointerEvent(e,t,n){var r;const i=this.allocateEvent(La);return this.copyPointerData(e,i),this.copyMouseData(e,i),this.copyData(e,i),i.nativeEvent=e.nativeEvent,i.originalEvent=e,i.target=null!==(r=null!==n&&void 0!==n?n:this.hitTest(i.global.x,i.global.y))&&void 0!==r?r:this._hitElements[0],"string"==typeof t&&(i.type=t),i}createWheelEvent(e){const t=this.allocateEvent(Na);return this.copyWheelData(e,t),this.copyMouseData(e,t),this.copyData(e,t),t.nativeEvent=e.nativeEvent,t.originalEvent=e,t.target=this.hitTest(t.global.x,t.global.y),t}clonePointerEvent(e,t){const n=this.allocateEvent(La);return n.nativeEvent=e.nativeEvent,n.originalEvent=e.originalEvent,this.copyPointerData(e,n),this.copyMouseData(e,n),this.copyData(e,n),n.target=e.target,n.path=e.composedPath().slice(),n.type=null!==t&&void 0!==t?t:n.type,n}copyWheelData(e,t){t.deltaMode=e.deltaMode,t.deltaX=e.deltaX,t.deltaY=e.deltaY,t.deltaZ=e.deltaZ}copyPointerData(e,t){e instanceof La&&t instanceof La&&(t.pointerId=e.pointerId,t.width=e.width,t.height=e.height,t.isPrimary=e.isPrimary,t.pointerType=e.pointerType,t.pressure=e.pressure,t.tangentialPressure=e.tangentialPressure,t.tiltX=e.tiltX,t.tiltY=e.tiltY,t.twist=e.twist)}copyMouseData(e,t){e instanceof Oa&&t instanceof Oa&&(t.altKey=e.altKey,t.button=e.button,t.buttons=e.buttons,t.client.copyFrom(e.client),t.ctrlKey=e.ctrlKey,t.metaKey=e.metaKey,t.movement.copyFrom(e.movement),t.screen.copyFrom(e.screen),t.shiftKey=e.shiftKey,t.global.copyFrom(e.global))}copyData(e,t){t.isTrusted=e.isTrusted,t.srcElement=e.srcElement,t.timeStamp=performance.now(),t.type=e.type,t.detail=e.detail,t.view=e.view,t.which=e.which,t.layer.copyFrom(e.layer),t.page.copyFrom(e.page)}trackingData(e){return this.mappingState.trackingData[e]||(this.mappingState.trackingData[e]={pressTargetsByButton:{},clicksByButton:{},overTarget:null}),this.mappingState.trackingData[e]}allocateEvent(e){this.eventPool.has(e)||this.eventPool.set(e,[]);const t=this.eventPool.get(e).pop()||new e(this);return t.eventPhase=t.NONE,t.currentTarget=null,t.path=null,t.target=null,t}freeEvent(e){if(e.manager!==this)throw new Error("It is illegal to free an event not managed by this EventBoundary!");const t=e.constructor;this.eventPool.has(t)||this.eventPool.set(t,[]),this.eventPool.get(t).push(e)}notifyListeners(e,t){const n=e.currentTarget._events[t];if(n&&e.currentTarget.isInteractive())if("fn"in n)n.once&&e.currentTarget.removeListener(t,n.fn,void 0,!0),n.fn.call(n.context,e);else for(let r=0,i=n.length;r<i&&!e.propagationImmediatelyStopped;r++)n[r].once&&e.currentTarget.removeListener(t,n[r].fn,void 0,!0),n[r].fn.call(n[r].context,e)}}const Ga={touchstart:"pointerdown",touchend:"pointerup",touchendoutside:"pointerupoutside",touchmove:"pointermove",touchcancel:"pointercancel"},za=class e{constructor(t){this.supportsTouchEvents="ontouchstart"in globalThis,this.supportsPointerEvents=!!globalThis.PointerEvent,this.domElement=null,this.resolution=1,this.renderer=t,this.rootBoundary=new Ua(null),Ma.init(this),this.autoPreventDefault=!0,this.eventsAdded=!1,this.rootPointerEvent=new La(null),this.rootWheelEvent=new Na(null),this.cursorStyles={default:"inherit",pointer:"pointer"},this.features=new Proxy(u({},e.defaultEventFeatures),{set:(e,t,n)=>("globalMove"===t&&(this.rootBoundary.enableGlobalMoveEvents=n),e[t]=n,!0)}),this.onPointerDown=this.onPointerDown.bind(this),this.onPointerMove=this.onPointerMove.bind(this),this.onPointerUp=this.onPointerUp.bind(this),this.onPointerOverOut=this.onPointerOverOut.bind(this),this.onWheel=this.onWheel.bind(this)}static get defaultEventMode(){return this._defaultEventMode}init(t){var n,r;const{view:i,resolution:s}=this.renderer;this.setTargetElement(i),this.resolution=s,e._defaultEventMode=null!==(n=t.eventMode)&&void 0!==n?n:"auto",Object.assign(this.features,null!==(r=t.eventFeatures)&&void 0!==r?r:{}),this.rootBoundary.enableGlobalMoveEvents=this.features.globalMove}resolutionChange(e){this.resolution=e}destroy(){this.setTargetElement(null),this.renderer=null}setCursor(e){e=e||"default";let t=!0;if(globalThis.OffscreenCanvas&&this.domElement instanceof OffscreenCanvas&&(t=!1),this.currentCursor===e)return;this.currentCursor=e;const n=this.cursorStyles[e];if(n)switch(typeof n){case"string":t&&(this.domElement.style.cursor=n);break;case"function":n(e);break;case"object":t&&Object.assign(this.domElement.style,n)}else t&&"string"==typeof e&&!Object.prototype.hasOwnProperty.call(this.cursorStyles,e)&&(this.domElement.style.cursor=e)}get pointer(){return this.rootPointerEvent}onPointerDown(e){if(!this.features.click)return;this.rootBoundary.rootTarget=this.renderer.lastObjectRendered;const t=this.normalizeToPointerData(e);this.autoPreventDefault&&t[0].isNormalized&&(e.cancelable||!("cancelable"in e))&&e.preventDefault();for(let n=0,r=t.length;n<r;n++){const e=t[n],r=this.bootstrapEvent(this.rootPointerEvent,e);this.rootBoundary.mapEvent(r)}this.setCursor(this.rootBoundary.cursor)}onPointerMove(e){if(!this.features.move)return;this.rootBoundary.rootTarget=this.renderer.lastObjectRendered,Ma.pointerMoved();const t=this.normalizeToPointerData(e);for(let n=0,r=t.length;n<r;n++){const e=this.bootstrapEvent(this.rootPointerEvent,t[n]);this.rootBoundary.mapEvent(e)}this.setCursor(this.rootBoundary.cursor)}onPointerUp(e){if(!this.features.click)return;this.rootBoundary.rootTarget=this.renderer.lastObjectRendered;let t=e.target;e.composedPath&&e.composedPath().length>0&&(t=e.composedPath()[0]);const n=t!==this.domElement?"outside":"",r=this.normalizeToPointerData(e);for(let i=0,s=r.length;i<s;i++){const e=this.bootstrapEvent(this.rootPointerEvent,r[i]);e.type+=n,this.rootBoundary.mapEvent(e)}this.setCursor(this.rootBoundary.cursor)}onPointerOverOut(e){if(!this.features.click)return;this.rootBoundary.rootTarget=this.renderer.lastObjectRendered;const t=this.normalizeToPointerData(e);for(let n=0,r=t.length;n<r;n++){const e=this.bootstrapEvent(this.rootPointerEvent,t[n]);this.rootBoundary.mapEvent(e)}this.setCursor(this.rootBoundary.cursor)}onWheel(e){if(!this.features.wheel)return;const t=this.normalizeWheelEvent(e);this.rootBoundary.rootTarget=this.renderer.lastObjectRendered,this.rootBoundary.mapEvent(t)}setTargetElement(e){this.removeEvents(),this.domElement=e,Ma.domElement=e,this.addEvents()}addEvents(){if(this.eventsAdded||!this.domElement)return;Ma.addTickerListener();const e=this.domElement.style;e&&(globalThis.navigator.msPointerEnabled?(e.msContentZooming="none",e.msTouchAction="none"):this.supportsPointerEvents&&(e.touchAction="none")),this.supportsPointerEvents?(globalThis.document.addEventListener("pointermove",this.onPointerMove,!0),this.domElement.addEventListener("pointerdown",this.onPointerDown,!0),this.domElement.addEventListener("pointerleave",this.onPointerOverOut,!0),this.domElement.addEventListener("pointerover",this.onPointerOverOut,!0),globalThis.addEventListener("pointerup",this.onPointerUp,!0)):(globalThis.document.addEventListener("mousemove",this.onPointerMove,!0),this.domElement.addEventListener("mousedown",this.onPointerDown,!0),this.domElement.addEventListener("mouseout",this.onPointerOverOut,!0),this.domElement.addEventListener("mouseover",this.onPointerOverOut,!0),globalThis.addEventListener("mouseup",this.onPointerUp,!0),this.supportsTouchEvents&&(this.domElement.addEventListener("touchstart",this.onPointerDown,!0),this.domElement.addEventListener("touchend",this.onPointerUp,!0),this.domElement.addEventListener("touchmove",this.onPointerMove,!0))),this.domElement.addEventListener("wheel",this.onWheel,{passive:!0,capture:!0}),this.eventsAdded=!0}removeEvents(){if(!this.eventsAdded||!this.domElement)return;Ma.removeTickerListener();const e=this.domElement.style;globalThis.navigator.msPointerEnabled?(e.msContentZooming="",e.msTouchAction=""):this.supportsPointerEvents&&(e.touchAction=""),this.supportsPointerEvents?(globalThis.document.removeEventListener("pointermove",this.onPointerMove,!0),this.domElement.removeEventListener("pointerdown",this.onPointerDown,!0),this.domElement.removeEventListener("pointerleave",this.onPointerOverOut,!0),this.domElement.removeEventListener("pointerover",this.onPointerOverOut,!0),globalThis.removeEventListener("pointerup",this.onPointerUp,!0)):(globalThis.document.removeEventListener("mousemove",this.onPointerMove,!0),this.domElement.removeEventListener("mousedown",this.onPointerDown,!0),this.domElement.removeEventListener("mouseout",this.onPointerOverOut,!0),this.domElement.removeEventListener("mouseover",this.onPointerOverOut,!0),globalThis.removeEventListener("mouseup",this.onPointerUp,!0),this.supportsTouchEvents&&(this.domElement.removeEventListener("touchstart",this.onPointerDown,!0),this.domElement.removeEventListener("touchend",this.onPointerUp,!0),this.domElement.removeEventListener("touchmove",this.onPointerMove,!0))),this.domElement.removeEventListener("wheel",this.onWheel,!0),this.domElement=null,this.eventsAdded=!1}mapPositionToPoint(e,t,n){const r=this.domElement.isConnected?this.domElement.getBoundingClientRect():{x:0,y:0,width:this.domElement.width,height:this.domElement.height,left:0,top:0},i=1/this.resolution;e.x=(t-r.left)*(this.domElement.width/r.width)*i,e.y=(n-r.top)*(this.domElement.height/r.height)*i}normalizeToPointerData(e){const t=[];if(this.supportsTouchEvents&&e instanceof TouchEvent)for(let n=0,r=e.changedTouches.length;n<r;n++){const r=e.changedTouches[n];typeof r.button>"u"&&(r.button=0),typeof r.buttons>"u"&&(r.buttons=1),typeof r.isPrimary>"u"&&(r.isPrimary=1===e.touches.length&&"touchstart"===e.type),typeof r.width>"u"&&(r.width=r.radiusX||1),typeof r.height>"u"&&(r.height=r.radiusY||1),typeof r.tiltX>"u"&&(r.tiltX=0),typeof r.tiltY>"u"&&(r.tiltY=0),typeof r.pointerType>"u"&&(r.pointerType="touch"),typeof r.pointerId>"u"&&(r.pointerId=r.identifier||0),typeof r.pressure>"u"&&(r.pressure=r.force||.5),typeof r.twist>"u"&&(r.twist=0),typeof r.tangentialPressure>"u"&&(r.tangentialPressure=0),typeof r.layerX>"u"&&(r.layerX=r.offsetX=r.clientX),typeof r.layerY>"u"&&(r.layerY=r.offsetY=r.clientY),r.isNormalized=!0,r.type=e.type,t.push(r)}else if(globalThis.MouseEvent&&(!(e instanceof MouseEvent)||this.supportsPointerEvents&&e instanceof globalThis.PointerEvent))t.push(e);else{const n=e;typeof n.isPrimary>"u"&&(n.isPrimary=!0),typeof n.width>"u"&&(n.width=1),typeof n.height>"u"&&(n.height=1),typeof n.tiltX>"u"&&(n.tiltX=0),typeof n.tiltY>"u"&&(n.tiltY=0),typeof n.pointerType>"u"&&(n.pointerType="mouse"),typeof n.pointerId>"u"&&(n.pointerId=1),typeof n.pressure>"u"&&(n.pressure=.5),typeof n.twist>"u"&&(n.twist=0),typeof n.tangentialPressure>"u"&&(n.tangentialPressure=0),n.isNormalized=!0,t.push(n)}return t}normalizeWheelEvent(e){const t=this.rootWheelEvent;return this.transferMouseData(t,e),t.deltaX=e.deltaX,t.deltaY=e.deltaY,t.deltaZ=e.deltaZ,t.deltaMode=e.deltaMode,this.mapPositionToPoint(t.screen,e.clientX,e.clientY),t.global.copyFrom(t.screen),t.offset.copyFrom(t.screen),t.nativeEvent=e,t.type=e.type,t}bootstrapEvent(e,t){return e.originalEvent=null,e.nativeEvent=t,e.pointerId=t.pointerId,e.width=t.width,e.height=t.height,e.isPrimary=t.isPrimary,e.pointerType=t.pointerType,e.pressure=t.pressure,e.tangentialPressure=t.tangentialPressure,e.tiltX=t.tiltX,e.tiltY=t.tiltY,e.twist=t.twist,this.transferMouseData(e,t),this.mapPositionToPoint(e.screen,t.clientX,t.clientY),e.global.copyFrom(e.screen),e.offset.copyFrom(e.screen),e.isTrusted=t.isTrusted,"pointerleave"===e.type&&(e.type="pointerout"),e.type.startsWith("mouse")&&(e.type=e.type.replace("mouse","pointer")),e.type.startsWith("touch")&&(e.type=Ga[e.type]||e.type),e}transferMouseData(e,t){e.isTrusted=t.isTrusted,e.srcElement=t.srcElement,e.timeStamp=performance.now(),e.type=t.type,e.altKey=t.altKey,e.button=t.button,e.buttons=t.buttons,e.client.x=t.clientX,e.client.y=t.clientY,e.ctrlKey=t.ctrlKey,e.metaKey=t.metaKey,e.movement.x=t.movementX,e.movement.y=t.movementY,e.page.x=t.pageX,e.page.y=t.pageY,e.relatedTarget=null,e.shiftKey=t.shiftKey}};za.extension={name:"events",type:[ci.RendererSystem,ci.CanvasRendererSystem]},za.defaultEventFeatures={move:!0,globalMove:!0,click:!0,wheel:!0};let Ha=za;function ja(e){return"dynamic"===e||"static"===e}fi.add(Ha);const Wa={onclick:null,onmousedown:null,onmouseenter:null,onmouseleave:null,onmousemove:null,onglobalmousemove:null,onmouseout:null,onmouseover:null,onmouseup:null,onmouseupoutside:null,onpointercancel:null,onpointerdown:null,onpointerenter:null,onpointerleave:null,onpointermove:null,onglobalpointermove:null,onpointerout:null,onpointerover:null,onpointertap:null,onpointerup:null,onpointerupoutside:null,onrightclick:null,onrightdown:null,onrightup:null,onrightupoutside:null,ontap:null,ontouchcancel:null,ontouchend:null,ontouchendoutside:null,ontouchmove:null,onglobaltouchmove:null,ontouchstart:null,onwheel:null,_internalInteractive:void 0,get interactive(){var e;return null!==(e=this._internalInteractive)&&void 0!==e?e:ja(Ha.defaultEventMode)},set interactive(e){ar("7.2.0","Setting interactive is deprecated, use eventMode = 'none'/'passive'/'auto'/'static'/'dynamic' instead."),this._internalInteractive=e,this.eventMode=e?"static":"auto"},_internalEventMode:void 0,get eventMode(){var e;return null!==(e=this._internalEventMode)&&void 0!==e?e:Ha.defaultEventMode},set eventMode(e){this._internalInteractive=ja(e),this._internalEventMode=e},isInteractive(){return"static"===this.eventMode||"dynamic"===this.eventMode},interactiveChildren:!0,hitArea:null,addEventListener(e,t,n){const r="boolean"==typeof n&&n||"object"==typeof n&&n.capture,i="object"==typeof n?n.signal:void 0,s="object"==typeof n&&!0===n.once,o="function"==typeof t?void 0:t;e=r?"".concat(e,"capture"):e;const a="function"==typeof t?t:t.handleEvent,l=this;i&&i.addEventListener("abort",()=>{l.off(e,a,o)}),s?l.once(e,a,o):l.on(e,a,o)},removeEventListener(e,t,n){const r="function"==typeof t?void 0:t;e="boolean"==typeof n&&n||"object"==typeof n&&n.capture?"".concat(e,"capture"):e,t="function"==typeof t?t:t.handleEvent,this.off(e,t,r)},dispatchEvent(e){if(!(e instanceof Da))throw new Error("DisplayObject cannot propagate events outside of the Federated Events API");return e.defaultPrevented=!1,e.path=null,e.target=this,e.manager.dispatchEvent(e),!e.defaultPrevented}};ga.mixin(Wa);ga.mixin({accessible:!1,accessibleTitle:null,accessibleHint:null,tabIndex:0,_accessibleActive:!1,_accessibleDiv:null,accessibleType:"button",accessiblePointerEvents:"auto",accessibleChildren:!0,renderId:-1});const Va=100;class Xa{constructor(e){this.debug=!1,this._isActive=!1,this._isMobileAccessibility=!1,this.pool=[],this.renderId=0,this.children=[],this.androidUpdateCount=0,this.androidUpdateFrequency=500,this._hookDiv=null,(rr.tablet||rr.phone)&&this.createTouchHook();const t=document.createElement("div");t.style.width="".concat(Va,"px"),t.style.height="".concat(Va,"px"),t.style.position="absolute",t.style.top="".concat(0,"px"),t.style.left="".concat(0,"px"),t.style.zIndex=2..toString(),this.div=t,this.renderer=e,this._onKeyDown=this._onKeyDown.bind(this),this._onMouseMove=this._onMouseMove.bind(this),globalThis.addEventListener("keydown",this._onKeyDown,!1)}get isActive(){return this._isActive}get isMobileAccessibility(){return this._isMobileAccessibility}createTouchHook(){const e=document.createElement("button");e.style.width="".concat(1,"px"),e.style.height="".concat(1,"px"),e.style.position="absolute",e.style.top="".concat(-1e3,"px"),e.style.left="".concat(-1e3,"px"),e.style.zIndex=2..toString(),e.style.backgroundColor="#FF0000",e.title="select to enable accessibility for this content",e.addEventListener("focus",()=>{this._isMobileAccessibility=!0,this.activate(),this.destroyTouchHook()}),document.body.appendChild(e),this._hookDiv=e}destroyTouchHook(){this._hookDiv&&(document.body.removeChild(this._hookDiv),this._hookDiv=null)}activate(){var e;this._isActive||(this._isActive=!0,globalThis.document.addEventListener("mousemove",this._onMouseMove,!0),globalThis.removeEventListener("keydown",this._onKeyDown,!1),this.renderer.on("postrender",this.update,this),null===(e=this.renderer.view.parentNode)||void 0===e||e.appendChild(this.div))}deactivate(){var e;!this._isActive||this._isMobileAccessibility||(this._isActive=!1,globalThis.document.removeEventListener("mousemove",this._onMouseMove,!0),globalThis.addEventListener("keydown",this._onKeyDown,!1),this.renderer.off("postrender",this.update),null===(e=this.div.parentNode)||void 0===e||e.removeChild(this.div))}updateAccessibleObjects(e){if(!e.visible||!e.accessibleChildren)return;e.accessible&&e.isInteractive()&&(e._accessibleActive||this.addChild(e),e.renderId=this.renderId);const t=e.children;if(t)for(let n=0;n<t.length;n++)this.updateAccessibleObjects(t[n])}update(){const e=performance.now();if(rr.android.device&&e<this.androidUpdateCount||(this.androidUpdateCount=e+this.androidUpdateFrequency,!this.renderer.renderingToScreen))return;this.renderer.lastObjectRendered&&this.updateAccessibleObjects(this.renderer.lastObjectRendered);const{x:t,y:n,width:r,height:i}=this.renderer.view.getBoundingClientRect(),{width:s,height:o,resolution:a}=this.renderer,l=r/s*a,u=i/o*a;let c=this.div;c.style.left="".concat(t,"px"),c.style.top="".concat(n,"px"),c.style.width="".concat(s,"px"),c.style.height="".concat(o,"px");for(let h=0;h<this.children.length;h++){const e=this.children[h];if(e.renderId!==this.renderId)e._accessibleActive=!1,Qr(this.children,h,1),this.div.removeChild(e._accessibleDiv),this.pool.push(e._accessibleDiv),e._accessibleDiv=null,h--;else{c=e._accessibleDiv;let t=e.hitArea;const n=e.worldTransform;e.hitArea?(c.style.left="".concat((n.tx+t.x*n.a)*l,"px"),c.style.top="".concat((n.ty+t.y*n.d)*u,"px"),c.style.width="".concat(t.width*n.a*l,"px"),c.style.height="".concat(t.height*n.d*u,"px")):(t=e.getBounds(),this.capHitArea(t),c.style.left="".concat(t.x*l,"px"),c.style.top="".concat(t.y*u,"px"),c.style.width="".concat(t.width*l,"px"),c.style.height="".concat(t.height*u,"px"),c.title!==e.accessibleTitle&&null!==e.accessibleTitle&&(c.title=e.accessibleTitle),c.getAttribute("aria-label")!==e.accessibleHint&&null!==e.accessibleHint&&c.setAttribute("aria-label",e.accessibleHint)),(e.accessibleTitle!==c.title||e.tabIndex!==c.tabIndex)&&(c.title=e.accessibleTitle,c.tabIndex=e.tabIndex,this.debug&&this.updateDebugHTML(c))}}this.renderId++}updateDebugHTML(e){e.innerHTML="type: ".concat(e.type,"</br> title : ").concat(e.title,"</br> tabIndex: ").concat(e.tabIndex)}capHitArea(e){e.x<0&&(e.width+=e.x,e.x=0),e.y<0&&(e.height+=e.y,e.y=0);const{width:t,height:n}=this.renderer;e.x+e.width>t&&(e.width=t-e.x),e.y+e.height>n&&(e.height=n-e.y)}addChild(e){let t=this.pool.pop();t||(t=document.createElement("button"),t.style.width="".concat(Va,"px"),t.style.height="".concat(Va,"px"),t.style.backgroundColor=this.debug?"rgba(255,255,255,0.5)":"transparent",t.style.position="absolute",t.style.zIndex=2..toString(),t.style.borderStyle="none",navigator.userAgent.toLowerCase().includes("chrome")?t.setAttribute("aria-live","off"):t.setAttribute("aria-live","polite"),navigator.userAgent.match(/rv:.*Gecko\//)?t.setAttribute("aria-relevant","additions"):t.setAttribute("aria-relevant","text"),t.addEventListener("click",this._onClick.bind(this)),t.addEventListener("focus",this._onFocus.bind(this)),t.addEventListener("focusout",this._onFocusOut.bind(this))),t.style.pointerEvents=e.accessiblePointerEvents,t.type=e.accessibleType,e.accessibleTitle&&null!==e.accessibleTitle?t.title=e.accessibleTitle:(!e.accessibleHint||null===e.accessibleHint)&&(t.title="displayObject ".concat(e.tabIndex)),e.accessibleHint&&null!==e.accessibleHint&&t.setAttribute("aria-label",e.accessibleHint),this.debug&&this.updateDebugHTML(t),e._accessibleActive=!0,e._accessibleDiv=t,t.displayObject=e,this.children.push(e),this.div.appendChild(e._accessibleDiv),e._accessibleDiv.tabIndex=e.tabIndex}_dispatchEvent(e,t){const{displayObject:n}=e.target,r=this.renderer.events.rootBoundary,i=Object.assign(new Da(r),{target:n});r.rootTarget=this.renderer.lastObjectRendered,t.forEach(e=>r.dispatchEvent(i,e))}_onClick(e){this._dispatchEvent(e,["click","pointertap","tap"])}_onFocus(e){e.target.getAttribute("aria-live")||e.target.setAttribute("aria-live","assertive"),this._dispatchEvent(e,["mouseover"])}_onFocusOut(e){e.target.getAttribute("aria-live")||e.target.setAttribute("aria-live","polite"),this._dispatchEvent(e,["mouseout"])}_onKeyDown(e){9===e.keyCode&&this.activate()}_onMouseMove(e){0===e.movementX&&0===e.movementY||this.deactivate()}destroy(){this.destroyTouchHook(),this.div=null,globalThis.document.removeEventListener("mousemove",this._onMouseMove,!0),globalThis.removeEventListener("keydown",this._onKeyDown),this.pool=null,this.children=null,this.renderer=null}}Xa.extension={name:"accessibility",type:[ci.RendererPlugin,ci.CanvasRendererPlugin]},fi.add(Xa);const Ya=class e{constructor(t){this.stage=new xa,t=Object.assign({forceCanvas:!1},t),this.renderer=function(e){for(const t of $o)if(t.test(e))return new t(e);throw new Error("Unable to auto-detect a suitable renderer.")}(t),e._plugins.forEach(e=>{e.init.call(this,t)})}render(){this.renderer.render(this.stage)}get view(){var e;return null===(e=this.renderer)||void 0===e?void 0:e.view}get screen(){var e;return null===(e=this.renderer)||void 0===e?void 0:e.screen}destroy(t,n){const r=e._plugins.slice(0);r.reverse(),r.forEach(e=>{e.destroy.call(this)}),this.stage.destroy(n),this.stage=null,this.renderer.destroy(t),this.renderer=null}};Ya._plugins=[];let qa=Ya;fi.handleByList(ci.Application,qa._plugins);class Ka{static init(e){Object.defineProperty(this,"resizeTo",{set(e){globalThis.removeEventListener("resize",this.queueResize),this._resizeTo=e,e&&(globalThis.addEventListener("resize",this.queueResize),this.resize())},get(){return this._resizeTo}}),this.queueResize=()=>{this._resizeTo&&(this.cancelResize(),this._resizeId=requestAnimationFrame(()=>this.resize()))},this.cancelResize=()=>{this._resizeId&&(cancelAnimationFrame(this._resizeId),this._resizeId=null)},this.resize=()=>{if(!this._resizeTo)return;let e,t;if(this.cancelResize(),this._resizeTo===globalThis.window)e=globalThis.innerWidth,t=globalThis.innerHeight;else{const{clientWidth:n,clientHeight:r}=this._resizeTo;e=n,t=r}this.renderer.resize(e,t),this.render()},this._resizeId=null,this._resizeTo=null,this.resizeTo=e.resizeTo||null}static destroy(){globalThis.removeEventListener("resize",this.queueResize),this.cancelResize(),this.cancelResize=null,this.queueResize=null,this.resizeTo=null,this.resize=null}}Ka.extension=ci.Application,fi.add(Ka);const Qa={loader:ci.LoadParser,resolver:ci.ResolveParser,cache:ci.CacheParser,detection:ci.DetectionParser};fi.handle(ci.Asset,e=>{const t=e.ref;Object.entries(Qa).filter(e=>{let[n]=e;return!!t[n]}).forEach(e=>{var n;let[r,i]=e;return fi.add(Object.assign(t[r],{extension:null!==(n=t[r].extension)&&void 0!==n?n:i}))})},e=>{const t=e.ref;Object.keys(Qa).filter(e=>!!t[e]).forEach(e=>fi.remove(t[e]))});class Za{constructor(e){let t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];this._loader=e,this._assetList=[],this._isLoading=!1,this._maxConcurrent=1,this.verbose=t}add(e){e.forEach(e=>{this._assetList.push(e)}),this.verbose&&console.log("[BackgroundLoader] assets: ",this._assetList),this._isActive&&!this._isLoading&&this._next()}async _next(){if(this._assetList.length&&this._isActive){this._isLoading=!0;const e=[],t=Math.min(this._assetList.length,this._maxConcurrent);for(let n=0;n<t;n++)e.push(this._assetList.pop());await this._loader.load(e),this._isLoading=!1,this._next()}}get active(){return this._isActive}set active(e){this._isActive!==e&&(this._isActive=e,e&&!this._isLoading&&this._next())}}function Ja(e,t){const n=e.split("?")[0],r=cr.extname(n).toLowerCase();return Array.isArray(t)?t.includes(r):r===t}const $a=function(e,t){let n=arguments.length>2&&void 0!==arguments[2]&&arguments[2];return Array.isArray(e)||(e=[e]),t?e.map(e=>"string"==typeof e||n?t(e):e):e};const el=new class{constructor(){this._parsers=[],this._cache=new Map,this._cacheMap=new Map}reset(){this._cacheMap.clear(),this._cache.clear()}has(e){return this._cache.has(e)}get(e){const t=this._cache.get(e);return t||console.warn("[Assets] Asset id ".concat(e," was not found in the Cache")),t}set(e,t){const n=$a(e);let r;for(let o=0;o<this.parsers.length;o++){const e=this.parsers[o];if(e.test(t)){r=e.getCacheableAssets(n,t);break}}r||(r={},n.forEach(e=>{r[e]=t}));const i=Object.keys(r),s={cacheKeys:i,keys:n};if(n.forEach(e=>{this._cacheMap.set(e,s)}),i.forEach(e=>{const n=r?r[e]:t;this._cache.has(e)&&this._cache.get(e)!==n&&console.warn("[Cache] already has key:",e),this._cache.set(e,r[e])}),t instanceof js){const e=t;n.forEach(t=>{e.baseTexture!==js.EMPTY.baseTexture&&Si.addToCache(e.baseTexture,t),js.addToCache(e,t)})}}remove(e){if(!this._cacheMap.has(e))return void console.warn("[Assets] Asset id ".concat(e," was not found in the Cache"));const t=this._cacheMap.get(e);t.cacheKeys.forEach(e=>{this._cache.delete(e)}),t.keys.forEach(e=>{this._cacheMap.delete(e)})}get parsers(){return this._parsers}},tl=e=>!Array.isArray(e);class nl{constructor(){this._parsers=[],this._parsersValidated=!1,this.parsers=new Proxy(this._parsers,{set:(e,t,n)=>(this._parsersValidated=!1,e[t]=n,!0)}),this.promiseCache={}}reset(){this._parsersValidated=!1,this.promiseCache={}}_getLoadPromiseAndParser(e,t){const n={promise:null,parser:null};return n.promise=(async()=>{let r=null,i=null;if(t.loadParser&&(i=this._parserHash[t.loadParser],i||console.warn('[Assets] specified load parser "'.concat(t.loadParser,'" not found while loading ').concat(e))),!i){for(let n=0;n<this.parsers.length;n++){var s;const r=this.parsers[n];if(r.load&&null!==(s=r.test)&&void 0!==s&&s.call(r,e,t,this)){i=r;break}}if(!i)return console.warn("[Assets] ".concat(e," could not be loaded as we don't know how to parse it, ensure the correct parser has been added")),null}r=await i.load(e,t,this),n.parser=i;for(let e=0;e<this.parsers.length;e++){var o;const i=this.parsers[e];i.parse&&i.parse&&await(null===(o=i.testParse)||void 0===o?void 0:o.call(i,r,t,this))&&(r=await i.parse(r,t,this)||r,n.parser=i)}return r})(),n}async load(e,t){this._parsersValidated||this._validateParsers();let n=0;const r={},i=tl(e),s=$a(e,e=>({alias:[e],src:e})),o=s.length,a=s.map(async e=>{const i=cr.toAbsolute(e.src);if(!r[e.src])try{this.promiseCache[i]||(this.promiseCache[i]=this._getLoadPromiseAndParser(i,e)),r[e.src]=await this.promiseCache[i].promise,t&&t(++n/o)}catch(ly){throw delete this.promiseCache[i],delete r[e.src],new Error("[Loader.load] Failed to load ".concat(i,".\n").concat(ly))}});return await Promise.all(a),i?r[s[0].src]:r}async unload(e){const t=$a(e,e=>({alias:[e],src:e})).map(async e=>{const t=cr.toAbsolute(e.src),n=this.promiseCache[t];if(n){var r,i;const s=await n.promise;delete this.promiseCache[t],null===(r=n.parser)||void 0===r||null===(i=r.unload)||void 0===i||i.call(r,s,e,this)}});await Promise.all(t)}_validateParsers(){this._parsersValidated=!0,this._parserHash=this._parsers.filter(e=>e.name).reduce((e,t)=>(e[t.name]&&console.warn('[Assets] loadParser name conflict "'.concat(t.name,'"')),u(u({},e),{},{[t.name]:t})),{})}}var rl=(e=>(e[e.Low=0]="Low",e[e.Normal=1]="Normal",e[e.High=2]="High",e))(rl||{});function il(e,t){if(Array.isArray(t)){for(const n of t)if(e.startsWith("data:".concat(n)))return!0;return!1}return e.startsWith("data:".concat(t))}const sl={extension:{type:ci.LoadParser,priority:rl.Low},name:"loadJson",test:e=>il(e,"application/json")||Ja(e,".json"),load:async e=>await(await Bn.ADAPTER.fetch(e)).json()};fi.add(sl);const ol={name:"loadTxt",extension:{type:ci.LoadParser,priority:rl.Low},test:e=>il(e,"text/plain")||Ja(e,".txt"),load:async e=>await(await Bn.ADAPTER.fetch(e)).text()};fi.add(ol);const al=["normal","bold","100","200","300","400","500","600","700","800","900"],ll=[".ttf",".otf",".woff",".woff2"],ul=["font/ttf","font/otf","font/woff","font/woff2"],cl=/^(--|-?[A-Z_])[0-9A-Z_-]*$/i;const hl=/^[0-9A-Za-z%:/?#\[\]@!\$&'()\*\+,;=\-._~]*$/;function dl(e){return hl.test(e)?e:encodeURI(e)}const fl={extension:{type:ci.LoadParser,priority:rl.Low},name:"loadWebFont",test:e=>il(e,ul)||Ja(e,ll),async load(e,t){const n=Bn.ADAPTER.getFontFaceSet();if(n){var r,i,s,o,a;const l=[],c=null!==(r=null===(i=t.data)||void 0===i?void 0:i.family)&&void 0!==r?r:function(e){const t=cr.extname(e),n=cr.basename(e,t).replace(/(-|_)/g," ").toLowerCase().split(" ").map(e=>e.charAt(0).toUpperCase()+e.slice(1));let r=n.length>0;for(const s of n)if(!s.match(cl)){r=!1;break}let i=n.join(" ");return r||(i='"'.concat(i.replace(/[\\"]/g,"\\$&"),'"')),i}(e),h=null!==(s=null===(o=t.data)||void 0===o||null===(o=o.weights)||void 0===o?void 0:o.filter(e=>al.includes(e)))&&void 0!==s?s:["normal"],d=null!==(a=t.data)&&void 0!==a?a:{};for(let t=0;t<h.length;t++){const r=h[t],i=new FontFace(c,"url(".concat(dl(e),")"),u(u({},d),{},{weight:r}));await i.load(),n.add(i),l.push(i)}return 1===l.length?l[0]:l}return console.warn("[loadWebFont] FontFace API is not supported. Skipping loading font"),null},unload(e){(Array.isArray(e)?e:[e]).forEach(e=>Bn.ADAPTER.getFontFaceSet().delete(e))}};fi.add(fl);let pl=null;class ml{constructor(){pl||(pl=URL.createObjectURL(new Blob(['(function() {\n  "use strict";\n  const WHITE_PNG = "data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAEAAAABCAQAAAC1HAwCAAAAC0lEQVR42mP8/x8AAwMCAO+ip1sAAAAASUVORK5CYII=";\n  async function checkImageBitmap() {\n    try {\n      if (typeof createImageBitmap != "function")\n        return !1;\n      const imageBlob = await (await fetch(WHITE_PNG)).blob(), imageBitmap = await createImageBitmap(imageBlob);\n      return imageBitmap.width === 1 && imageBitmap.height === 1;\n    } catch {\n      return !1;\n    }\n  }\n  checkImageBitmap().then((result) => {\n    self.postMessage(result);\n  });\n})();\n'],{type:"application/javascript"}))),this.worker=new Worker(pl)}}ml.revokeObjectURL=function(){pl&&(URL.revokeObjectURL(pl),pl=null)};let gl=null;class yl{constructor(){gl||(gl=URL.createObjectURL(new Blob(['(function() {\n  "use strict";\n  async function loadImageBitmap(url) {\n    const response = await fetch(url);\n    if (!response.ok)\n      throw new Error(`[WorkerManager.loadImageBitmap] Failed to fetch ${url}: ${response.status} ${response.statusText}`);\n    const imageBlob = await response.blob();\n    return await createImageBitmap(imageBlob);\n  }\n  self.onmessage = async (event) => {\n    try {\n      const imageBitmap = await loadImageBitmap(event.data.data[0]);\n      self.postMessage({\n        data: imageBitmap,\n        uuid: event.data.uuid,\n        id: event.data.id\n      }, [imageBitmap]);\n    } catch (e) {\n      self.postMessage({\n        error: e,\n        uuid: event.data.uuid,\n        id: event.data.id\n      });\n    }\n  };\n})();\n'],{type:"application/javascript"}))),this.worker=new Worker(gl)}}yl.revokeObjectURL=function(){gl&&(URL.revokeObjectURL(gl),gl=null)};let vl,bl=0;const _l=new class{constructor(){this._initialized=!1,this._createdWorkers=0,this.workerPool=[],this.queue=[],this.resolveHash={}}isImageBitmapSupported(){return void 0!==this._isImageBitmapSupported||(this._isImageBitmapSupported=new Promise(e=>{const{worker:t}=new ml;t.addEventListener("message",n=>{t.terminate(),ml.revokeObjectURL(),e(n.data)})})),this._isImageBitmapSupported}loadImageBitmap(e){return this._run("loadImageBitmap",[e])}async _initWorkers(){this._initialized||(this._initialized=!0)}getWorker(){void 0===vl&&(vl=navigator.hardwareConcurrency||4);let e=this.workerPool.pop();return!e&&this._createdWorkers<vl&&(this._createdWorkers++,e=(new yl).worker,e.addEventListener("message",e=>{this.complete(e.data),this.returnWorker(e.target),this.next()})),e}returnWorker(e){this.workerPool.push(e)}complete(e){void 0!==e.error?this.resolveHash[e.uuid].reject(e.error):this.resolveHash[e.uuid].resolve(e.data),this.resolveHash[e.uuid]=null}async _run(e,t){await this._initWorkers();const n=new Promise((n,r)=>{this.queue.push({id:e,arguments:t,resolve:n,reject:r})});return this.next(),n}next(){if(!this.queue.length)return;const e=this.getWorker();if(!e)return;const t=this.queue.pop(),n=t.id;this.resolveHash[bl]={resolve:t.resolve,reject:t.reject},e.postMessage({data:t.arguments,uuid:bl++,id:n})}};function xl(e,t,n){e.resource.internal=!0;const r=new js(e),i=()=>{delete t.promiseCache[n],el.has(n)&&el.remove(n)};return r.baseTexture.once("destroyed",()=>{n in t.promiseCache&&(console.warn("[Assets] A BaseTexture managed by Assets was destroyed instead of unloaded! Use Assets.unload() instead of destroying the BaseTexture."),i())}),r.once("destroyed",()=>{e.destroyed||(console.warn("[Assets] A Texture managed by Assets was destroyed instead of unloaded! Use Assets.unload() instead of destroying the Texture."),i())}),r}const wl=[".jpeg",".jpg",".png",".webp",".avif"],Al=["image/jpeg","image/png","image/webp","image/avif"];const El={name:"loadTextures",extension:{type:ci.LoadParser,priority:rl.High},config:{preferWorkers:!0,preferCreateImageBitmap:!0,crossOrigin:"anonymous"},test:e=>il(e,Al)||Ja(e,wl),async load(e,t,n){var r,i;const s=globalThis.createImageBitmap&&this.config.preferCreateImageBitmap;let o;o=s?this.config.preferWorkers&&await _l.isImageBitmapSupported()?await _l.loadImageBitmap(e):await async function(e){const t=await Bn.ADAPTER.fetch(e);if(!t.ok)throw new Error("[loadImageBitmap] Failed to fetch ".concat(e,": ").concat(t.status," ").concat(t.statusText));const n=await t.blob();return await createImageBitmap(n)}(e):await new Promise((t,n)=>{const r=new Image;r.crossOrigin=this.config.crossOrigin,r.src=e,r.complete?t(r):(r.onload=()=>t(r),r.onerror=e=>n(e))});const a=u({},t.data);null!==(r=a.resolution)&&void 0!==r||(a.resolution=ui(e)),s&&void 0===(null===(i=a.resourceOptions)||void 0===i?void 0:i.ownsImageBitmap)&&(a.resourceOptions=u({},a.resourceOptions),a.resourceOptions.ownsImageBitmap=!0);const l=new Si(o,a);return l.resource.src=e,xl(l,n,e)},unload(e){e.destroy(!0)}};fi.add(El);const Sl={extension:{type:ci.LoadParser,priority:rl.High},name:"loadSVG",test:e=>il(e,"image/svg+xml")||Ja(e,".svg"),testParse:async e=>da.test(e),async parse(e,t,n){var r;const i=new da(e,null===t||void 0===t||null===(r=t.data)||void 0===r?void 0:r.resourceOptions);await i.load();const s=new Si(i,u({resolution:ui(e)},null===t||void 0===t?void 0:t.data));return s.resource.src=t.src,xl(s,n,t.src)},load:async(e,t)=>(await Bn.ADAPTER.fetch(e)).text(),unload:El.unload};fi.add(Sl);const Tl=[".mp4",".m4v",".webm",".ogv"],Cl=["video/mp4","video/webm","video/ogg"],kl={name:"loadVideo",extension:{type:ci.LoadParser,priority:rl.High},config:{defaultAutoPlay:!0,defaultUpdateFPS:0,defaultLoop:!1,defaultMuted:!1,defaultPlaysinline:!0},test:e=>il(e,Cl)||Ja(e,Tl),async load(e,t,n){let r;const i=await(await Bn.ADAPTER.fetch(e)).blob(),s=URL.createObjectURL(i);try{var o;const i=u(u({autoPlay:this.config.defaultAutoPlay,updateFPS:this.config.defaultUpdateFPS,loop:this.config.defaultLoop,muted:this.config.defaultMuted,playsinline:this.config.defaultPlaysinline},null===t||void 0===t||null===(o=t.data)||void 0===o?void 0:o.resourceOptions),{},{autoLoad:!0}),a=new pa(s,i);await a.load();const l=new Si(a,u({alphaMode:await fr(),resolution:ui(e)},null===t||void 0===t?void 0:t.data));l.resource.src=e,r=xl(l,n,e),r.baseTexture.once("destroyed",()=>{URL.revokeObjectURL(s)})}catch(ly){throw URL.revokeObjectURL(s),ly}return r},unload(e){e.destroy(!0)}};function Rl(e,t,n,r,i){const s=t[n];for(let o=0;o<s.length;o++){const a=s[o];n<t.length-1?Rl(e.replace(r[n],a),t,n+1,r,i):i.push(e.replace(r[n],a))}}function Pl(e){const t=e.match(/\{(.*?)\}/g),n=[];if(t){const r=[];t.forEach(e=>{const t=e.substring(1,e.length-1).split(",");r.push(t)}),Rl(e,r,0,t,n)}else n.push(e);return n}fi.add(kl);class Il{constructor(){this._defaultBundleIdentifierOptions={connector:"-",createBundleAssetId:(e,t)=>"".concat(e).concat(this._bundleIdConnector).concat(t),extractAssetIdFromBundle:(e,t)=>t.replace("".concat(e).concat(this._bundleIdConnector),"")},this._bundleIdConnector=this._defaultBundleIdentifierOptions.connector,this._createBundleAssetId=this._defaultBundleIdentifierOptions.createBundleAssetId,this._extractAssetIdFromBundle=this._defaultBundleIdentifierOptions.extractAssetIdFromBundle,this._assetMap={},this._preferredOrder=[],this._parsers=[],this._resolverHash={},this._bundles={}}setBundleIdentifier(e){var t,n,r;if(this._bundleIdConnector=null!==(t=e.connector)&&void 0!==t?t:this._bundleIdConnector,this._createBundleAssetId=null!==(n=e.createBundleAssetId)&&void 0!==n?n:this._createBundleAssetId,this._extractAssetIdFromBundle=null!==(r=e.extractAssetIdFromBundle)&&void 0!==r?r:this._extractAssetIdFromBundle,"bar"!==this._extractAssetIdFromBundle("foo",this._createBundleAssetId("foo","bar")))throw new Error("[Resolver] GenerateBundleAssetId are not working correctly")}prefer(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];t.forEach(e=>{this._preferredOrder.push(e),e.priority||(e.priority=Object.keys(e.params))}),this._resolverHash={}}set basePath(e){this._basePath=e}get basePath(){return this._basePath}set rootPath(e){this._rootPath=e}get rootPath(){return this._rootPath}get parsers(){return this._parsers}reset(){this.setBundleIdentifier(this._defaultBundleIdentifierOptions),this._assetMap={},this._preferredOrder=[],this._resolverHash={},this._rootPath=null,this._basePath=null,this._manifest=null,this._bundles={},this._defaultSearchParams=null}setDefaultSearchParams(e){if("string"==typeof e)this._defaultSearchParams=e;else{const t=e;this._defaultSearchParams=Object.keys(t).map(e=>"".concat(encodeURIComponent(e),"=").concat(encodeURIComponent(t[e]))).join("&")}}getAlias(e){const{alias:t,name:n,src:r,srcs:i}=e;return $a(t||n||r||i,e=>{var t;return"string"==typeof e?e:Array.isArray(e)?e.map(e=>{var t,n;return null!==(t=null!==(n=null===e||void 0===e?void 0:e.src)&&void 0!==n?n:null===e||void 0===e?void 0:e.srcs)&&void 0!==t?t:e}):null!==e&&void 0!==e&&e.src||null!==e&&void 0!==e&&e.srcs?null!==(t=e.src)&&void 0!==t?t:e.srcs:e},!0)}addManifest(e){this._manifest&&console.warn("[Resolver] Manifest already exists, this will be overwritten"),this._manifest=e,e.bundles.forEach(e=>{this.addBundle(e.name,e.assets)})}addBundle(e,t){const n=[];Array.isArray(t)?t.forEach(t=>{var r,i;const s=null!==(r=t.src)&&void 0!==r?r:t.srcs,o=null!==(i=t.alias)&&void 0!==i?i:t.name;let a;if("string"==typeof o){const t=this._createBundleAssetId(e,o);n.push(t),a=[o,t]}else{const t=o.map(t=>this._createBundleAssetId(e,t));n.push(...t),a=[...o,...t]}this.add(u(u({},t),{},{alias:a,src:s}))}):Object.keys(t).forEach(r=>{const i=[r,this._createBundleAssetId(e,r)];if("string"==typeof t[r])this.add({alias:i,src:t[r]});else if(Array.isArray(t[r]))this.add({alias:i,src:t[r]});else{var s;const e=t[r],n=null!==(s=e.src)&&void 0!==s?s:e.srcs;this.add(u(u({},e),{},{alias:i,src:Array.isArray(n)?n:[n]}))}n.push(...i)}),this._bundles[e]=n}add(e,t,n,r,i){const s=[];let o;"string"==typeof e||Array.isArray(e)&&"string"==typeof e[0]?(ar("7.2.0","Assets.add now uses an object instead of individual parameters.\nPlease use Assets.add({ alias, src, data, format, loadParser }) instead."),s.push({alias:e,src:t,data:n,format:r,loadParser:i})):Array.isArray(e)?s.push(...e):s.push(e),o=e=>{this.hasKey(e)&&console.warn("[Resolver] already has key: ".concat(e," overwriting"))},$a(s).forEach(e=>{const{src:t,srcs:n}=e;let{data:r,format:i,loadParser:s}=e;const a=$a(t||n).map(e=>"string"==typeof e?Pl(e):Array.isArray(e)?e:[e]),l=this.getAlias(e);Array.isArray(l)?l.forEach(o):o(l);const c=[];a.forEach(e=>{e.forEach(e=>{var t,n,o;let a={};if("object"!=typeof e){a.src=e;for(let t=0;t<this._parsers.length;t++){const n=this._parsers[t];if(n.test(e)){a=n.parse(e);break}}}else r=null!==(t=e.data)&&void 0!==t?t:r,i=null!==(n=e.format)&&void 0!==n?n:i,s=null!==(o=e.loadParser)&&void 0!==o?o:s,a=u(u({},a),e);if(!l)throw new Error("[Resolver] alias is undefined for this asset: ".concat(a.src));a=this.buildResolvedAsset(a,{aliases:l,data:r,format:i,loadParser:s}),c.push(a)})}),l.forEach(e=>{this._assetMap[e]=c})})}resolveBundle(e){const t=tl(e);e=$a(e);const n={};return e.forEach(e=>{const t=this._bundles[e];if(t){const r=this.resolve(t),i={};for(const t in r){const n=r[t];i[this._extractAssetIdFromBundle(e,t)]=n}n[e]=i}}),t?n[e[0]]:n}resolveUrl(e){const t=this.resolve(e);if("string"!=typeof e){const e={};for(const n in t)e[n]=t[n].src;return e}return t.src}resolve(e){const t=tl(e);e=$a(e);const n={};return e.forEach(e=>{if(!this._resolverHash[e])if(this._assetMap[e]){var t;let n=this._assetMap[e];const r=n[0],i=this._getPreferredOrder(n);null!==i&&void 0!==i&&i.priority.forEach(e=>{i.params[e].forEach(t=>{const r=n.filter(n=>!!n[e]&&n[e]===t);r.length&&(n=r)})}),this._resolverHash[e]=null!==(t=n[0])&&void 0!==t?t:r}else this._resolverHash[e]=this.buildResolvedAsset({alias:[e],src:e},{});n[e]=this._resolverHash[e]}),t?n[e[0]]:n}hasKey(e){return!!this._assetMap[e]}hasBundle(e){return!!this._bundles[e]}_getPreferredOrder(e){for(let t=0;t<e.length;t++){const t=e[0],n=this._preferredOrder.find(e=>e.params.format.includes(t.format));if(n)return n}return this._preferredOrder[0]}_appendDefaultSearchParams(e){if(!this._defaultSearchParams)return e;const t=/\?/.test(e)?"&":"?";return"".concat(e).concat(t).concat(this._defaultSearchParams)}buildResolvedAsset(e,t){var n,r;const{aliases:i,data:s,loadParser:o,format:a}=t;return(this._basePath||this._rootPath)&&(e.src=cr.toAbsolute(e.src,this._basePath,this._rootPath)),e.alias=null!==(n=null!==i&&void 0!==i?i:e.alias)&&void 0!==n?n:[e.src],e.src=this._appendDefaultSearchParams(e.src),e.data=u(u({},s||{}),e.data),e.loadParser=null!==o&&void 0!==o?o:e.loadParser,e.format=null!==(r=null!==a&&void 0!==a?a:e.format)&&void 0!==r?r:cr.extname(e.src).slice(1),e.srcs=e.src,e.name=e.alias,e}}const Ml=new class{constructor(){this._detections=[],this._initialized=!1,this.resolver=new Il,this.loader=new nl,this.cache=el,this._backgroundLoader=new Za(this.loader),this._backgroundLoader.active=!0,this.reset()}async init(){var e,t,n;let r=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};if(this._initialized)return void console.warn("[Assets]AssetManager already initialized, did you load before calling this Assets.init()?");if(this._initialized=!0,r.defaultSearchParams&&this.resolver.setDefaultSearchParams(r.defaultSearchParams),r.basePath&&(this.resolver.basePath=r.basePath),r.bundleIdentifier&&this.resolver.setBundleIdentifier(r.bundleIdentifier),r.manifest){let e=r.manifest;"string"==typeof e&&(e=await this.load(e)),this.resolver.addManifest(e)}const i=null!==(e=null===(t=r.texturePreference)||void 0===t?void 0:t.resolution)&&void 0!==e?e:1,s="number"==typeof i?[i]:i,o=await this._detectFormats({preferredFormats:null===(n=r.texturePreference)||void 0===n?void 0:n.format,skipDetections:r.skipDetections,detections:this._detections});this.resolver.prefer({params:{format:o,resolution:s}}),r.preferences&&this.setPreferences(r.preferences)}add(e,t,n,r,i){this.resolver.add(e,t,n,r,i)}async load(e,t){this._initialized||await this.init();const n=tl(e),r=$a(e).map(e=>{if("string"!=typeof e){const t=this.resolver.getAlias(e);return t.some(e=>!this.resolver.hasKey(e))&&this.add(e),Array.isArray(t)?t[0]:t}return this.resolver.hasKey(e)||this.add({alias:e,src:e}),e}),i=this.resolver.resolve(r),s=await this._mapLoadToResolve(i,t);return n?s[r[0]]:s}addBundle(e,t){this.resolver.addBundle(e,t)}async loadBundle(e,t){this._initialized||await this.init();let n=!1;"string"==typeof e&&(n=!0,e=[e]);const r=this.resolver.resolveBundle(e),i={},s=Object.keys(r);let o=0,a=0;const l=()=>{null===t||void 0===t||t(++o/a)},u=s.map(e=>{const t=r[e];return a+=Object.keys(t).length,this._mapLoadToResolve(t,l).then(t=>{i[e]=t})});return await Promise.all(u),n?i[e[0]]:i}async backgroundLoad(e){this._initialized||await this.init(),"string"==typeof e&&(e=[e]);const t=this.resolver.resolve(e);this._backgroundLoader.add(Object.values(t))}async backgroundLoadBundle(e){this._initialized||await this.init(),"string"==typeof e&&(e=[e]);const t=this.resolver.resolveBundle(e);Object.values(t).forEach(e=>{this._backgroundLoader.add(Object.values(e))})}reset(){this.resolver.reset(),this.loader.reset(),this.cache.reset(),this._initialized=!1}get(e){if("string"==typeof e)return el.get(e);const t={};for(let n=0;n<e.length;n++)t[n]=el.get(e[n]);return t}async _mapLoadToResolve(e,t){const n=Object.values(e),r=Object.keys(e);this._backgroundLoader.active=!1;const i=await this.loader.load(n,t);this._backgroundLoader.active=!0;const s={};return n.forEach((e,t)=>{const n=i[e.src],o=[e.src];e.alias&&o.push(...e.alias),s[r[t]]=n,el.set(o,n)}),s}async unload(e){this._initialized||await this.init();const t=$a(e).map(e=>"string"!=typeof e?e.src:e),n=this.resolver.resolve(t);await this._unloadFromResolved(n)}async unloadBundle(e){this._initialized||await this.init(),e=$a(e);const t=this.resolver.resolveBundle(e),n=Object.keys(t).map(e=>this._unloadFromResolved(t[e]));await Promise.all(n)}async _unloadFromResolved(e){const t=Object.values(e);t.forEach(e=>{el.remove(e.src)}),await this.loader.unload(t)}async _detectFormats(e){let t=[];e.preferredFormats&&(t=Array.isArray(e.preferredFormats)?e.preferredFormats:[e.preferredFormats]);for(const n of e.detections)e.skipDetections||await n.test()?t=await n.add(t):e.skipDetections||(t=await n.remove(t));return t=t.filter((e,n)=>t.indexOf(e)===n),t}get detections(){return this._detections}get preferWorkers(){return El.config.preferWorkers}set preferWorkers(e){ar("7.2.0","Assets.prefersWorkers is deprecated, use Assets.setPreferences({ preferWorkers: true }) instead."),this.setPreferences({preferWorkers:e})}setPreferences(e){this.loader.parsers.forEach(t=>{t.config&&Object.keys(t.config).filter(t=>t in e).forEach(n=>{t.config[n]=e[n]})})}};fi.handleByList(ci.LoadParser,Ml.loader.parsers).handleByList(ci.ResolveParser,Ml.resolver.parsers).handleByList(ci.CacheParser,Ml.cache.parsers).handleByList(ci.DetectionParser,Ml.detections);const Dl={extension:ci.CacheParser,test:e=>Array.isArray(e)&&e.every(e=>e instanceof js),getCacheableAssets:(e,t)=>{const n={};return e.forEach(e=>{t.forEach((t,r)=>{n[e+(0===r?"":r+1)]=t})}),n}};async function Ol(e){if("Image"in globalThis)return new Promise(t=>{const n=new Image;n.onload=()=>{t(!0)},n.onerror=()=>{t(!1)},n.src=e});if("createImageBitmap"in globalThis&&"fetch"in globalThis){try{const t=await(await fetch(e)).blob();await createImageBitmap(t)}catch(t){return!1}return!0}return!1}fi.add(Dl);const Ll={extension:{type:ci.DetectionParser,priority:1},test:async()=>Ol("data:image/avif;base64,AAAAIGZ0eXBhdmlmAAAAAGF2aWZtaWYxbWlhZk1BMUIAAADybWV0YQAAAAAAAAAoaGRscgAAAAAAAAAAcGljdAAAAAAAAAAAAAAAAGxpYmF2aWYAAAAADnBpdG0AAAAAAAEAAAAeaWxvYwAAAABEAAABAAEAAAABAAABGgAAAB0AAAAoaWluZgAAAAAAAQAAABppbmZlAgAAAAABAABhdjAxQ29sb3IAAAAAamlwcnAAAABLaXBjbwAAABRpc3BlAAAAAAAAAAIAAAACAAAAEHBpeGkAAAAAAwgICAAAAAxhdjFDgQ0MAAAAABNjb2xybmNseAACAAIAAYAAAAAXaXBtYQAAAAAAAAABAAEEAQKDBAAAACVtZGF0EgAKCBgANogQEAwgMg8f8D///8WfhwB8+ErK42A="),add:async e=>[...e,"avif"],remove:async e=>e.filter(e=>"avif"!==e)};fi.add(Ll);const Nl={extension:{type:ci.DetectionParser,priority:0},test:async()=>Ol("data:image/webp;base64,UklGRh4AAABXRUJQVlA4TBEAAAAvAAAAAAfQ//73v/+BiOh/AAA="),add:async e=>[...e,"webp"],remove:async e=>e.filter(e=>"webp"!==e)};fi.add(Nl);const Fl=["png","jpg","jpeg"],Bl={extension:{type:ci.DetectionParser,priority:-1},test:()=>Promise.resolve(!0),add:async e=>[...e,...Fl],remove:async e=>e.filter(e=>!Fl.includes(e))};fi.add(Bl);const Ul="WorkerGlobalScope"in globalThis&&globalThis instanceof globalThis.WorkerGlobalScope;function Gl(e){return!Ul&&""!==document.createElement("video").canPlayType(e)}const zl={extension:{type:ci.DetectionParser,priority:0},test:async()=>Gl("video/webm"),add:async e=>[...e,"webm"],remove:async e=>e.filter(e=>"webm"!==e)};fi.add(zl);const Hl={extension:{type:ci.DetectionParser,priority:0},test:async()=>Gl("video/mp4"),add:async e=>[...e,"mp4","m4v"],remove:async e=>e.filter(e=>"mp4"!==e&&"m4v"!==e)};fi.add(Hl);const jl={extension:{type:ci.DetectionParser,priority:0},test:async()=>Gl("video/ogg"),add:async e=>[...e,"ogv"],remove:async e=>e.filter(e=>"ogv"!==e)};fi.add(jl);const Wl={extension:ci.ResolveParser,test:El.test,parse:e=>{var t,n;return{resolution:parseFloat(null!==(t=null===(n=Bn.RETINA_PREFIX.exec(e))||void 0===n?void 0:n[1])&&void 0!==t?t:"1"),format:cr.extname(e).slice(1),src:e}}};fi.add(Wl);const Vl=(e,t)=>{const n=t.split("?")[1];return n&&(e+="?".concat(n)),e};var Xl=(e=>(e[e.COMPRESSED_RGB_S3TC_DXT1_EXT=33776]="COMPRESSED_RGB_S3TC_DXT1_EXT",e[e.COMPRESSED_RGBA_S3TC_DXT1_EXT=33777]="COMPRESSED_RGBA_S3TC_DXT1_EXT",e[e.COMPRESSED_RGBA_S3TC_DXT3_EXT=33778]="COMPRESSED_RGBA_S3TC_DXT3_EXT",e[e.COMPRESSED_RGBA_S3TC_DXT5_EXT=33779]="COMPRESSED_RGBA_S3TC_DXT5_EXT",e[e.COMPRESSED_SRGB_ALPHA_S3TC_DXT1_EXT=35917]="COMPRESSED_SRGB_ALPHA_S3TC_DXT1_EXT",e[e.COMPRESSED_SRGB_ALPHA_S3TC_DXT3_EXT=35918]="COMPRESSED_SRGB_ALPHA_S3TC_DXT3_EXT",e[e.COMPRESSED_SRGB_ALPHA_S3TC_DXT5_EXT=35919]="COMPRESSED_SRGB_ALPHA_S3TC_DXT5_EXT",e[e.COMPRESSED_SRGB_S3TC_DXT1_EXT=35916]="COMPRESSED_SRGB_S3TC_DXT1_EXT",e[e.COMPRESSED_R11_EAC=37488]="COMPRESSED_R11_EAC",e[e.COMPRESSED_SIGNED_R11_EAC=37489]="COMPRESSED_SIGNED_R11_EAC",e[e.COMPRESSED_RG11_EAC=37490]="COMPRESSED_RG11_EAC",e[e.COMPRESSED_SIGNED_RG11_EAC=37491]="COMPRESSED_SIGNED_RG11_EAC",e[e.COMPRESSED_RGB8_ETC2=37492]="COMPRESSED_RGB8_ETC2",e[e.COMPRESSED_RGBA8_ETC2_EAC=37496]="COMPRESSED_RGBA8_ETC2_EAC",e[e.COMPRESSED_SRGB8_ETC2=37493]="COMPRESSED_SRGB8_ETC2",e[e.COMPRESSED_SRGB8_ALPHA8_ETC2_EAC=37497]="COMPRESSED_SRGB8_ALPHA8_ETC2_EAC",e[e.COMPRESSED_RGB8_PUNCHTHROUGH_ALPHA1_ETC2=37494]="COMPRESSED_RGB8_PUNCHTHROUGH_ALPHA1_ETC2",e[e.COMPRESSED_SRGB8_PUNCHTHROUGH_ALPHA1_ETC2=37495]="COMPRESSED_SRGB8_PUNCHTHROUGH_ALPHA1_ETC2",e[e.COMPRESSED_RGB_PVRTC_4BPPV1_IMG=35840]="COMPRESSED_RGB_PVRTC_4BPPV1_IMG",e[e.COMPRESSED_RGBA_PVRTC_4BPPV1_IMG=35842]="COMPRESSED_RGBA_PVRTC_4BPPV1_IMG",e[e.COMPRESSED_RGB_PVRTC_2BPPV1_IMG=35841]="COMPRESSED_RGB_PVRTC_2BPPV1_IMG",e[e.COMPRESSED_RGBA_PVRTC_2BPPV1_IMG=35843]="COMPRESSED_RGBA_PVRTC_2BPPV1_IMG",e[e.COMPRESSED_RGB_ETC1_WEBGL=36196]="COMPRESSED_RGB_ETC1_WEBGL",e[e.COMPRESSED_RGB_ATC_WEBGL=35986]="COMPRESSED_RGB_ATC_WEBGL",e[e.COMPRESSED_RGBA_ATC_EXPLICIT_ALPHA_WEBGL=35987]="COMPRESSED_RGBA_ATC_EXPLICIT_ALPHA_WEBGL",e[e.COMPRESSED_RGBA_ATC_INTERPOLATED_ALPHA_WEBGL=34798]="COMPRESSED_RGBA_ATC_INTERPOLATED_ALPHA_WEBGL",e[e.COMPRESSED_RGBA_ASTC_4x4_KHR=37808]="COMPRESSED_RGBA_ASTC_4x4_KHR",e[e.COMPRESSED_RGBA_BPTC_UNORM_EXT=36492]="COMPRESSED_RGBA_BPTC_UNORM_EXT",e[e.COMPRESSED_SRGB_ALPHA_BPTC_UNORM_EXT=36493]="COMPRESSED_SRGB_ALPHA_BPTC_UNORM_EXT",e[e.COMPRESSED_RGB_BPTC_SIGNED_FLOAT_EXT=36494]="COMPRESSED_RGB_BPTC_SIGNED_FLOAT_EXT",e[e.COMPRESSED_RGB_BPTC_UNSIGNED_FLOAT_EXT=36495]="COMPRESSED_RGB_BPTC_UNSIGNED_FLOAT_EXT",e))(Xl||{});const Yl={33776:.5,33777:.5,33778:1,33779:1,35916:.5,35917:.5,35918:1,35919:1,37488:.5,37489:.5,37490:1,37491:1,37492:.5,37496:1,37493:.5,37497:1,37494:.5,37495:.5,35840:.5,35842:.5,35841:.25,35843:.25,36196:.5,35986:.5,35987:1,34798:1,37808:1,36492:1,36493:1,36494:1,36495:1};let ql,Kl;function Ql(){Kl={bptc:ql.getExtension("EXT_texture_compression_bptc"),astc:ql.getExtension("WEBGL_compressed_texture_astc"),etc:ql.getExtension("WEBGL_compressed_texture_etc"),s3tc:ql.getExtension("WEBGL_compressed_texture_s3tc"),s3tc_sRGB:ql.getExtension("WEBGL_compressed_texture_s3tc_srgb"),pvrtc:ql.getExtension("WEBGL_compressed_texture_pvrtc")||ql.getExtension("WEBKIT_WEBGL_compressed_texture_pvrtc"),etc1:ql.getExtension("WEBGL_compressed_texture_etc1"),atc:ql.getExtension("WEBGL_compressed_texture_atc")}}const Zl={extension:{type:ci.DetectionParser,priority:2},test:async()=>{const e=Bn.ADAPTER.createCanvas().getContext("webgl");return e?(ql=e,!0):(console.warn("WebGL not available for compressed textures."),!1)},add:async e=>{Kl||Ql();const t=[];for(const n in Kl)Kl[n]&&t.push(n);return[...t,...e]},remove:async e=>(Kl||Ql(),e.filter(e=>!(e in Kl)))};fi.add(Zl);class Jl extends wi{constructor(e){let t,n,r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{width:1,height:1,autoLoad:!0};"string"==typeof e?(t=e,n=new Uint8Array):(t=null,n=e),super(n,r),this.origin=t,this.buffer=n?new pi(n):null,this._load=null,this.loaded=!1,null!==this.origin&&!1!==r.autoLoad&&this.load(),null===this.origin&&this.buffer&&(this._load=Promise.resolve(this),this.loaded=!0,this.onBlobLoaded(this.buffer.rawBinaryData))}onBlobLoaded(e){}load(){return this._load||(this._load=fetch(this.origin).then(e=>e.blob()).then(e=>e.arrayBuffer()).then(e=>(this.data=new Uint32Array(e),this.buffer=new pi(e),this.loaded=!0,this.onBlobLoaded(e),this.update(),this))),this._load}}class $l extends Jl{constructor(e,t){super(e,t),this.format=t.format,this.levels=t.levels||1,this._width=t.width,this._height=t.height,this._extension=$l._formatToExtension(this.format),(t.levelBuffers||this.buffer)&&(this._levelBuffers=t.levelBuffers||$l._createLevelBuffers(e instanceof Uint8Array?e:this.buffer.uint8View,this.format,this.levels,4,4,this.width,this.height))}upload(e,t,n){const r=e.gl;if(!e.context.extensions[this._extension])throw new Error("".concat(this._extension," textures are not supported on the current machine"));if(!this._levelBuffers)return!1;r.pixelStorei(r.UNPACK_ALIGNMENT,4);for(let i=0,s=this.levels;i<s;i++){const{levelID:e,levelWidth:t,levelHeight:n,levelBuffer:s}=this._levelBuffers[i];r.compressedTexImage2D(r.TEXTURE_2D,e,this.format,t,n,0,s)}return!0}onBlobLoaded(){this._levelBuffers=$l._createLevelBuffers(this.buffer.uint8View,this.format,this.levels,4,4,this.width,this.height)}static _formatToExtension(e){if(e>=33776&&e<=33779)return"s3tc";if(e>=35916&&e<=35919)return"s3tc_sRGB";if(e>=37488&&e<=37497)return"etc";if(e>=35840&&e<=35843)return"pvrtc";if(36196===e)return"etc1";if(35986===e||35987===e||34798===e)return"atc";if(e>=36492&&e<=36495)return"bptc";if(37808===e)return"astc";throw new Error("Invalid (compressed) texture format given: ".concat(e))}static _createLevelBuffers(e,t,n,r,i,s,o){const a=new Array(n);let l=e.byteOffset,u=s,c=o,h=u+r-1&~(r-1),d=c+i-1&~(i-1),f=h*d*Yl[t];for(let p=0;p<n;p++)a[p]={levelID:p,levelWidth:n>1?u:h,levelHeight:n>1?c:d,levelBuffer:new Uint8Array(e.buffer,l,f)},l+=f,u=u>>1||1,c=c>>1||1,h=u+r-1&~(r-1),d=c+i-1&~(i-1),f=h*d*Yl[t];return a}}const eu=124,tu=3,nu=4,ru=7,iu=19,su=2,ou=0,au=1,lu=2,uu=3,cu=827611204,hu=861165636,du=894720068,fu={[cu]:Xl.COMPRESSED_RGBA_S3TC_DXT1_EXT,[hu]:Xl.COMPRESSED_RGBA_S3TC_DXT3_EXT,[du]:Xl.COMPRESSED_RGBA_S3TC_DXT5_EXT},pu={70:Xl.COMPRESSED_RGBA_S3TC_DXT1_EXT,71:Xl.COMPRESSED_RGBA_S3TC_DXT1_EXT,73:Xl.COMPRESSED_RGBA_S3TC_DXT3_EXT,74:Xl.COMPRESSED_RGBA_S3TC_DXT3_EXT,76:Xl.COMPRESSED_RGBA_S3TC_DXT5_EXT,77:Xl.COMPRESSED_RGBA_S3TC_DXT5_EXT,72:Xl.COMPRESSED_SRGB_ALPHA_S3TC_DXT1_EXT,75:Xl.COMPRESSED_SRGB_ALPHA_S3TC_DXT3_EXT,78:Xl.COMPRESSED_SRGB_ALPHA_S3TC_DXT5_EXT,96:Xl.COMPRESSED_RGB_BPTC_SIGNED_FLOAT_EXT,95:Xl.COMPRESSED_RGB_BPTC_UNSIGNED_FLOAT_EXT,98:Xl.COMPRESSED_RGBA_BPTC_UNORM_EXT,99:Xl.COMPRESSED_SRGB_ALPHA_BPTC_UNORM_EXT};const mu=[171,75,84,88,32,49,49,187,13,10,26,10],gu=12,yu=16,vu=24,bu=28,_u=36,xu=40,wu=44,Au=48,Eu=52,Su=56,Tu=60,Cu={[Sn.UNSIGNED_BYTE]:1,[Sn.UNSIGNED_SHORT]:2,[Sn.INT]:4,[Sn.UNSIGNED_INT]:4,[Sn.FLOAT]:4,[Sn.HALF_FLOAT]:8},ku={[An.RGBA]:4,[An.RGB]:3,[An.RG]:2,[An.RED]:1,[An.LUMINANCE]:1,[An.LUMINANCE_ALPHA]:2,[An.ALPHA]:1},Ru={[Sn.UNSIGNED_SHORT_4_4_4_4]:2,[Sn.UNSIGNED_SHORT_5_5_5_1]:2,[Sn.UNSIGNED_SHORT_5_6_5]:2};function Pu(e,t){let n=arguments.length>2&&void 0!==arguments[2]&&arguments[2];const r=new DataView(t);if(!function(e,t){for(let n=0;n<mu.length;n++)if(t.getUint8(n)!==mu[n])return console.error("".concat(e," is not a valid *.ktx file!")),!1;return!0}(e,r))return null;const i=67305985===r.getUint32(gu,!0),s=r.getUint32(yu,i),o=r.getUint32(vu,i),a=r.getUint32(bu,i),l=r.getUint32(_u,i),u=r.getUint32(xu,i)||1,c=r.getUint32(wu,i)||1,h=r.getUint32(Au,i)||1,d=r.getUint32(Eu,i),f=r.getUint32(Su,i),p=r.getUint32(Tu,i);if(0===u||1!==c)throw new Error("Only 2D textures are supported");if(1!==d)throw new Error("CubeTextures are not supported by KTXLoader yet!");if(1!==h)throw new Error("WebGL does not support array textures");const m=l+3&-4,g=u+3&-4,y=new Array(h);let v,b=l*u;if(0===s&&(b=m*g),v=0!==s?Cu[s]?Cu[s]*ku[o]:Ru[s]:Yl[a],void 0===v)throw new Error("Unable to resolve the pixel format stored in the *.ktx file!");const _=n?function(e,t,n){const r=new Map;let i=0;for(;i<t;){const s=e.getUint32(64+i,n),o=64+i+4,a=3-(s+3)%4;if(0===s||s>t-i){console.error("KTXLoader: keyAndValueByteSize out of bounds");break}let l=0;for(;l<s&&0!==e.getUint8(o+l);l++);if(-1===l){console.error("KTXLoader: Failed to find null byte terminating kvData key");break}const u=(new TextDecoder).decode(new Uint8Array(e.buffer,o,l)),c=new DataView(e.buffer,o+l+1,s-l-1);r.set(u,c),i+=4+s+a}return r}(r,p,i):null;let x=b*v,w=l,A=u,E=m,S=g,T=64+p;for(let C=0;C<f;C++){const e=r.getUint32(T,i);let n=T+4;for(let r=0;r<h;r++){let e=y[r];e||(e=y[r]=new Array(f)),e[C]={levelID:C,levelWidth:f>1||0!==s?w:E,levelHeight:f>1||0!==s?A:S,levelBuffer:new Uint8Array(t,n,x)},n+=x}T+=e+4,T=T%4!==0?T+4-T%4:T,w=w>>1||1,A=A>>1||1,E=w+4-1&-4,S=A+4-1&-4,x=E*S*v}return 0!==s?{uncompressed:y.map(e=>{let t=e[0].levelBuffer,n=!1;return s===Sn.FLOAT?t=new Float32Array(e[0].levelBuffer.buffer,e[0].levelBuffer.byteOffset,e[0].levelBuffer.byteLength/4):s===Sn.UNSIGNED_INT?(n=!0,t=new Uint32Array(e[0].levelBuffer.buffer,e[0].levelBuffer.byteOffset,e[0].levelBuffer.byteLength/4)):s===Sn.INT&&(n=!0,t=new Int32Array(e[0].levelBuffer.buffer,e[0].levelBuffer.byteOffset,e[0].levelBuffer.byteLength/4)),{resource:new wi(t,{width:e[0].levelWidth,height:e[0].levelHeight}),type:s,format:n?Iu(o):o}}),kvData:_}:{compressed:y.map(e=>new $l(null,{format:a,width:l,height:u,levels:f,levelBuffers:e})),kvData:_}}function Iu(e){switch(e){case An.RGBA:return An.RGBA_INTEGER;case An.RGB:return An.RGB_INTEGER;case An.RG:return An.RG_INTEGER;case An.RED:return An.RED_INTEGER;default:return e}}const Mu={extension:{type:ci.LoadParser,priority:rl.High},name:"loadDDS",test:e=>Ja(e,".dds"),async load(e,t,n){const r=function(e){const t=new Uint32Array(e);if(542327876!==t[0])throw new Error("Invalid DDS file magic word");const n=new Uint32Array(e,0,eu/Uint32Array.BYTES_PER_ELEMENT),r=n[tu],i=n[nu],s=n[ru],o=new Uint32Array(e,iu*Uint32Array.BYTES_PER_ELEMENT,32/Uint32Array.BYTES_PER_ELEMENT),a=o[1];if(4&a){const n=o[su];if(808540228!==n){const t=fu[n],o=new Uint8Array(e,128);return[new $l(o,{format:t,width:i,height:r,levels:s})]}const a=128,l=new Uint32Array(t.buffer,a,20/Uint32Array.BYTES_PER_ELEMENT),u=l[ou],c=l[au],h=l[lu],d=l[uu],f=pu[u];if(void 0===f)throw new Error("DDSParser cannot parse texture data with DXGI format ".concat(u));if(4===h)throw new Error("DDSParser does not support cubemap textures");if(6===c)throw new Error("DDSParser does not supported 3D texture data");const p=new Array,m=148;if(1===d)p.push(new Uint8Array(e,m));else{const t=Yl[f];let n=0,o=i,a=r;for(let e=0;e<s;e++)n+=Math.max(1,o+3&-4)*Math.max(1,a+3&-4)*t,o>>>=1,a>>>=1;let l=m;for(let r=0;r<d;r++)p.push(new Uint8Array(e,l,n)),l+=n}return p.map(e=>new $l(e,{format:f,width:i,height:r,levels:s}))}throw 64&a?new Error("DDSParser does not support uncompressed texture data."):512&a?new Error("DDSParser does not supported YUV uncompressed texture data."):131072&a?new Error("DDSParser does not support single-channel (lumninance) texture data!"):2&a?new Error("DDSParser does not support single-channel (alpha) texture data!"):new Error("DDSParser failed to load a texture file due to an unknown reason!")}(await(await Bn.ADAPTER.fetch(e)).arrayBuffer()).map(r=>xl(new Si(r,u({mipmap:Rn.OFF,alphaMode:Pn.NO_PREMULTIPLIED_ALPHA,resolution:ui(e)},t.data)),n,e));return 1===r.length?r[0]:r},unload(e){Array.isArray(e)?e.forEach(e=>e.destroy(!0)):e.destroy(!0)}};fi.add(Mu);const Du={extension:{type:ci.LoadParser,priority:rl.High},name:"loadKTX",test:e=>Ja(e,".ktx"),async load(e,t,n){const r=await(await Bn.ADAPTER.fetch(e)).arrayBuffer(),{compressed:i,uncompressed:s,kvData:o}=Pu(e,r),a=null!==i&&void 0!==i?i:s,l=u({mipmap:Rn.OFF,alphaMode:Pn.NO_PREMULTIPLIED_ALPHA,resolution:ui(e)},t.data),c=a.map(t=>{var r;a===s&&Object.assign(l,{type:t.type,format:t.format});const i=null!==(r=t.resource)&&void 0!==r?r:t,u=new Si(i,l);return u.ktxKeyValueData=o,xl(u,n,e)});return 1===c.length?c[0]:c},unload(e){Array.isArray(e)?e.forEach(e=>e.destroy(!0)):e.destroy(!0)}};fi.add(Du);const Ou=["s3tc","s3tc_sRGB","etc","etc1","pvrtc","atc","astc","bptc"],Lu={extension:ci.ResolveParser,test:e=>{const t=cr.extname(e).slice(1);return["basis","ktx","dds"].includes(t)},parse:e=>{var t,n;const r=e.split("."),i=r.pop();if(["ktx","dds"].includes(i)){var s,o;const t=r.pop();if(Ou.includes(t))return{resolution:parseFloat(null!==(s=null===(o=Bn.RETINA_PREFIX.exec(e))||void 0===o?void 0:o[1])&&void 0!==s?s:"1"),format:t,src:e}}return{resolution:parseFloat(null!==(t=null===(n=Bn.RETINA_PREFIX.exec(e))||void 0===n?void 0:n[1])&&void 0!==t?t:"1"),format:i,src:e}}};fi.add(Lu);const Nu=new Hi,Fu=class e{constructor(e){this.renderer=e,this._rendererPremultipliedAlpha=!1}contextChange(){var e;const t=null===(e=this.renderer)||void 0===e?void 0:e.gl.getContextAttributes();this._rendererPremultipliedAlpha=!!(t&&t.alpha&&t.premultipliedAlpha)}async image(e,t,n,r){const i=new Image;return i.src=await this.base64(e,t,n,r),i}async base64(e,t,n,r){const i=this.canvas(e,r);if(void 0!==i.toBlob)return new Promise((e,r)=>{i.toBlob(t=>{if(!t)return void r(new Error("ICanvas.toBlob failed!"));const n=new FileReader;n.onload=()=>e(n.result),n.onerror=r,n.readAsDataURL(t)},t,n)});if(void 0!==i.toDataURL)return i.toDataURL(t,n);if(void 0!==i.convertToBlob){const e=await i.convertToBlob({type:t,quality:n});return new Promise((t,n)=>{const r=new FileReader;r.onload=()=>t(r.result),r.onerror=n,r.readAsDataURL(e)})}throw new Error("Extract.base64() requires ICanvas.toDataURL, ICanvas.toBlob, or ICanvas.convertToBlob to be implemented")}canvas(t,n){const{pixels:r,width:i,height:s,flipY:o,premultipliedAlpha:a}=this._rawPixels(t,n);o&&e._flipY(r,i,s),a&&e._unpremultiplyAlpha(r);const l=new si(i,s,1),u=new ImageData(new Uint8ClampedArray(r.buffer),i,s);return l.context.putImageData(u,0,0),l.canvas}pixels(t,n){const{pixels:r,width:i,height:s,flipY:o,premultipliedAlpha:a}=this._rawPixels(t,n);return o&&e._flipY(r,i,s),a&&e._unpremultiplyAlpha(r),r}_rawPixels(e,t){var n;const r=this.renderer;if(!r)throw new Error("The Extract has already been destroyed");let i,s,o=!1,a=!1,l=!1;e&&(e instanceof Ws?s=e:(s=r.generateTexture(e,{region:t,resolution:r.resolution,multisample:r.multisample}),l=!0,t&&(Nu.width=t.width,Nu.height=t.height,t=Nu)));const u=r.gl;if(s){if(i=s.baseTexture.resolution,t=null!==t&&void 0!==t?t:s.frame,o=!1,a=s.baseTexture.alphaMode>0&&s.baseTexture.format===An.RGBA,!l){r.renderTexture.bind(s);const e=s.framebuffer.glFramebuffers[r.CONTEXT_UID];e.blitFramebuffer&&r.framebuffer.bind(e.blitFramebuffer)}}else i=r.resolution,t||((t=Nu).width=r.width/i,t.height=r.height/i),o=!0,a=this._rendererPremultipliedAlpha,r.renderTexture.bind();const c=Math.max(Math.round(t.width*i),1),h=Math.max(Math.round(t.height*i),1),d=new Uint8Array(4*c*h);return u.readPixels(Math.round(t.x*i),Math.round(t.y*i),c,h,u.RGBA,u.UNSIGNED_BYTE,d),l&&null!==(n=s)&&void 0!==n&&n.destroy(!0),{pixels:d,width:c,height:h,flipY:o,premultipliedAlpha:a}}destroy(){this.renderer=null}static _flipY(e,t,n){const r=t<<2,i=n>>1,s=new Uint8Array(r);for(let o=0;o<i;o++){const t=o*r,i=(n-o-1)*r;s.set(e.subarray(t,t+r)),e.copyWithin(t,i,i+r),e.set(s,i)}}static _unpremultiplyAlpha(e){e instanceof Uint8ClampedArray&&(e=new Uint8Array(e.buffer));const t=e.length;for(let n=0;n<t;n+=4){const t=e[n+3];if(0!==t){const r=255.001/t;e[n]=e[n]*r+.5,e[n+1]=e[n+1]*r+.5,e[n+2]=e[n+2]*r+.5}}}};Fu.extension={name:"extract",type:ci.RendererSystem};let Bu=Fu;fi.add(Bu);const Uu={build(e){const t=e.points;let n,r,i,s,o,a;if(e.type===Ui.CIRC){const t=e.shape;n=t.x,r=t.y,o=a=t.radius,i=s=0}else if(e.type===Ui.ELIP){const t=e.shape;n=t.x,r=t.y,o=t.width,a=t.height,i=s=0}else{const t=e.shape,l=t.width/2,u=t.height/2;n=t.x+l,r=t.y+u,o=a=Math.max(0,Math.min(t.radius,Math.min(l,u))),i=l-o,s=u-a}if(!(o>=0&&a>=0&&i>=0&&s>=0))return void(t.length=0);const l=Math.ceil(2.3*Math.sqrt(o+a)),u=8*l+(i?4:0)+(s?4:0);if(t.length=u,0===u)return;if(0===l)return t.length=8,t[0]=t[6]=n+i,t[1]=t[3]=r+s,t[2]=t[4]=n-i,void(t[5]=t[7]=r-s);let c=0,h=4*l+(i?2:0)+2,d=h,f=u;{const e=i+o,a=s,l=n+e,u=n-e,p=r+a;if(t[c++]=l,t[c++]=p,t[--h]=p,t[--h]=u,s){const e=r-a;t[d++]=u,t[d++]=e,t[--f]=e,t[--f]=l}}for(let p=1;p<l;p++){const e=Math.PI/2*(p/l),u=i+Math.cos(e)*o,m=s+Math.sin(e)*a,g=n+u,y=n-u,v=r+m,b=r-m;t[c++]=g,t[c++]=v,t[--h]=v,t[--h]=y,t[d++]=y,t[d++]=b,t[--f]=b,t[--f]=g}{const e=s+a,o=n+i,l=n-i,u=r+e,h=r-e;t[c++]=o,t[c++]=u,t[--f]=h,t[--f]=o,i&&(t[c++]=l,t[c++]=u,t[--f]=h,t[--f]=l)}},triangulate(e,t){const n=e.points,r=t.points,i=t.indices;if(0===n.length)return;let s=r.length/2;const o=s;let a,l;if(e.type!==Ui.RREC){const t=e.shape;a=t.x,l=t.y}else{const t=e.shape;a=t.x+t.width/2,l=t.y+t.height/2}const u=e.matrix;r.push(e.matrix?u.a*a+u.c*l+u.tx:a,e.matrix?u.b*a+u.d*l+u.ty:l),s++,r.push(n[0],n[1]);for(let c=2;c<n.length;c+=2)r.push(n[c],n[c+1]),i.push(s++,o,s);i.push(o+1,o,s)}};function Gu(e){let t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];const n=e.length;if(n<6)return;let r=0;for(let i=0,s=e[n-2],o=e[n-1];i<n;i+=2){const t=e[i],n=e[i+1];r+=(t-s)*(n+o),s=t,o=n}if(!t&&r>0||t&&r<=0){const t=n/2;for(let r=t+t%2;r<n;r+=2){const t=n-r-2,i=n-r-1,s=r,o=r+1;[e[t],e[s]]=[e[s],e[t]],[e[i],e[o]]=[e[o],e[i]]}}}const zu={build(e){e.points=e.shape.points.slice()},triangulate(e,t){let n=e.points;const r=e.holes,i=t.points,s=t.indices;if(n.length>=6){Gu(n,!1);const e=[];for(let i=0;i<r.length;i++){const t=r[i];Gu(t.points,!0),e.push(n.length/2),n=n.concat(t.points)}const t=sr(n,e,2);if(!t)return;const o=i.length/2;for(let n=0;n<t.length;n+=3)s.push(t[n]+o),s.push(t[n+1]+o),s.push(t[n+2]+o);for(let r=0;r<n.length;r++)i.push(n[r])}}},Hu={build(e){const t=e.shape,n=t.x,r=t.y,i=t.width,s=t.height,o=e.points;o.length=0,i>=0&&s>=0&&o.push(n,r,n+i,r,n+i,r+s,n,r+s)},triangulate(e,t){const n=e.points,r=t.points;if(0===n.length)return;const i=r.length/2;r.push(n[0],n[1],n[2],n[3],n[6],n[7],n[4],n[5]),t.indices.push(i,i+1,i+2,i+1,i+2,i+3)}},ju={build(e){Uu.build(e)},triangulate(e,t){Uu.triangulate(e,t)}};var Wu=(e=>(e.MITER="miter",e.BEVEL="bevel",e.ROUND="round",e))(Wu||{}),Vu=(e=>(e.BUTT="butt",e.ROUND="round",e.SQUARE="square",e))(Vu||{});const Xu={adaptive:!0,maxLength:10,minSegments:8,maxSegments:2048,epsilon:1e-4,_segmentsCount(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:20;if(!this.adaptive||!e||isNaN(e))return t;let n=Math.ceil(e/this.maxLength);return n<this.minSegments?n=this.minSegments:n>this.maxSegments&&(n=this.maxSegments),n}};class Yu{static curveTo(e,t,n,r,i,s){const o=s[s.length-2],a=s[s.length-1]-t,l=o-e,u=r-t,c=n-e,h=Math.abs(a*c-l*u);if(h<1e-8||0===i)return(s[s.length-2]!==e||s[s.length-1]!==t)&&s.push(e,t),null;const d=a*a+l*l,f=u*u+c*c,p=a*u+l*c,m=i*Math.sqrt(d)/h,g=i*Math.sqrt(f)/h,y=m*p/d,v=g*p/f,b=m*c+g*l,_=m*u+g*a,x=l*(g+y),w=a*(g+y),A=c*(m+v),E=u*(m+v);return{cx:b+e,cy:_+t,radius:i,startAngle:Math.atan2(w-_,x-b),endAngle:Math.atan2(E-_,A-b),anticlockwise:l*u>c*a}}static arc(e,t,n,r,i,s,o,a,l){const u=o-s,c=Xu._segmentsCount(Math.abs(u)*i,40*Math.ceil(Math.abs(u)/Ni)),h=u/(2*c),d=2*h,f=Math.cos(h),p=Math.sin(h),m=c-1,g=m%1/m;for(let y=0;y<=m;++y){const e=h+s+d*(y+g*y),t=Math.cos(e),o=-Math.sin(e);l.push((f*t+p*o)*i+n,(f*-o+p*t)*i+r)}}}class qu{static curveLength(e,t,n,r,i,s,o,a){let l=0,u=0,c=0,h=0,d=0,f=0,p=0,m=0,g=0,y=0,v=0,b=e,_=t;for(let x=1;x<=10;++x)u=x/10,c=u*u,h=c*u,d=1-u,f=d*d,p=f*d,m=p*e+3*f*u*n+3*d*c*i+h*o,g=p*t+3*f*u*r+3*d*c*s+h*a,y=b-m,v=_-g,b=m,_=g,l+=Math.sqrt(y*y+v*v);return l}static curveTo(e,t,n,r,i,s,o){const a=o[o.length-2],l=o[o.length-1];o.length-=2;const u=Xu._segmentsCount(qu.curveLength(a,l,e,t,n,r,i,s));let c=0,h=0,d=0,f=0,p=0;o.push(a,l);for(let m=1,g=0;m<=u;++m)g=m/u,c=1-g,h=c*c,d=h*c,f=g*g,p=f*g,o.push(d*a+3*h*g*e+3*c*f*n+p*i,d*l+3*h*g*t+3*c*f*r+p*s)}}function Ku(e,t,n,r,i,s,o,a){let l,u;o?(l=r,u=-n):(l=-r,u=n);const c=e-n*i+l,h=t-r*i+u,d=e+n*s+l,f=t+r*s+u;return a.push(c,h,d,f),2}function Qu(e,t,n,r,i,s,o,a){const l=n-e,u=r-t;let c=Math.atan2(l,u),h=Math.atan2(i-e,s-t);a&&c<h?c+=2*Math.PI:!a&&c>h&&(h+=2*Math.PI);let d=c;const f=h-c,p=Math.abs(f),m=Math.sqrt(l*l+u*u),g=1+(15*p*Math.sqrt(m)/Math.PI|0),y=f/g;if(d+=y,a){o.push(e,t,n,r);for(let n=1,r=d;n<g;n++,r+=y)o.push(e,t,e+Math.sin(r)*m,t+Math.cos(r)*m);o.push(e,t,i,s)}else{o.push(n,r,e,t);for(let n=1,r=d;n<g;n++,r+=y)o.push(e+Math.sin(r)*m,t+Math.cos(r)*m,e,t);o.push(i,s,e,t)}return 2*g}function Zu(e,t){e.lineStyle.native?function(e,t){let n=0;const r=e.shape,i=e.points||r.points,s=r.type!==Ui.POLY||r.closeStroke;if(0===i.length)return;const o=t.points,a=t.indices,l=i.length/2,u=o.length/2;let c=u;for(o.push(i[0],i[1]),n=1;n<l;n++)o.push(i[2*n],i[2*n+1]),a.push(c,c+1),c++;s&&a.push(c,u)}(e,t):function(e,t){const n=e.shape;let r=e.points||n.points.slice();const i=t.closePointEps;if(0===r.length)return;const s=e.lineStyle,o=new Gi(r[0],r[1]),a=new Gi(r[r.length-2],r[r.length-1]),l=n.type!==Ui.POLY||n.closeStroke,u=Math.abs(o.x-a.x)<i&&Math.abs(o.y-a.y)<i;if(l){r=r.slice(),u&&(r.pop(),r.pop(),a.set(r[r.length-2],r[r.length-1]));const e=.5*(o.x+a.x),t=.5*(a.y+o.y);r.unshift(e,t),r.push(e,t)}const c=t.points,h=r.length/2;let d=r.length;const f=c.length/2,p=s.width/2,m=p*p,g=s.miterLimit*s.miterLimit;let y=r[0],v=r[1],b=r[2],_=r[3],x=0,w=0,A=-(v-_),E=y-b,S=0,T=0,C=Math.sqrt(A*A+E*E);A/=C,E/=C,A*=p,E*=p;const k=s.alignment,R=2*(1-k),P=2*k;l||(s.cap===Vu.ROUND?d+=Qu(y-A*(R-P)*.5,v-E*(R-P)*.5,y-A*R,v-E*R,y+A*P,v+E*P,c,!0)+2:s.cap===Vu.SQUARE&&(d+=Ku(y,v,A,E,R,P,!0,c))),c.push(y-A*R,v-E*R,y+A*P,v+E*P);for(let D=1;D<h-1;++D){y=r[2*(D-1)],v=r[2*(D-1)+1],b=r[2*D],_=r[2*D+1],x=r[2*(D+1)],w=r[2*(D+1)+1],A=-(v-_),E=y-b,C=Math.sqrt(A*A+E*E),A/=C,E/=C,A*=p,E*=p,S=-(_-w),T=b-x,C=Math.sqrt(S*S+T*T),S/=C,T/=C,S*=p,T*=p;const e=b-y,t=v-_,n=b-x,i=w-_,o=e*n+t*i,a=t*n-i*e,l=a<0;if(Math.abs(a)<.001*Math.abs(o)){c.push(b-A*R,_-E*R,b+A*P,_+E*P),o>=0&&(s.join===Wu.ROUND?d+=Qu(b,_,b-A*R,_-E*R,b-S*R,_-T*R,c,!1)+4:d+=2,c.push(b-S*P,_-T*P,b+S*R,_+T*R));continue}const u=(-A+y)*(-E+_)-(-A+b)*(-E+v),h=(-S+x)*(-T+_)-(-S+b)*(-T+w),f=(e*h-n*u)/a,k=(i*u-t*h)/a,I=(f-b)*(f-b)+(k-_)*(k-_),M=b+(f-b)*R,O=_+(k-_)*R,L=b-(f-b)*P,N=_-(k-_)*P,F=l?R:P,B=I<=Math.min(e*e+t*t,n*n+i*i)+F*F*m;let U=s.join;if(U===Wu.MITER&&I/m>g&&(U=Wu.BEVEL),B)switch(U){case Wu.MITER:c.push(M,O,L,N);break;case Wu.BEVEL:l?c.push(M,O,b+A*P,_+E*P,M,O,b+S*P,_+T*P):c.push(b-A*R,_-E*R,L,N,b-S*R,_-T*R,L,N),d+=2;break;case Wu.ROUND:l?(c.push(M,O,b+A*P,_+E*P),d+=Qu(b,_,b+A*P,_+E*P,b+S*P,_+T*P,c,!0)+4,c.push(M,O,b+S*P,_+T*P)):(c.push(b-A*R,_-E*R,L,N),d+=Qu(b,_,b-A*R,_-E*R,b-S*R,_-T*R,c,!1)+4,c.push(b-S*R,_-T*R,L,N))}else{switch(c.push(b-A*R,_-E*R,b+A*P,_+E*P),U){case Wu.MITER:l?c.push(L,N,L,N):c.push(M,O,M,O),d+=2;break;case Wu.ROUND:d+=l?Qu(b,_,b+A*P,_+E*P,b+S*P,_+T*P,c,!0)+2:Qu(b,_,b-A*R,_-E*R,b-S*R,_-T*R,c,!1)+2}c.push(b-S*R,_-T*R,b+S*P,_+T*P),d+=2}}y=r[2*(h-2)],v=r[2*(h-2)+1],b=r[2*(h-1)],_=r[2*(h-1)+1],A=-(v-_),E=y-b,C=Math.sqrt(A*A+E*E),A/=C,E/=C,A*=p,E*=p,c.push(b-A*R,_-E*R,b+A*P,_+E*P),l||(s.cap===Vu.ROUND?d+=Qu(b-A*(R-P)*.5,_-E*(R-P)*.5,b-A*R,_-E*R,b+A*P,_+E*P,c,!1)+2:s.cap===Vu.SQUARE&&(d+=Ku(b,_,A,E,R,P,!1,c)));const I=t.indices,M=Xu.epsilon*Xu.epsilon;for(let D=f;D<d+f-2;++D)y=c[2*D],v=c[2*D+1],b=c[2*(D+1)],_=c[2*(D+1)+1],x=c[2*(D+2)],w=c[2*(D+2)+1],!(Math.abs(y*(_-w)+b*(w-v)+x*(v-_))<M)&&I.push(D,D+1,D+2)}(e,t)}class Ju{static curveLength(e,t,n,r,i,s){const o=e-2*n+i,a=t-2*r+s,l=2*n-2*e,u=2*r-2*t,c=4*(o*o+a*a),h=4*(o*l+a*u),d=l*l+u*u,f=2*Math.sqrt(c+h+d),p=Math.sqrt(c),m=2*c*p,g=2*Math.sqrt(d),y=h/p;return(m*f+p*h*(f-g)+(4*d*c-h*h)*Math.log((2*p+y+f)/(y+g)))/(4*m)}static curveTo(e,t,n,r,i){const s=i[i.length-2],o=i[i.length-1],a=Xu._segmentsCount(Ju.curveLength(s,o,e,t,n,r));let l=0,u=0;for(let c=1;c<=a;++c){const h=c/a;l=s+(e-s)*h,u=o+(t-o)*h,i.push(l+(e+(n-e)*h-l)*h,u+(t+(r-t)*h-u)*h)}}}const $u={[Ui.POLY]:zu,[Ui.CIRC]:Uu,[Ui.ELIP]:Uu,[Ui.RECT]:Hu,[Ui.RREC]:ju},ec=[],tc=[];class nc{constructor(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null,r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:null;this.points=[],this.holes=[],this.shape=e,this.lineStyle=n,this.fillStyle=t,this.matrix=r,this.type=e.type}clone(){return new nc(this.shape,this.fillStyle,this.lineStyle,this.matrix)}destroy(){this.shape=null,this.holes.length=0,this.holes=null,this.points.length=0,this.points=null,this.lineStyle=null,this.fillStyle=null}}class rc{constructor(){this.reset()}begin(e,t,n){this.reset(),this.style=e,this.start=t,this.attribStart=n}end(e,t){this.attribSize=t-this.attribStart,this.size=e-this.start}reset(){this.style=null,this.size=0,this.start=0,this.attribStart=0,this.attribSize=0}}const ic=new Gi,sc=class e extends Li{constructor(){super(),this.closePointEps=1e-4,this.boundsPadding=0,this.uvsFloat32=null,this.indicesUint16=null,this.batchable=!1,this.points=[],this.colors=[],this.uvs=[],this.indices=[],this.textureIds=[],this.graphicsData=[],this.drawCalls=[],this.batchDirty=-1,this.batches=[],this.dirty=0,this.cacheDirty=-1,this.clearDirty=0,this.shapeIndex=0,this._bounds=new ma,this.boundsDirty=-1}get bounds(){return this.updateBatches(),this.boundsDirty!==this.dirty&&(this.boundsDirty=this.dirty,this.calculateBounds()),this._bounds}invalidate(){this.boundsDirty=-1,this.dirty++,this.batchDirty++,this.shapeIndex=0,this.points.length=0,this.colors.length=0,this.uvs.length=0,this.indices.length=0,this.textureIds.length=0;for(let e=0;e<this.drawCalls.length;e++)this.drawCalls[e].texArray.clear(),tc.push(this.drawCalls[e]);this.drawCalls.length=0;for(let e=0;e<this.batches.length;e++){const t=this.batches[e];t.reset(),ec.push(t)}this.batches.length=0}clear(){return this.graphicsData.length>0&&(this.invalidate(),this.clearDirty++,this.graphicsData.length=0),this}drawShape(e){const t=new nc(e,arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,arguments.length>2&&void 0!==arguments[2]?arguments[2]:null,arguments.length>3&&void 0!==arguments[3]?arguments[3]:null);return this.graphicsData.push(t),this.dirty++,this}drawHole(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;if(!this.graphicsData.length)return null;const n=new nc(e,null,null,t),r=this.graphicsData[this.graphicsData.length-1];return n.lineStyle=r.lineStyle,r.holes.push(n),this.dirty++,this}destroy(){super.destroy();for(let e=0;e<this.graphicsData.length;++e)this.graphicsData[e].destroy();this.points.length=0,this.points=null,this.colors.length=0,this.colors=null,this.uvs.length=0,this.uvs=null,this.indices.length=0,this.indices=null,this.indexBuffer.destroy(),this.indexBuffer=null,this.graphicsData.length=0,this.graphicsData=null,this.drawCalls.length=0,this.drawCalls=null,this.batches.length=0,this.batches=null,this._bounds=null}containsPoint(e){const t=this.graphicsData;for(let n=0;n<t.length;++n){const r=t[n];if(r.fillStyle.visible&&r.shape&&(r.matrix?r.matrix.applyInverse(e,ic):ic.copyFrom(e),r.shape.contains(ic.x,ic.y))){let e=!1;if(r.holes)for(let t=0;t<r.holes.length;t++)if(r.holes[t].shape.contains(ic.x,ic.y)){e=!0;break}if(!e)return!0}}return!1}updateBatches(){if(!this.graphicsData.length)return void(this.batchable=!0);if(!this.validateBatching())return;this.cacheDirty=this.dirty;const e=this.uvs,t=this.graphicsData;let n=null,r=null;this.batches.length>0&&(n=this.batches[this.batches.length-1],r=n.style);for(let a=this.shapeIndex;a<t.length;a++){this.shapeIndex++;const i=t[a],s=i.fillStyle,o=i.lineStyle;$u[i.type].build(i),i.matrix&&this.transformPoints(i.points,i.matrix),(s.visible||o.visible)&&this.processHoles(i.holes);for(let t=0;t<2;t++){const a=0===t?s:o;if(!a.visible)continue;const l=a.texture.baseTexture,u=this.indices.length,c=this.points.length/2;l.wrapMode=kn.REPEAT,0===t?this.processFill(i):this.processLine(i);const h=this.points.length/2-c;0!==h&&(n&&!this._compareStyles(r,a)&&(n.end(u,c),n=null),n||(n=ec.pop()||new rc,n.begin(a,u,c),this.batches.push(n),r=a),this.addUvs(this.points,e,a.texture,c,h,a.matrix))}}const i=this.indices.length,s=this.points.length/2;if(n&&n.end(i,s),0===this.batches.length)return void(this.batchable=!0);const o=s>65535;this.indicesUint16&&this.indices.length===this.indicesUint16.length&&o===this.indicesUint16.BYTES_PER_ELEMENT>2?this.indicesUint16.set(this.indices):this.indicesUint16=o?new Uint32Array(this.indices):new Uint16Array(this.indices),this.batchable=this.isBatchable(),this.batchable?this.packBatches():this.buildDrawCalls()}_compareStyles(e,t){return!(!e||!t||e.texture.baseTexture!==t.texture.baseTexture||e.color+e.alpha!==t.color+t.alpha||!!e.native!=!!t.native)}validateBatching(){if(this.dirty===this.cacheDirty||!this.graphicsData.length)return!1;for(let e=0,t=this.graphicsData.length;e<t;e++){const t=this.graphicsData[e],n=t.fillStyle,r=t.lineStyle;if(n&&!n.texture.baseTexture.valid||r&&!r.texture.baseTexture.valid)return!1}return!0}packBatches(){this.batchDirty++,this.uvsFloat32=new Float32Array(this.uvs);const e=this.batches;for(let t=0,n=e.length;t<n;t++){const n=e[t];for(let e=0;e<n.size;e++){const t=n.start+e;this.indicesUint16[t]=this.indicesUint16[t]-n.attribStart}}}isBatchable(){if(this.points.length>131070)return!1;const t=this.batches;for(let e=0;e<t.length;e++)if(t[e].style.native)return!1;return this.points.length<2*e.BATCHABLE_SIZE}buildDrawCalls(){let e=++Si._globalBatch;for(let c=0;c<this.drawCalls.length;c++)this.drawCalls[c].texArray.clear(),tc.push(this.drawCalls[c]);this.drawCalls.length=0;const t=this.colors,n=this.textureIds;let r=tc.pop();r||(r=new Ti,r.texArray=new Ts),r.texArray.count=0,r.start=0,r.size=0,r.type=wn.TRIANGLES;let i=0,s=null,o=0,a=!1,l=wn.TRIANGLES,u=0;this.drawCalls.push(r);for(let c=0;c<this.batches.length;c++){const h=this.batches[c],d=8,f=h.style,p=f.texture.baseTexture;a!==!!f.native&&(a=!!f.native,l=a?wn.LINES:wn.TRIANGLES,s=null,i=d,e++),s!==p&&(s=p,p._batchEnabled!==e&&(i===d&&(e++,i=0,r.size>0&&(r=tc.pop(),r||(r=new Ti,r.texArray=new Ts),this.drawCalls.push(r)),r.start=u,r.size=0,r.texArray.count=0,r.type=l),p.touched=1,p._batchEnabled=e,p._batchLocation=i,p.wrapMode=kn.REPEAT,r.texArray.elements[r.texArray.count++]=p,i++)),r.size+=h.size,u+=h.size,o=p._batchLocation,this.addColors(t,f.color,f.alpha,h.attribSize,h.attribStart),this.addTextureIds(n,o,h.attribSize,h.attribStart)}Si._globalBatch=e,this.packAttributes()}packAttributes(){const e=this.points,t=this.uvs,n=this.colors,r=this.textureIds,i=new ArrayBuffer(3*e.length*4),s=new Float32Array(i),o=new Uint32Array(i);let a=0;for(let l=0;l<e.length/2;l++)s[a++]=e[2*l],s[a++]=e[2*l+1],s[a++]=t[2*l],s[a++]=t[2*l+1],o[a++]=n[l],s[a++]=r[l];this._buffer.update(i),this._indexBuffer.update(this.indicesUint16)}processFill(e){e.holes.length?zu.triangulate(e,this):$u[e.type].triangulate(e,this)}processLine(e){Zu(e,this);for(let t=0;t<e.holes.length;t++)Zu(e.holes[t],this)}processHoles(e){for(let t=0;t<e.length;t++){const n=e[t];$u[n.type].build(n),n.matrix&&this.transformPoints(n.points,n.matrix)}}calculateBounds(){const e=this._bounds;e.clear(),e.addVertexData(this.points,0,this.points.length),e.pad(this.boundsPadding,this.boundsPadding)}transformPoints(e,t){for(let n=0;n<e.length/2;n++){const r=e[2*n],i=e[2*n+1];e[2*n]=t.a*r+t.c*i+t.tx,e[2*n+1]=t.b*r+t.d*i+t.ty}}addColors(e,t,n,r){let i=arguments.length>4&&void 0!==arguments[4]?arguments[4]:0;const s=jr.shared.setValue(t).toLittleEndianNumber(),o=jr.shared.setValue(s).toPremultiplied(n);e.length=Math.max(e.length,i+r);for(let a=0;a<r;a++)e[i+a]=o}addTextureIds(e,t,n){let r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:0;e.length=Math.max(e.length,r+n);for(let i=0;i<n;i++)e[r+i]=t}addUvs(e,t,n,r,i){let s=arguments.length>5&&void 0!==arguments[5]?arguments[5]:null,o=0;const a=t.length,l=n.frame;for(;o<i;){let n=e[2*(r+o)],i=e[2*(r+o)+1];if(s){const e=s.a*n+s.c*i+s.tx;i=s.b*n+s.d*i+s.ty,n=e}o++,t.push(n/l.width,i/l.height)}const u=n.baseTexture;(l.width<u.width||l.height<u.height)&&this.adjustUvs(t,n,a,i)}adjustUvs(e,t,n,r){const i=t.baseTexture,s=1e-6,o=n+2*r,a=t.frame,l=a.width/i.width,u=a.height/i.height;let c=a.x/a.width,h=a.y/a.height,d=Math.floor(e[n]+s),f=Math.floor(e[n+1]+s);for(let p=n+2;p<o;p+=2)d=Math.min(d,Math.floor(e[p]+s)),f=Math.min(f,Math.floor(e[p+1]+s));c-=d,h-=f;for(let p=n;p<o;p+=2)e[p]=(e[p]+c)*l,e[p+1]=(e[p+1]+h)*u}};sc.BATCHABLE_SIZE=100;let oc=sc;class ac{constructor(){this.color=16777215,this.alpha=1,this.texture=js.WHITE,this.matrix=null,this.visible=!1,this.reset()}clone(){const e=new ac;return e.color=this.color,e.alpha=this.alpha,e.texture=this.texture,e.matrix=this.matrix,e.visible=this.visible,e}reset(){this.color=16777215,this.alpha=1,this.texture=js.WHITE,this.matrix=null,this.visible=!1}destroy(){this.texture=null,this.matrix=null}}class lc extends ac{constructor(){super(...arguments),this.width=0,this.alignment=.5,this.native=!1,this.cap=Vu.BUTT,this.join=Wu.MITER,this.miterLimit=10}clone(){const e=new lc;return e.color=this.color,e.alpha=this.alpha,e.texture=this.texture,e.matrix=this.matrix,e.visible=this.visible,e.width=this.width,e.alignment=this.alignment,e.native=this.native,e.cap=this.cap,e.join=this.join,e.miterLimit=this.miterLimit,e}reset(){super.reset(),this.color=0,this.alignment=.5,this.width=0,this.native=!1,this.cap=Vu.BUTT,this.join=Wu.MITER,this.miterLimit=10}}const uc={},cc=class e extends xa{constructor(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null;super(),this.shader=null,this.pluginName="batch",this.currentPath=null,this.batches=[],this.batchTint=-1,this.batchDirty=-1,this.vertexData=null,this._fillStyle=new ac,this._lineStyle=new lc,this._matrix=null,this._holeMode=!1,this.state=yi.for2d(),this._geometry=e||new oc,this._geometry.refCount++,this._transformID=-1,this._tintColor=new jr(16777215),this.blendMode=xn.NORMAL}get geometry(){return this._geometry}clone(){return this.finishPoly(),new e(this._geometry)}set blendMode(e){this.state.blendMode=e}get blendMode(){return this.state.blendMode}get tint(){return this._tintColor.value}set tint(e){this._tintColor.setValue(e)}get fill(){return this._fillStyle}get line(){return this._lineStyle}lineStyle(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null;return"number"==typeof e&&(e={width:e,color:arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,alpha:arguments.length>2?arguments[2]:void 0,alignment:arguments.length>3&&void 0!==arguments[3]?arguments[3]:.5,native:arguments.length>4&&void 0!==arguments[4]&&arguments[4]}),this.lineTextureStyle(e)}lineTextureStyle(e){var t;const n={width:0,texture:js.WHITE,color:null!==(t=e)&&void 0!==t&&t.texture?16777215:0,matrix:null,alignment:.5,native:!1,cap:Vu.BUTT,join:Wu.MITER,miterLimit:10};e=Object.assign(n,e),this.normalizeColor(e),this.currentPath&&this.startPoly();const r=e.width>0&&e.alpha>0;return r?(e.matrix&&(e.matrix=e.matrix.clone(),e.matrix.invert()),Object.assign(this._lineStyle,{visible:r},e)):this._lineStyle.reset(),this}startPoly(){if(this.currentPath){const e=this.currentPath.points,t=this.currentPath.points.length;t>2&&(this.drawShape(this.currentPath),this.currentPath=new Vi,this.currentPath.closeStroke=!1,this.currentPath.points.push(e[t-2],e[t-1]))}else this.currentPath=new Vi,this.currentPath.closeStroke=!1}finishPoly(){this.currentPath&&(this.currentPath.points.length>2?(this.drawShape(this.currentPath),this.currentPath=null):this.currentPath.points.length=0)}moveTo(e,t){return this.startPoly(),this.currentPath.points[0]=e,this.currentPath.points[1]=t,this}lineTo(e,t){this.currentPath||this.moveTo(0,0);const n=this.currentPath.points,r=n[n.length-2],i=n[n.length-1];return(r!==e||i!==t)&&n.push(e,t),this}_initCurve(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;this.currentPath?0===this.currentPath.points.length&&(this.currentPath.points=[e,t]):this.moveTo(e,t)}quadraticCurveTo(e,t,n,r){this._initCurve();const i=this.currentPath.points;return 0===i.length&&this.moveTo(0,0),Ju.curveTo(e,t,n,r,i),this}bezierCurveTo(e,t,n,r,i,s){return this._initCurve(),qu.curveTo(e,t,n,r,i,s,this.currentPath.points),this}arcTo(e,t,n,r,i){this._initCurve(e,t);const s=this.currentPath.points,o=Yu.curveTo(e,t,n,r,i,s);if(o){const{cx:e,cy:t,radius:n,startAngle:r,endAngle:i,anticlockwise:s}=o;this.arc(e,t,n,r,i,s)}return this}arc(e,t,n,r,i){let s=arguments.length>5&&void 0!==arguments[5]&&arguments[5];if(r===i)return this;if(!s&&i<=r?i+=Ni:s&&r<=i&&(r+=Ni),i-r===0)return this;const o=e+Math.cos(r)*n,a=t+Math.sin(r)*n,l=this._geometry.closePointEps;let u=this.currentPath?this.currentPath.points:null;if(u){const e=Math.abs(u[u.length-2]-o),t=Math.abs(u[u.length-1]-a);e<l&&t<l||u.push(o,a)}else this.moveTo(o,a),u=this.currentPath.points;return Yu.arc(o,a,e,t,n,r,i,s,u),this}beginFill(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0,t=arguments.length>1?arguments[1]:void 0;return this.beginTextureFill({texture:js.WHITE,color:e,alpha:t})}normalizeColor(e){var t,n;const r=jr.shared.setValue(null!==(t=e.color)&&void 0!==t?t:0);e.color=r.toNumber(),null!==(n=e.alpha)&&void 0!==n||(e.alpha=r.alpha)}beginTextureFill(e){const t={texture:js.WHITE,color:16777215,matrix:null};e=Object.assign(t,e),this.normalizeColor(e),this.currentPath&&this.startPoly();const n=e.alpha>0;return n?(e.matrix&&(e.matrix=e.matrix.clone(),e.matrix.invert()),Object.assign(this._fillStyle,{visible:n},e)):this._fillStyle.reset(),this}endFill(){return this.finishPoly(),this._fillStyle.reset(),this}drawRect(e,t,n,r){return this.drawShape(new Hi(e,t,n,r))}drawRoundedRect(e,t,n,r,i){return this.drawShape(new Xi(e,t,n,r,i))}drawCircle(e,t,n){return this.drawShape(new ji(e,t,n))}drawEllipse(e,t,n,r){return this.drawShape(new Wi(e,t,n,r))}drawPolygon(){let e,t=!0;for(var n=arguments.length,r=new Array(n),i=0;i<n;i++)r[i]=arguments[i];const s=r[0];s.points?(t=s.closeStroke,e=s.points):e=Array.isArray(r[0])?r[0]:r;const o=new Vi(e);return o.closeStroke=t,this.drawShape(o),this}drawShape(e){return this._holeMode?this._geometry.drawHole(e,this._matrix):this._geometry.drawShape(e,this._fillStyle.clone(),this._lineStyle.clone(),this._matrix),this}clear(){return this._geometry.clear(),this._lineStyle.reset(),this._fillStyle.reset(),this._boundsID++,this._matrix=null,this._holeMode=!1,this.currentPath=null,this}isFastRect(){const e=this._geometry.graphicsData;return 1===e.length&&e[0].shape.type===Ui.RECT&&!e[0].matrix&&!e[0].holes.length&&!(e[0].lineStyle.visible&&e[0].lineStyle.width)}_render(e){this.finishPoly();const t=this._geometry;t.updateBatches(),t.batchable?(this.batchDirty!==t.batchDirty&&this._populateBatches(),this._renderBatched(e)):(e.batch.flush(),this._renderDirect(e))}_populateBatches(){const e=this._geometry,t=this.blendMode,n=e.batches.length;this.batchTint=-1,this._transformID=-1,this.batchDirty=e.batchDirty,this.batches.length=n,this.vertexData=new Float32Array(e.points);for(let r=0;r<n;r++){const n=e.batches[r],i=n.style.color,s=new Float32Array(this.vertexData.buffer,4*n.attribStart*2,2*n.attribSize),o=new Float32Array(e.uvsFloat32.buffer,4*n.attribStart*2,2*n.attribSize),a={vertexData:s,blendMode:t,indices:new Uint16Array(e.indicesUint16.buffer,2*n.start,n.size),uvs:o,_batchRGB:jr.shared.setValue(i).toRgbArray(),_tintRGB:i,_texture:n.style.texture,alpha:n.style.alpha,worldAlpha:1};this.batches[r]=a}}_renderBatched(e){if(this.batches.length){e.batch.setObjectRenderer(e.plugins[this.pluginName]),this.calculateVertices(),this.calculateTints();for(let t=0,n=this.batches.length;t<n;t++){const n=this.batches[t];n.worldAlpha=this.worldAlpha*n.alpha,e.plugins[this.pluginName].render(n)}}}_renderDirect(e){const t=this._resolveDirectShader(e),n=this._geometry,r=this.worldAlpha,i=t.uniforms,s=n.drawCalls;i.translationMatrix=this.transform.worldTransform,jr.shared.setValue(this._tintColor).premultiply(r).toArray(i.tint),e.shader.bind(t),e.geometry.bind(n,t),e.state.set(this.state);for(let o=0,a=s.length;o<a;o++)this._renderDrawCallDirect(e,n.drawCalls[o])}_renderDrawCallDirect(e,t){const{texArray:n,type:r,size:i,start:s}=t,o=n.count;for(let a=0;a<o;a++)e.texture.bind(n.elements[a],a);e.geometry.draw(r,i,s)}_resolveDirectShader(e){let t=this.shader;const n=this.pluginName;if(!t){if(!uc[n]){const{maxTextures:t}=e.plugins[n],r=new Int32Array(t);for(let e=0;e<t;e++)r[e]=e;const i={tint:new Float32Array([1,1,1,1]),translationMatrix:new Yi,default:As.from({uSamplers:r},!0)},s=e.plugins[n]._shader.program;uc[n]=new Es(s,i)}t=uc[n]}return t}_calculateBounds(){this.finishPoly();const e=this._geometry;if(!e.graphicsData.length)return;const{minX:t,minY:n,maxX:r,maxY:i}=e.bounds;this._bounds.addFrame(this.transform,t,n,r,i)}containsPoint(t){return this.worldTransform.applyInverse(t,e._TEMP_POINT),this._geometry.containsPoint(e._TEMP_POINT)}calculateTints(){if(this.batchTint!==this.tint){this.batchTint=this._tintColor.toNumber();for(let e=0;e<this.batches.length;e++){const t=this.batches[e];t._tintRGB=jr.shared.setValue(this._tintColor).multiply(t._batchRGB).toLittleEndianNumber()}}}calculateVertices(){const e=this.transform._worldID;if(this._transformID===e)return;this._transformID=e;const t=this.transform.worldTransform,n=t.a,r=t.b,i=t.c,s=t.d,o=t.tx,a=t.ty,l=this._geometry.points,u=this.vertexData;let c=0;for(let h=0;h<l.length;h+=2){const e=l[h],t=l[h+1];u[c++]=n*e+i*t+o,u[c++]=s*t+r*e+a}}closePath(){const e=this.currentPath;return e&&(e.closeStroke=!0,this.finishPoly()),this}setMatrix(e){return this._matrix=e,this}beginHole(){return this.finishPoly(),this._holeMode=!0,this}endHole(){return this.finishPoly(),this._holeMode=!1,this}destroy(e){this._geometry.refCount--,0===this._geometry.refCount&&this._geometry.dispose(),this._matrix=null,this.currentPath=null,this._lineStyle.destroy(),this._lineStyle=null,this._fillStyle.destroy(),this._fillStyle=null,this._geometry=null,this.shader=null,this.vertexData=null,this.batches.length=0,this.batches=null,super.destroy(e)}};cc.curves=Xu,cc._TEMP_POINT=new Gi;let hc=cc;class dc{constructor(e,t){this.uvBuffer=e,this.uvMatrix=t,this.data=null,this._bufferUpdateId=-1,this._textureUpdateId=-1,this._updateID=0}update(e){if(!e&&this._bufferUpdateId===this.uvBuffer._updateID&&this._textureUpdateId===this.uvMatrix._updateID)return;this._bufferUpdateId=this.uvBuffer._updateID,this._textureUpdateId=this.uvMatrix._updateID;const t=this.uvBuffer.data;(!this.data||this.data.length!==t.length)&&(this.data=new Float32Array(t.length)),this.uvMatrix.multiplyUvs(t,this.data),this._updateID++}}const fc=new Gi,pc=new Vi,mc=class e extends xa{constructor(e,t,n){let r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:wn.TRIANGLES;super(),this.geometry=e,this.shader=t,this.state=n||yi.for2d(),this.drawMode=r,this.start=0,this.size=0,this.uvs=null,this.indices=null,this.vertexData=new Float32Array(1),this.vertexDirty=-1,this._transformID=-1,this._roundPixels=Bn.ROUND_PIXELS,this.batchUvs=null}get geometry(){return this._geometry}set geometry(e){this._geometry!==e&&(this._geometry&&(this._geometry.refCount--,0===this._geometry.refCount&&this._geometry.dispose()),this._geometry=e,this._geometry&&this._geometry.refCount++,this.vertexDirty=-1)}get uvBuffer(){return this.geometry.buffers[1]}get verticesBuffer(){return this.geometry.buffers[0]}set material(e){this.shader=e}get material(){return this.shader}set blendMode(e){this.state.blendMode=e}get blendMode(){return this.state.blendMode}set roundPixels(e){this._roundPixels!==e&&(this._transformID=-1),this._roundPixels=e}get roundPixels(){return this._roundPixels}get tint(){return"tint"in this.shader?this.shader.tint:null}set tint(e){this.shader.tint=e}get tintValue(){return this.shader.tintValue}get texture(){return"texture"in this.shader?this.shader.texture:null}set texture(e){this.shader.texture=e}_render(t){const n=this.geometry.buffers[0].data;this.shader.batchable&&this.drawMode===wn.TRIANGLES&&n.length<2*e.BATCHABLE_SIZE?this._renderToBatch(t):this._renderDefault(t)}_renderDefault(e){const t=this.shader;t.alpha=this.worldAlpha,t.update&&t.update(),e.batch.flush(),t.uniforms.translationMatrix=this.transform.worldTransform.toArray(!0),e.shader.bind(t),e.state.set(this.state),e.geometry.bind(this.geometry,t),e.geometry.draw(this.drawMode,this.size,this.start,this.geometry.instanceCount)}_renderToBatch(e){const t=this.geometry,n=this.shader;n.uvMatrix&&(n.uvMatrix.update(),this.calculateUvs()),this.calculateVertices(),this.indices=t.indexBuffer.data,this._tintRGB=n._tintRGB,this._texture=n.texture;const r=this.material.pluginName;e.batch.setObjectRenderer(e.plugins[r]),e.plugins[r].render(this)}calculateVertices(){const e=this.geometry.buffers[0],t=e.data,n=e._updateID;if(n===this.vertexDirty&&this._transformID===this.transform._worldID)return;this._transformID=this.transform._worldID,this.vertexData.length!==t.length&&(this.vertexData=new Float32Array(t.length));const r=this.transform.worldTransform,i=r.a,s=r.b,o=r.c,a=r.d,l=r.tx,u=r.ty,c=this.vertexData;for(let h=0;h<c.length/2;h++){const e=t[2*h],n=t[2*h+1];c[2*h]=i*e+o*n+l,c[2*h+1]=s*e+a*n+u}if(this._roundPixels){const e=Bn.RESOLUTION;for(let t=0;t<c.length;++t)c[t]=Math.round(c[t]*e)/e}this.vertexDirty=n}calculateUvs(){const e=this.geometry.buffers[1],t=this.shader;t.uvMatrix.isSimple?this.uvs=e.data:(this.batchUvs||(this.batchUvs=new dc(e,t.uvMatrix)),this.batchUvs.update(),this.uvs=this.batchUvs.data)}_calculateBounds(){this.calculateVertices(),this._bounds.addVertexData(this.vertexData,0,this.vertexData.length)}containsPoint(e){if(!this.getBounds().contains(e.x,e.y))return!1;this.worldTransform.applyInverse(e,fc);const t=this.geometry.getBuffer("aVertexPosition").data,n=pc.points,r=this.geometry.getIndex().data,i=r.length,s=4===this.drawMode?3:1;for(let o=0;o+2<i;o+=s){const e=2*r[o],i=2*r[o+1],s=2*r[o+2];if(n[0]=t[e],n[1]=t[e+1],n[2]=t[i],n[3]=t[i+1],n[4]=t[s],n[5]=t[s+1],pc.contains(fc.x,fc.y))return!0}return!1}destroy(e){super.destroy(e),this._cachedTexture&&(this._cachedTexture.destroy(),this._cachedTexture=null),this.geometry=null,this.shader=null,this.state=null,this.uvs=null,this.indices=null,this.vertexData=null}};mc.BATCHABLE_SIZE=100;let gc=mc;class yc extends Oi{constructor(e,t,n){super();const r=new ki(e),i=new ki(t,!0),s=new ki(n,!0,!0);this.addAttribute("aVertexPosition",r,2,!1,Sn.FLOAT).addAttribute("aTextureCoord",i,2,!1,Sn.FLOAT).addIndex(s),this._updateId=-1}get vertexDirtyId(){return this.buffers[0]._updateID}}class vc extends Es{constructor(e,t){const n={uSampler:e,alpha:1,uTextureMatrix:Yi.IDENTITY,uColor:new Float32Array([1,1,1,1])};(t=Object.assign({tint:16777215,alpha:1,pluginName:"batch"},t)).uniforms&&Object.assign(n,t.uniforms),super(t.program||xs.from("attribute vec2 aVertexPosition;\nattribute vec2 aTextureCoord;\n\nuniform mat3 projectionMatrix;\nuniform mat3 translationMatrix;\nuniform mat3 uTextureMatrix;\n\nvarying vec2 vTextureCoord;\n\nvoid main(void)\n{\n    gl_Position = vec4((projectionMatrix * translationMatrix * vec3(aVertexPosition, 1.0)).xy, 0.0, 1.0);\n\n    vTextureCoord = (uTextureMatrix * vec3(aTextureCoord, 1.0)).xy;\n}\n","varying vec2 vTextureCoord;\nuniform vec4 uColor;\n\nuniform sampler2D uSampler;\n\nvoid main(void)\n{\n    gl_FragColor = texture2D(uSampler, vTextureCoord) * uColor;\n}\n"),n),this._colorDirty=!1,this.uvMatrix=new io(e),this.batchable=void 0===t.program,this.pluginName=t.pluginName,this._tintColor=new jr(t.tint),this._tintRGB=this._tintColor.toLittleEndianNumber(),this._colorDirty=!0,this.alpha=t.alpha}get texture(){return this.uniforms.uSampler}set texture(e){this.uniforms.uSampler!==e&&(!this.uniforms.uSampler.baseTexture.alphaMode!=!e.baseTexture.alphaMode&&(this._colorDirty=!0),this.uniforms.uSampler=e,this.uvMatrix.texture=e)}set alpha(e){e!==this._alpha&&(this._alpha=e,this._colorDirty=!0)}get alpha(){return this._alpha}set tint(e){e!==this.tint&&(this._tintColor.setValue(e),this._tintRGB=this._tintColor.toLittleEndianNumber(),this._colorDirty=!0)}get tint(){return this._tintColor.value}get tintValue(){return this._tintColor.toNumber()}update(){if(this._colorDirty){this._colorDirty=!1;const e=this.texture.baseTexture.alphaMode;jr.shared.setValue(this._tintColor).premultiply(this._alpha,e).toArray(this.uniforms.uColor)}this.uvMatrix.update()&&(this.uniforms.uTextureMatrix=this.uvMatrix.mapCoord)}}class bc{constructor(e,t,n){this.geometry=new Oi,this.indexBuffer=null,this.size=n,this.dynamicProperties=[],this.staticProperties=[];for(let r=0;r<e.length;++r){let n=e[r];n={attributeName:n.attributeName,size:n.size,uploadFunction:n.uploadFunction,type:n.type||Sn.FLOAT,offset:n.offset},t[r]?this.dynamicProperties.push(n):this.staticProperties.push(n)}this.staticStride=0,this.staticBuffer=null,this.staticData=null,this.staticDataUint32=null,this.dynamicStride=0,this.dynamicBuffer=null,this.dynamicData=null,this.dynamicDataUint32=null,this._updateID=0,this.initBuffers()}initBuffers(){const e=this.geometry;let t=0;this.indexBuffer=new ki(function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;const n=6*e;if(t=t||new Uint16Array(n),t.length!==n)throw new Error("Out buffer length is incorrect, got ".concat(t.length," and expected ").concat(n));for(let r=0,i=0;r<n;r+=6,i+=4)t[r+0]=i+0,t[r+1]=i+1,t[r+2]=i+2,t[r+3]=i+0,t[r+4]=i+2,t[r+5]=i+3;return t}(this.size),!0,!0),e.addIndex(this.indexBuffer),this.dynamicStride=0;for(let s=0;s<this.dynamicProperties.length;++s){const e=this.dynamicProperties[s];e.offset=t,t+=e.size,this.dynamicStride+=e.size}const n=new ArrayBuffer(this.size*this.dynamicStride*4*4);this.dynamicData=new Float32Array(n),this.dynamicDataUint32=new Uint32Array(n),this.dynamicBuffer=new ki(this.dynamicData,!1,!1);let r=0;this.staticStride=0;for(let s=0;s<this.staticProperties.length;++s){const e=this.staticProperties[s];e.offset=r,r+=e.size,this.staticStride+=e.size}const i=new ArrayBuffer(this.size*this.staticStride*4*4);this.staticData=new Float32Array(i),this.staticDataUint32=new Uint32Array(i),this.staticBuffer=new ki(this.staticData,!0,!1);for(let s=0;s<this.dynamicProperties.length;++s){const t=this.dynamicProperties[s];e.addAttribute(t.attributeName,this.dynamicBuffer,0,t.type===Sn.UNSIGNED_BYTE,t.type,4*this.dynamicStride,4*t.offset)}for(let s=0;s<this.staticProperties.length;++s){const t=this.staticProperties[s];e.addAttribute(t.attributeName,this.staticBuffer,0,t.type===Sn.UNSIGNED_BYTE,t.type,4*this.staticStride,4*t.offset)}}uploadDynamic(e,t,n){for(let r=0;r<this.dynamicProperties.length;r++){const i=this.dynamicProperties[r];i.uploadFunction(e,t,n,i.type===Sn.UNSIGNED_BYTE?this.dynamicDataUint32:this.dynamicData,this.dynamicStride,i.offset)}this.dynamicBuffer._updateID++}uploadStatic(e,t,n){for(let r=0;r<this.staticProperties.length;r++){const i=this.staticProperties[r];i.uploadFunction(e,t,n,i.type===Sn.UNSIGNED_BYTE?this.staticDataUint32:this.staticData,this.staticStride,i.offset)}this.staticBuffer._updateID++}destroy(){this.indexBuffer=null,this.dynamicProperties=null,this.dynamicBuffer=null,this.dynamicData=null,this.dynamicDataUint32=null,this.staticProperties=null,this.staticBuffer=null,this.staticData=null,this.staticDataUint32=null,this.geometry.destroy()}}class _c extends Cs{constructor(e){super(e),this.shader=null,this.properties=null,this.tempMatrix=new Yi,this.properties=[{attributeName:"aVertexPosition",size:2,uploadFunction:this.uploadVertices,offset:0},{attributeName:"aPositionCoord",size:2,uploadFunction:this.uploadPosition,offset:0},{attributeName:"aRotation",size:1,uploadFunction:this.uploadRotation,offset:0},{attributeName:"aTextureCoord",size:2,uploadFunction:this.uploadUvs,offset:0},{attributeName:"aColor",size:1,type:Sn.UNSIGNED_BYTE,uploadFunction:this.uploadTint,offset:0}],this.shader=Es.from("attribute vec2 aVertexPosition;\nattribute vec2 aTextureCoord;\nattribute vec4 aColor;\n\nattribute vec2 aPositionCoord;\nattribute float aRotation;\n\nuniform mat3 translationMatrix;\nuniform vec4 uColor;\n\nvarying vec2 vTextureCoord;\nvarying vec4 vColor;\n\nvoid main(void){\n    float x = (aVertexPosition.x) * cos(aRotation) - (aVertexPosition.y) * sin(aRotation);\n    float y = (aVertexPosition.x) * sin(aRotation) + (aVertexPosition.y) * cos(aRotation);\n\n    vec2 v = vec2(x, y);\n    v = v + aPositionCoord;\n\n    gl_Position = vec4((translationMatrix * vec3(v, 1.0)).xy, 0.0, 1.0);\n\n    vTextureCoord = aTextureCoord;\n    vColor = aColor * uColor;\n}\n","varying vec2 vTextureCoord;\nvarying vec4 vColor;\n\nuniform sampler2D uSampler;\n\nvoid main(void){\n    vec4 color = texture2D(uSampler, vTextureCoord) * vColor;\n    gl_FragColor = color;\n}",{}),this.state=yi.for2d()}render(e){const t=e.children,n=e._maxSize,r=e._batchSize,i=this.renderer;let s=t.length;if(0===s)return;s>n&&!e.autoResize&&(s=n);let o=e._buffers;o||(o=e._buffers=this.generateBuffers(e));const a=t[0]._texture.baseTexture,l=a.alphaMode>0;this.state.blendMode=Vr(e.blendMode,l),i.state.set(this.state);const u=i.gl,c=e.worldTransform.copyTo(this.tempMatrix);c.prepend(i.globalUniforms.uniforms.projectionMatrix),this.shader.uniforms.translationMatrix=c.toArray(!0),this.shader.uniforms.uColor=jr.shared.setValue(e.tintRgb).premultiply(e.worldAlpha,l).toArray(this.shader.uniforms.uColor),this.shader.uniforms.uSampler=a,this.renderer.shader.bind(this.shader);let h=!1;for(let d=0,f=0;d<s;d+=r,f+=1){let n=s-d;n>r&&(n=r),f>=o.length&&o.push(this._generateOneMoreBuffer(e));const a=o[f];a.uploadDynamic(t,d,n);const l=e._bufferUpdateIDs[f]||0;h=h||a._updateID<l,h&&(a._updateID=e._updateID,a.uploadStatic(t,d,n)),i.geometry.bind(a.geometry),u.drawElements(u.TRIANGLES,6*n,u.UNSIGNED_SHORT,0)}}generateBuffers(e){const t=[],n=e._maxSize,r=e._batchSize,i=e._properties;for(let s=0;s<n;s+=r)t.push(new bc(this.properties,i,r));return t}_generateOneMoreBuffer(e){const t=e._batchSize,n=e._properties;return new bc(this.properties,n,t)}uploadVertices(e,t,n,r,i,s){let o=0,a=0,l=0,u=0;for(let c=0;c<n;++c){const n=e[t+c],h=n._texture,d=n.scale.x,f=n.scale.y,p=h.trim,m=h.orig;p?(a=p.x-n.anchor.x*m.width,o=a+p.width,u=p.y-n.anchor.y*m.height,l=u+p.height):(o=m.width*(1-n.anchor.x),a=m.width*-n.anchor.x,l=m.height*(1-n.anchor.y),u=m.height*-n.anchor.y),r[s]=a*d,r[s+1]=u*f,r[s+i]=o*d,r[s+i+1]=u*f,r[s+2*i]=o*d,r[s+2*i+1]=l*f,r[s+3*i]=a*d,r[s+3*i+1]=l*f,s+=4*i}}uploadPosition(e,t,n,r,i,s){for(let o=0;o<n;o++){const n=e[t+o].position;r[s]=n.x,r[s+1]=n.y,r[s+i]=n.x,r[s+i+1]=n.y,r[s+2*i]=n.x,r[s+2*i+1]=n.y,r[s+3*i]=n.x,r[s+3*i+1]=n.y,s+=4*i}}uploadRotation(e,t,n,r,i,s){for(let o=0;o<n;o++){const n=e[t+o].rotation;r[s]=n,r[s+i]=n,r[s+2*i]=n,r[s+3*i]=n,s+=4*i}}uploadUvs(e,t,n,r,i,s){for(let o=0;o<n;++o){const n=e[t+o]._texture._uvs;n?(r[s]=n.x0,r[s+1]=n.y0,r[s+i]=n.x1,r[s+i+1]=n.y1,r[s+2*i]=n.x2,r[s+2*i+1]=n.y2,r[s+3*i]=n.x3,r[s+3*i+1]=n.y3,s+=4*i):(r[s]=0,r[s+1]=0,r[s+i]=0,r[s+i+1]=0,r[s+2*i]=0,r[s+2*i+1]=0,r[s+3*i]=0,r[s+3*i+1]=0,s+=4*i)}}uploadTint(e,t,n,r,i,s){for(let o=0;o<n;++o){const n=e[t+o],a=jr.shared.setValue(n._tintRGB).toPremultiplied(n.alpha,n.texture.baseTexture.alphaMode>0);r[s]=a,r[s+i]=a,r[s+2*i]=a,r[s+3*i]=a,s+=4*i}}destroy(){super.destroy(),this.shader&&(this.shader.destroy(),this.shader=null),this.tempMatrix=null}}_c.extension={name:"particle",type:ci.RendererPlugin},fi.add(_c);var xc=(e=>(e[e.LINEAR_VERTICAL=0]="LINEAR_VERTICAL",e[e.LINEAR_HORIZONTAL=1]="LINEAR_HORIZONTAL",e))(xc||{});const wc={willReadFrequently:!0},Ac=class e{static get experimentalLetterSpacingSupported(){let t=e._experimentalLetterSpacingSupported;if(void 0!==t){const n=Bn.ADAPTER.getCanvasRenderingContext2D().prototype;t=e._experimentalLetterSpacingSupported="letterSpacing"in n||"textLetterSpacing"in n}return t}constructor(e,t,n,r,i,s,o,a,l){this.text=e,this.style=t,this.width=n,this.height=r,this.lines=i,this.lineWidths=s,this.lineHeight=o,this.maxLineWidth=a,this.fontProperties=l}static measureText(t,n,r){let i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:e._canvas;r=null!==r&&void 0!==r?r:n.wordWrap;const s=n.toFontString(),o=e.measureFont(s);0===o.fontSize&&(o.fontSize=n.fontSize,o.ascent=n.fontSize);const a=i.getContext("2d",wc);a.font=s;const l=(r?e.wordWrap(t,n,i):t).split(/(?:\r\n|\r|\n)/),u=new Array(l.length);let c=0;for(let p=0;p<l.length;p++){const t=e._measureText(l[p],n.letterSpacing,a);u[p]=t,c=Math.max(c,t)}let h=c+n.strokeThickness;n.dropShadow&&(h+=n.dropShadowDistance);const d=n.lineHeight||o.fontSize+n.strokeThickness;let f=Math.max(d,o.fontSize+2*n.strokeThickness)+n.leading+(l.length-1)*(d+n.leading);return n.dropShadow&&(f+=n.dropShadowDistance),new e(t,n,h,f,l,u,d+n.leading,c,o)}static _measureText(t,n,r){let i=!1;e.experimentalLetterSpacingSupported&&(e.experimentalLetterSpacing?(r.letterSpacing="".concat(n,"px"),r.textLetterSpacing="".concat(n,"px"),i=!0):(r.letterSpacing="0px",r.textLetterSpacing="0px"));let s=r.measureText(t).width;return s>0&&(i?s-=n:s+=(e.graphemeSegmenter(t).length-1)*n),s}static wordWrap(t,n){const r=(arguments.length>2&&void 0!==arguments[2]?arguments[2]:e._canvas).getContext("2d",wc);let i=0,s="",o="";const a=Object.create(null),{letterSpacing:l,whiteSpace:u}=n,c=e.collapseSpaces(u),h=e.collapseNewlines(u);let d=!c;const f=n.wordWrapWidth+l,p=e.tokenize(t);for(let m=0;m<p.length;m++){let t=p[m];if(e.isNewline(t)){if(!h){o+=e.addLine(s),d=!c,s="",i=0;continue}t=" "}if(c){const n=e.isBreakingSpace(t),r=e.isBreakingSpace(s[s.length-1]);if(n&&r)continue}const u=e.getFromCache(t,l,a,r);if(u>f)if(""!==s&&(o+=e.addLine(s),s="",i=0),e.canBreakWords(t,n.breakWords)){const u=e.wordWrapSplit(t);for(let c=0;c<u.length;c++){let h=u[c],p=h,m=1;for(;u[c+m];){const r=u[c+m];if(e.canBreakChars(p,r,t,c,n.breakWords))break;h+=r,p=r,m++}c+=m-1;const g=e.getFromCache(h,l,a,r);g+i>f&&(o+=e.addLine(s),d=!1,s="",i=0),s+=h,i+=g}}else{s.length>0&&(o+=e.addLine(s),s="",i=0);const n=m===p.length-1;o+=e.addLine(t,!n),d=!1,s="",i=0}else u+i>f&&(d=!1,o+=e.addLine(s),s="",i=0),(s.length>0||!e.isBreakingSpace(t)||d)&&(s+=t,i+=u)}return o+=e.addLine(s,!1),o}static addLine(t){let n=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];return t=e.trimRight(t),t=n?"".concat(t,"\n"):t}static getFromCache(t,n,r,i){let s=r[t];return"number"!=typeof s&&(s=e._measureText(t,n,i)+n,r[t]=s),s}static collapseSpaces(e){return"normal"===e||"pre-line"===e}static collapseNewlines(e){return"normal"===e}static trimRight(t){if("string"!=typeof t)return"";for(let n=t.length-1;n>=0;n--){const r=t[n];if(!e.isBreakingSpace(r))break;t=t.slice(0,-1)}return t}static isNewline(t){return"string"==typeof t&&e._newlines.includes(t.charCodeAt(0))}static isBreakingSpace(t,n){return"string"==typeof t&&e._breakingSpaces.includes(t.charCodeAt(0))}static tokenize(t){const n=[];let r="";if("string"!=typeof t)return n;for(let i=0;i<t.length;i++){const s=t[i],o=t[i+1];e.isBreakingSpace(s,o)||e.isNewline(s)?(""!==r&&(n.push(r),r=""),n.push(s)):r+=s}return""!==r&&n.push(r),n}static canBreakWords(e,t){return t}static canBreakChars(e,t,n,r,i){return!0}static wordWrapSplit(t){return e.graphemeSegmenter(t)}static measureFont(t){if(e._fonts[t])return e._fonts[t];const n={ascent:0,descent:0,fontSize:0},r=e._canvas,i=e._context;i.font=t;const s=e.METRICS_STRING+e.BASELINE_SYMBOL,o=Math.ceil(i.measureText(s).width);let a=Math.ceil(i.measureText(e.BASELINE_SYMBOL).width);const l=Math.ceil(e.HEIGHT_MULTIPLIER*a);if(a=a*e.BASELINE_MULTIPLIER|0,0===o||0===l)return e._fonts[t]=n,n;r.width=o,r.height=l,i.fillStyle="#f00",i.fillRect(0,0,o,l),i.font=t,i.textBaseline="alphabetic",i.fillStyle="#000",i.fillText(s,0,a);const u=i.getImageData(0,0,o,l).data,c=u.length,h=4*o;let d=0,f=0,p=!1;for(d=0;d<a;++d){for(let e=0;e<h;e+=4)if(255!==u[f+e]){p=!0;break}if(p)break;f+=h}for(n.ascent=a-d,f=c-h,p=!1,d=l;d>a;--d){for(let e=0;e<h;e+=4)if(255!==u[f+e]){p=!0;break}if(p)break;f-=h}return n.descent=d-a,n.fontSize=n.ascent+n.descent,e._fonts[t]=n,n}static clearMetrics(){let t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"";t?delete e._fonts[t]:e._fonts={}}static get _canvas(){if(!e.__canvas){let r;try{var t;const n=new OffscreenCanvas(0,0);if(null!==(t=n.getContext("2d",wc))&&void 0!==t&&t.measureText)return e.__canvas=n,n;r=Bn.ADAPTER.createCanvas()}catch(n){r=Bn.ADAPTER.createCanvas()}r.width=r.height=10,e.__canvas=r}return e.__canvas}static get _context(){return e.__context||(e.__context=e._canvas.getContext("2d",wc)),e.__context}};Ac.METRICS_STRING="|\xc9q\xc5",Ac.BASELINE_SYMBOL="M",Ac.BASELINE_MULTIPLIER=1.4,Ac.HEIGHT_MULTIPLIER=2,Ac.graphemeSegmenter=(()=>{if("function"==typeof(null===Intl||void 0===Intl?void 0:Intl.Segmenter)){const e=new Intl.Segmenter;return t=>[...e.segment(t)].map(e=>e.segment)}return e=>[...e]})(),Ac.experimentalLetterSpacing=!1,Ac._fonts={},Ac._newlines=[10,13],Ac._breakingSpaces=[9,32,8192,8193,8194,8195,8196,8197,8198,8200,8201,8202,8287,12288];let Ec=Ac;const Sc=["serif","sans-serif","monospace","cursive","fantasy","system-ui"],Tc=class e{constructor(e){this.styleID=0,this.reset(),Rc(this,e,e)}clone(){const t={};return Rc(t,this,e.defaultStyle),new e(t)}reset(){Rc(this,e.defaultStyle,e.defaultStyle)}get align(){return this._align}set align(e){this._align!==e&&(this._align=e,this.styleID++)}get breakWords(){return this._breakWords}set breakWords(e){this._breakWords!==e&&(this._breakWords=e,this.styleID++)}get dropShadow(){return this._dropShadow}set dropShadow(e){this._dropShadow!==e&&(this._dropShadow=e,this.styleID++)}get dropShadowAlpha(){return this._dropShadowAlpha}set dropShadowAlpha(e){this._dropShadowAlpha!==e&&(this._dropShadowAlpha=e,this.styleID++)}get dropShadowAngle(){return this._dropShadowAngle}set dropShadowAngle(e){this._dropShadowAngle!==e&&(this._dropShadowAngle=e,this.styleID++)}get dropShadowBlur(){return this._dropShadowBlur}set dropShadowBlur(e){this._dropShadowBlur!==e&&(this._dropShadowBlur=e,this.styleID++)}get dropShadowColor(){return this._dropShadowColor}set dropShadowColor(e){const t=kc(e);this._dropShadowColor!==t&&(this._dropShadowColor=t,this.styleID++)}get dropShadowDistance(){return this._dropShadowDistance}set dropShadowDistance(e){this._dropShadowDistance!==e&&(this._dropShadowDistance=e,this.styleID++)}get fill(){return this._fill}set fill(e){const t=kc(e);this._fill!==t&&(this._fill=t,this.styleID++)}get fillGradientType(){return this._fillGradientType}set fillGradientType(e){this._fillGradientType!==e&&(this._fillGradientType=e,this.styleID++)}get fillGradientStops(){return this._fillGradientStops}set fillGradientStops(e){(function(e,t){if(!Array.isArray(e)||!Array.isArray(t)||e.length!==t.length)return!1;for(let n=0;n<e.length;++n)if(e[n]!==t[n])return!1;return!0})(this._fillGradientStops,e)||(this._fillGradientStops=e,this.styleID++)}get fontFamily(){return this._fontFamily}set fontFamily(e){this.fontFamily!==e&&(this._fontFamily=e,this.styleID++)}get fontSize(){return this._fontSize}set fontSize(e){this._fontSize!==e&&(this._fontSize=e,this.styleID++)}get fontStyle(){return this._fontStyle}set fontStyle(e){this._fontStyle!==e&&(this._fontStyle=e,this.styleID++)}get fontVariant(){return this._fontVariant}set fontVariant(e){this._fontVariant!==e&&(this._fontVariant=e,this.styleID++)}get fontWeight(){return this._fontWeight}set fontWeight(e){this._fontWeight!==e&&(this._fontWeight=e,this.styleID++)}get letterSpacing(){return this._letterSpacing}set letterSpacing(e){this._letterSpacing!==e&&(this._letterSpacing=e,this.styleID++)}get lineHeight(){return this._lineHeight}set lineHeight(e){this._lineHeight!==e&&(this._lineHeight=e,this.styleID++)}get leading(){return this._leading}set leading(e){this._leading!==e&&(this._leading=e,this.styleID++)}get lineJoin(){return this._lineJoin}set lineJoin(e){this._lineJoin!==e&&(this._lineJoin=e,this.styleID++)}get miterLimit(){return this._miterLimit}set miterLimit(e){this._miterLimit!==e&&(this._miterLimit=e,this.styleID++)}get padding(){return this._padding}set padding(e){this._padding!==e&&(this._padding=e,this.styleID++)}get stroke(){return this._stroke}set stroke(e){const t=kc(e);this._stroke!==t&&(this._stroke=t,this.styleID++)}get strokeThickness(){return this._strokeThickness}set strokeThickness(e){this._strokeThickness!==e&&(this._strokeThickness=e,this.styleID++)}get textBaseline(){return this._textBaseline}set textBaseline(e){this._textBaseline!==e&&(this._textBaseline=e,this.styleID++)}get trim(){return this._trim}set trim(e){this._trim!==e&&(this._trim=e,this.styleID++)}get whiteSpace(){return this._whiteSpace}set whiteSpace(e){this._whiteSpace!==e&&(this._whiteSpace=e,this.styleID++)}get wordWrap(){return this._wordWrap}set wordWrap(e){this._wordWrap!==e&&(this._wordWrap=e,this.styleID++)}get wordWrapWidth(){return this._wordWrapWidth}set wordWrapWidth(e){this._wordWrapWidth!==e&&(this._wordWrapWidth=e,this.styleID++)}toFontString(){const e="number"==typeof this.fontSize?"".concat(this.fontSize,"px"):this.fontSize;let t=this.fontFamily;Array.isArray(this.fontFamily)||(t=this.fontFamily.split(","));for(let n=t.length-1;n>=0;n--){let e=t[n].trim();!/([\"\'])[^\'\"]+\1/.test(e)&&!Sc.includes(e)&&(e='"'.concat(e,'"')),t[n]=e}return"".concat(this.fontStyle," ").concat(this.fontVariant," ").concat(this.fontWeight," ").concat(e," ").concat(t.join(","))}};Tc.defaultStyle={align:"left",breakWords:!1,dropShadow:!1,dropShadowAlpha:1,dropShadowAngle:Math.PI/6,dropShadowBlur:0,dropShadowColor:"black",dropShadowDistance:5,fill:"black",fillGradientType:xc.LINEAR_VERTICAL,fillGradientStops:[],fontFamily:"Arial",fontSize:26,fontStyle:"normal",fontVariant:"normal",fontWeight:"normal",leading:0,letterSpacing:0,lineHeight:0,lineJoin:"miter",miterLimit:10,padding:0,stroke:"black",strokeThickness:0,textBaseline:"alphabetic",trim:!1,whiteSpace:"pre",wordWrap:!1,wordWrapWidth:100};let Cc=Tc;function kc(e){const t=jr.shared,n=e=>{const n=t.setValue(e);return 1===n.alpha?n.toHex():n.toRgbaString()};return Array.isArray(e)?e.map(n):n(e)}function Rc(e,t,n){for(const r in n)Array.isArray(t[r])?e[r]=t[r].slice():e[r]=t[r]}const Pc={texture:!0,children:!1,baseTexture:!0},Ic=class e extends Ea{constructor(t,n,r){var i;let s=!1;r||(r=Bn.ADAPTER.createCanvas(),s=!0),r.width=3,r.height=3;const o=js.from(r);o.orig=new Hi,o.trim=new Hi,super(o),this._ownCanvas=s,this.canvas=r,this.context=r.getContext("2d",{willReadFrequently:!0}),this._resolution=null!==(i=e.defaultResolution)&&void 0!==i?i:Bn.RESOLUTION,this._autoResolution=e.defaultAutoResolution,this._text=null,this._style=null,this._styleListener=null,this._font="",this.text=t,this.style=n,this.localStyleID=-1}static get experimentalLetterSpacing(){return Ec.experimentalLetterSpacing}static set experimentalLetterSpacing(e){ar("7.1.0","Text.experimentalLetterSpacing is deprecated, use TextMetrics.experimentalLetterSpacing"),Ec.experimentalLetterSpacing=e}updateText(e){const t=this._style;if(this.localStyleID!==t.styleID&&(this.dirty=!0,this.localStyleID=t.styleID),!this.dirty&&e)return;this._font=this._style.toFontString();const n=this.context,r=Ec.measureText(this._text||" ",this._style,this._style.wordWrap,this.canvas),i=r.width,s=r.height,o=r.lines,a=r.lineHeight,l=r.lineWidths,u=r.maxLineWidth,c=r.fontProperties;let h,d;this.canvas.width=Math.ceil(Math.ceil(Math.max(1,i)+2*t.padding)*this._resolution),this.canvas.height=Math.ceil(Math.ceil(Math.max(1,s)+2*t.padding)*this._resolution),n.scale(this._resolution,this._resolution),n.clearRect(0,0,this.canvas.width,this.canvas.height),n.font=this._font,n.lineWidth=t.strokeThickness,n.textBaseline=t.textBaseline,n.lineJoin=t.lineJoin,n.miterLimit=t.miterLimit;const f=t.dropShadow?2:1;for(let p=0;p<f;++p){const e=t.dropShadow&&0===p,i=e?Math.ceil(Math.max(1,s)+2*t.padding):0,f=i*this._resolution;if(e){n.fillStyle="black",n.strokeStyle="black";const e=t.dropShadowColor,r=t.dropShadowBlur*this._resolution,i=t.dropShadowDistance*this._resolution;n.shadowColor=jr.shared.setValue(e).setAlpha(t.dropShadowAlpha).toRgbaString(),n.shadowBlur=r,n.shadowOffsetX=Math.cos(t.dropShadowAngle)*i,n.shadowOffsetY=Math.sin(t.dropShadowAngle)*i+f}else n.fillStyle=this._generateFillStyle(t,o,r),n.strokeStyle=t.stroke,n.shadowColor="black",n.shadowBlur=0,n.shadowOffsetX=0,n.shadowOffsetY=0;let m=(a-c.fontSize)/2;a-c.fontSize<0&&(m=0);for(let n=0;n<o.length;n++)h=t.strokeThickness/2,d=t.strokeThickness/2+n*a+c.ascent+m,"right"===t.align?h+=u-l[n]:"center"===t.align&&(h+=(u-l[n])/2),t.stroke&&t.strokeThickness&&this.drawLetterSpacing(o[n],h+t.padding,d+t.padding-i,!0),t.fill&&this.drawLetterSpacing(o[n],h+t.padding,d+t.padding-i)}this.updateTexture()}drawLetterSpacing(e,t,n){let r=arguments.length>3&&void 0!==arguments[3]&&arguments[3];const i=this._style.letterSpacing;let s=!1;if(Ec.experimentalLetterSpacingSupported&&(Ec.experimentalLetterSpacing?(this.context.letterSpacing="".concat(i,"px"),this.context.textLetterSpacing="".concat(i,"px"),s=!0):(this.context.letterSpacing="0px",this.context.textLetterSpacing="0px")),0===i||s)return void(r?this.context.strokeText(e,t,n):this.context.fillText(e,t,n));let o=t;const a=Ec.graphemeSegmenter(e);let l=this.context.measureText(e).width,u=0;for(let c=0;c<a.length;++c){const e=a[c];r?this.context.strokeText(e,o,n):this.context.fillText(e,o,n);let t="";for(let n=c+1;n<a.length;++n)t+=a[n];u=this.context.measureText(t).width,o+=l-u+i,l=u}}updateTexture(){const e=this.canvas;if(this._style.trim){const t=li(e);t.data&&(e.width=t.width,e.height=t.height,this.context.putImageData(t.data,0,0))}const t=this._texture,n=this._style,r=n.trim?0:n.padding,i=t.baseTexture;t.trim.width=t._frame.width=e.width/this._resolution,t.trim.height=t._frame.height=e.height/this._resolution,t.trim.x=-r,t.trim.y=-r,t.orig.width=t._frame.width-2*r,t.orig.height=t._frame.height-2*r,this._onTextureUpdate(),i.setRealSize(e.width,e.height,this._resolution),t.updateUvs(),this.dirty=!1}_render(e){this._autoResolution&&this._resolution!==e.resolution&&(this._resolution=e.resolution,this.dirty=!0),this.updateText(!0),super._render(e)}updateTransform(){this.updateText(!0),super.updateTransform()}getBounds(e,t){return this.updateText(!0),-1===this._textureID&&(e=!1),super.getBounds(e,t)}getLocalBounds(e){return this.updateText(!0),super.getLocalBounds.call(this,e)}_calculateBounds(){this.calculateVertices(),this._bounds.addQuad(this.vertexData)}_generateFillStyle(e,t,n){const r=e.fill;if(!Array.isArray(r))return r;if(1===r.length)return r[0];let i;const s=e.dropShadow?e.dropShadowDistance:0,o=e.padding||0,a=this.canvas.width/this._resolution-s-2*o,l=this.canvas.height/this._resolution-s-2*o,u=r.slice(),c=e.fillGradientStops.slice();if(!c.length){const e=u.length+1;for(let t=1;t<e;++t)c.push(t/e)}if(u.unshift(r[0]),c.unshift(0),u.push(r[r.length-1]),c.push(1),e.fillGradientType===xc.LINEAR_VERTICAL){i=this.context.createLinearGradient(a/2,o,a/2,l+o);const r=n.fontProperties.fontSize+e.strokeThickness;for(let e=0;e<t.length;e++){const s=n.lineHeight*(e-1)+r,o=n.lineHeight*e;let a=o;e>0&&s>o&&(a=(o+s)/2);const h=o+r,d=n.lineHeight*(e+1);let f=h;e+1<t.length&&d<h&&(f=(h+d)/2);const p=(f-a)/l;for(let e=0;e<u.length;e++){let t=0;t="number"==typeof c[e]?c[e]:e/u.length;let n=Math.min(1,Math.max(0,a/l+t*p));n=Number(n.toFixed(5)),i.addColorStop(n,u[e])}}}else{i=this.context.createLinearGradient(o,l/2,a+o,l/2);const e=u.length+1;let t=1;for(let n=0;n<u.length;n++){let r;r="number"==typeof c[n]?c[n]:t/e,i.addColorStop(r,u[n]),t++}}return i}destroy(e){"boolean"==typeof e&&(e={children:e}),e=Object.assign({},Pc,e),super.destroy(e),this._ownCanvas&&(this.canvas.height=this.canvas.width=0),this.context=null,this.canvas=null,this._style=null}get width(){return this.updateText(!0),Math.abs(this.scale.x)*this._texture.orig.width}set width(e){this.updateText(!0);const t=Zr(this.scale.x)||1;this.scale.x=t*e/this._texture.orig.width,this._width=e}get height(){return this.updateText(!0),Math.abs(this.scale.y)*this._texture.orig.height}set height(e){this.updateText(!0);const t=Zr(this.scale.y)||1;this.scale.y=t*e/this._texture.orig.height,this._height=e}get style(){return this._style}set style(e){e=e||{},this._style=e instanceof Cc?e:new Cc(e),this.localStyleID=-1,this.dirty=!0}get text(){return this._text}set text(e){e=String(null!==e&&void 0!==e?e:""),this._text!==e&&(this._text=e,this.dirty=!0)}get resolution(){return this._resolution}set resolution(e){this._autoResolution=!1,this._resolution!==e&&(this._resolution=e,this.dirty=!0)}};Ic.defaultAutoResolution=!0;let Mc=Ic;class Dc{constructor(e){this.maxItemsPerFrame=e,this.itemsLeft=0}beginFrame(){this.itemsLeft=this.maxItemsPerFrame}allowedToUpload(){return this.itemsLeft-- >0}}function Oc(e,t){var n;let r=!1;if(null!==e&&void 0!==e&&null!==(n=e._textures)&&void 0!==n&&n.length)for(let i=0;i<e._textures.length;i++)if(e._textures[i]instanceof js){const n=e._textures[i].baseTexture;t.includes(n)||(t.push(n),r=!0)}return r}function Lc(e,t){if(e.baseTexture instanceof Si){const n=e.baseTexture;return t.includes(n)||t.push(n),!0}return!1}function Nc(e,t){if(e._texture&&e._texture instanceof js){const n=e._texture.baseTexture;return t.includes(n)||t.push(n),!0}return!1}function Fc(e,t){return t instanceof Mc&&(t.updateText(!0),!0)}function Bc(e,t){if(t instanceof Cc){const e=t.toFontString();return Ec.measureFont(e),!0}return!1}function Uc(e,t){if(e instanceof Mc){t.includes(e.style)||t.push(e.style),t.includes(e)||t.push(e);const n=e._texture.baseTexture;return t.includes(n)||t.push(n),!0}return!1}function Gc(e,t){return e instanceof Cc&&(t.includes(e)||t.push(e),!0)}const zc=class e{constructor(t){this.limiter=new Dc(e.uploadsPerFrame),this.renderer=t,this.uploadHookHelper=null,this.queue=[],this.addHooks=[],this.uploadHooks=[],this.completes=[],this.ticking=!1,this.delayedTick=()=>{this.queue&&this.prepareItems()},this.registerFindHook(Uc),this.registerFindHook(Gc),this.registerFindHook(Oc),this.registerFindHook(Lc),this.registerFindHook(Nc),this.registerUploadHook(Fc),this.registerUploadHook(Bc)}upload(e){return new Promise(t=>{e&&this.add(e),this.queue.length?(this.completes.push(t),this.ticking||(this.ticking=!0,Zo.system.addOnce(this.tick,this,qo.UTILITY))):t()})}tick(){setTimeout(this.delayedTick,0)}prepareItems(){for(this.limiter.beginFrame();this.queue.length&&this.limiter.allowedToUpload();){const e=this.queue[0];let t=!1;if(e&&!e._destroyed)for(let n=0,r=this.uploadHooks.length;n<r;n++)if(this.uploadHooks[n](this.uploadHookHelper,e)){this.queue.shift(),t=!0;break}t||this.queue.shift()}if(this.queue.length)Zo.system.addOnce(this.tick,this,qo.UTILITY);else{this.ticking=!1;const e=this.completes.slice(0);this.completes.length=0;for(let t=0,n=e.length;t<n;t++)e[t]()}}registerFindHook(e){return e&&this.addHooks.push(e),this}registerUploadHook(e){return e&&this.uploadHooks.push(e),this}add(e){for(let t=0,n=this.addHooks.length;t<n&&!this.addHooks[t](e,this.queue);t++);if(e instanceof xa)for(let t=e.children.length-1;t>=0;t--)this.add(e.children[t]);return this}destroy(){this.ticking&&Zo.system.remove(this.tick,this),this.ticking=!1,this.addHooks=null,this.uploadHooks=null,this.renderer=null,this.completes=null,this.queue=null,this.limiter=null,this.uploadHookHelper=null}};zc.uploadsPerFrame=4;let Hc=zc;function jc(e,t){return t instanceof Si&&(t._glTextures[e.CONTEXT_UID]||e.texture.bind(t),!0)}function Wc(e,t){if(!(t instanceof hc))return!1;const{geometry:n}=t;t.finishPoly(),n.updateBatches();const{batches:r}=n;for(let i=0;i<r.length;i++){const{texture:t}=r[i].style;t&&jc(e,t.baseTexture)}return n.batchable||e.geometry.bind(n,t._resolveDirectShader(e)),!0}function Vc(e,t){return e instanceof hc&&(t.push(e),!0)}Object.defineProperties(Bn,{UPLOADS_PER_FRAME:{get:()=>Hc.uploadsPerFrame,set(e){ar("7.1.0","settings.UPLOADS_PER_FRAME is deprecated, use prepare.BasePrepare.uploadsPerFrame"),Hc.uploadsPerFrame=e}}});class Xc extends Hc{constructor(e){super(e),this.uploadHookHelper=this.renderer,this.registerFindHook(Vc),this.registerUploadHook(jc),this.registerUploadHook(Wc)}}Xc.extension={name:"prepare",type:ci.RendererSystem},fi.add(Xc);class Yc extends Ea{constructor(e){let t=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];super(e[0]instanceof js?e[0]:e[0].texture),this._textures=null,this._durations=null,this._autoUpdate=t,this._isConnectedToTicker=!1,this.animationSpeed=1,this.loop=!0,this.updateAnchor=!1,this.onComplete=null,this.onFrameChange=null,this.onLoop=null,this._currentTime=0,this._playing=!1,this._previousFrame=null,this.textures=e}stop(){this._playing&&(this._playing=!1,this._autoUpdate&&this._isConnectedToTicker&&(Zo.shared.remove(this.update,this),this._isConnectedToTicker=!1))}play(){this._playing||(this._playing=!0,this._autoUpdate&&!this._isConnectedToTicker&&(Zo.shared.add(this.update,this,qo.HIGH),this._isConnectedToTicker=!0))}gotoAndStop(e){this.stop(),this.currentFrame=e}gotoAndPlay(e){this.currentFrame=e,this.play()}update(e){if(!this._playing)return;const t=this.animationSpeed*e,n=this.currentFrame;if(null!==this._durations){let n=this._currentTime%1*this._durations[this.currentFrame];for(n+=t/60*1e3;n<0;)this._currentTime--,n+=this._durations[this.currentFrame];const r=Math.sign(this.animationSpeed*e);for(this._currentTime=Math.floor(this._currentTime);n>=this._durations[this.currentFrame];)n-=this._durations[this.currentFrame]*r,this._currentTime+=r;this._currentTime+=n/this._durations[this.currentFrame]}else this._currentTime+=t;this._currentTime<0&&!this.loop?(this.gotoAndStop(0),this.onComplete&&this.onComplete()):this._currentTime>=this._textures.length&&!this.loop?(this.gotoAndStop(this._textures.length-1),this.onComplete&&this.onComplete()):n!==this.currentFrame&&(this.loop&&this.onLoop&&(this.animationSpeed>0&&this.currentFrame<n||this.animationSpeed<0&&this.currentFrame>n)&&this.onLoop(),this.updateTexture())}updateTexture(){const e=this.currentFrame;this._previousFrame!==e&&(this._previousFrame=e,this._texture=this._textures[e],this._textureID=-1,this._textureTrimmedID=-1,this._cachedTint=16777215,this.uvs=this._texture._uvs.uvsFloat32,this.updateAnchor&&this._anchor.copyFrom(this._texture.defaultAnchor),this.onFrameChange&&this.onFrameChange(this.currentFrame))}destroy(e){this.stop(),super.destroy(e),this.onComplete=null,this.onFrameChange=null,this.onLoop=null}static fromFrames(e){const t=[];for(let n=0;n<e.length;++n)t.push(js.from(e[n]));return new Yc(t)}static fromImages(e){const t=[];for(let n=0;n<e.length;++n)t.push(js.from(e[n]));return new Yc(t)}get totalFrames(){return this._textures.length}get textures(){return this._textures}set textures(e){if(e[0]instanceof js)this._textures=e,this._durations=null;else{this._textures=[],this._durations=[];for(let t=0;t<e.length;t++)this._textures.push(e[t].texture),this._durations.push(e[t].time)}this._previousFrame=null,this.gotoAndStop(0),this.updateTexture()}get currentFrame(){let e=Math.floor(this._currentTime)%this._textures.length;return e<0&&(e+=this._textures.length),e}set currentFrame(e){if(e<0||e>this.totalFrames-1)throw new Error("[AnimatedSprite]: Invalid frame index value ".concat(e,", expected to be between 0 and totalFrames ").concat(this.totalFrames,"."));const t=this.currentFrame;this._currentTime=e,t!==this.currentFrame&&this.updateTexture()}get playing(){return this._playing}get autoUpdate(){return this._autoUpdate}set autoUpdate(e){e!==this._autoUpdate&&(this._autoUpdate=e,!this._autoUpdate&&this._isConnectedToTicker?(Zo.shared.remove(this.update,this),this._isConnectedToTicker=!1):this._autoUpdate&&!this._isConnectedToTicker&&this._playing&&(Zo.shared.add(this.update,this),this._isConnectedToTicker=!0))}}new Gi;var qc="#version 100\n#define SHADER_NAME Tiling-Sprite-100\n\nprecision lowp float;\n\nattribute vec2 aVertexPosition;\nattribute vec2 aTextureCoord;\n\nuniform mat3 projectionMatrix;\nuniform mat3 translationMatrix;\nuniform mat3 uTransform;\n\nvarying vec2 vTextureCoord;\n\nvoid main(void)\n{\n    gl_Position = vec4((projectionMatrix * translationMatrix * vec3(aVertexPosition, 1.0)).xy, 0.0, 1.0);\n\n    vTextureCoord = (uTransform * vec3(aTextureCoord, 1.0)).xy;\n}\n";const Kc=new Yi;class Qc extends Cs{constructor(e){super(e),e.runners.contextChange.add(this),this.quad=new Ys,this.state=yi.for2d()}contextChange(){const e=this.renderer,t={globals:e.globalUniforms};this.simpleShader=Es.from(qc,"#version 100\n#define SHADER_NAME Tiling-Sprite-Simple-100\n\nprecision lowp float;\n\nvarying vec2 vTextureCoord;\n\nuniform sampler2D uSampler;\nuniform vec4 uColor;\n\nvoid main(void)\n{\n    vec4 texSample = texture2D(uSampler, vTextureCoord);\n    gl_FragColor = texSample * uColor;\n}\n",t),this.shader=e.context.webGLVersion>1?Es.from("#version 300 es\n#define SHADER_NAME Tiling-Sprite-300\n\nprecision lowp float;\n\nin vec2 aVertexPosition;\nin vec2 aTextureCoord;\n\nuniform mat3 projectionMatrix;\nuniform mat3 translationMatrix;\nuniform mat3 uTransform;\n\nout vec2 vTextureCoord;\n\nvoid main(void)\n{\n    gl_Position = vec4((projectionMatrix * translationMatrix * vec3(aVertexPosition, 1.0)).xy, 0.0, 1.0);\n\n    vTextureCoord = (uTransform * vec3(aTextureCoord, 1.0)).xy;\n}\n","#version 300 es\n#define SHADER_NAME Tiling-Sprite-100\n\nprecision lowp float;\n\nin vec2 vTextureCoord;\n\nout vec4 fragmentColor;\n\nuniform sampler2D uSampler;\nuniform vec4 uColor;\nuniform mat3 uMapCoord;\nuniform vec4 uClampFrame;\nuniform vec2 uClampOffset;\n\nvoid main(void)\n{\n    vec2 coord = vTextureCoord + ceil(uClampOffset - vTextureCoord);\n    coord = (uMapCoord * vec3(coord, 1.0)).xy;\n    vec2 unclamped = coord;\n    coord = clamp(coord, uClampFrame.xy, uClampFrame.zw);\n\n    vec4 texSample = texture(uSampler, coord, unclamped == coord ? 0.0f : -32.0f);// lod-bias very negative to force lod 0\n\n    fragmentColor = texSample * uColor;\n}\n",t):Es.from(qc,"#version 100\n#ifdef GL_EXT_shader_texture_lod\n    #extension GL_EXT_shader_texture_lod : enable\n#endif\n#define SHADER_NAME Tiling-Sprite-100\n\nprecision lowp float;\n\nvarying vec2 vTextureCoord;\n\nuniform sampler2D uSampler;\nuniform vec4 uColor;\nuniform mat3 uMapCoord;\nuniform vec4 uClampFrame;\nuniform vec2 uClampOffset;\n\nvoid main(void)\n{\n    vec2 coord = vTextureCoord + ceil(uClampOffset - vTextureCoord);\n    coord = (uMapCoord * vec3(coord, 1.0)).xy;\n    vec2 unclamped = coord;\n    coord = clamp(coord, uClampFrame.xy, uClampFrame.zw);\n\n    #ifdef GL_EXT_shader_texture_lod\n        vec4 texSample = unclamped == coord\n            ? texture2D(uSampler, coord) \n            : texture2DLodEXT(uSampler, coord, 0);\n    #else\n        vec4 texSample = texture2D(uSampler, coord);\n    #endif\n\n    gl_FragColor = texSample * uColor;\n}\n",t)}render(e){const t=this.renderer,n=this.quad;let r=n.vertices;r[0]=r[6]=e._width*-e.anchor.x,r[1]=r[3]=e._height*-e.anchor.y,r[2]=r[4]=e._width*(1-e.anchor.x),r[5]=r[7]=e._height*(1-e.anchor.y);const i=e.uvRespectAnchor?e.anchor.x:0,s=e.uvRespectAnchor?e.anchor.y:0;r=n.uvs,r[0]=r[6]=-i,r[1]=r[3]=-s,r[2]=r[4]=1-i,r[5]=r[7]=1-s,n.invalidate();const o=e._texture,a=o.baseTexture,l=a.alphaMode>0,u=e.tileTransform.localTransform,c=e.uvMatrix;let h=a.isPowerOfTwo&&o.frame.width===a.width&&o.frame.height===a.height;h&&(a._glTextures[t.CONTEXT_UID]?h=a.wrapMode!==kn.CLAMP:a.wrapMode===kn.CLAMP&&(a.wrapMode=kn.REPEAT));const d=h?this.simpleShader:this.shader,f=o.width,p=o.height,m=e._width,g=e._height;Kc.set(u.a*f/m,u.b*f/g,u.c*p/m,u.d*p/g,u.tx/m,u.ty/g),Kc.invert(),h?Kc.prepend(c.mapCoord):(d.uniforms.uMapCoord=c.mapCoord.toArray(!0),d.uniforms.uClampFrame=c.uClampFrame,d.uniforms.uClampOffset=c.uClampOffset),d.uniforms.uTransform=Kc.toArray(!0),d.uniforms.uColor=jr.shared.setValue(e.tint).premultiply(e.worldAlpha,l).toArray(d.uniforms.uColor),d.uniforms.translationMatrix=e.transform.worldTransform.toArray(!0),d.uniforms.uSampler=o,t.shader.bind(d),t.geometry.bind(n),this.state.blendMode=Vr(e.blendMode,l),t.state.set(this.state),t.geometry.draw(this.renderer.gl.TRIANGLES,6,0)}}Qc.extension={name:"tilingSprite",type:ci.RendererPlugin},fi.add(Qc);const Zc=class e{constructor(e,t,n){this.linkedSheets=[],(e instanceof Si||e instanceof js)&&(e={texture:e,data:t,resolutionFilename:n});const{texture:r,data:i,resolutionFilename:s=null,cachePrefix:o=""}=e;this.cachePrefix=o,this._texture=r instanceof js?r:null,this.baseTexture=r instanceof Si?r:this._texture.baseTexture,this.textures={},this.animations={},this.data=i;const a=this.baseTexture.resource;this.resolution=this._updateResolution(s||(a?a.url:null)),this._frames=this.data.frames,this._frameKeys=Object.keys(this._frames),this._batchIndex=0,this._callback=null}_updateResolution(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null;const{scale:t}=this.data.meta;let n=ui(e,null);return null===n&&(n="number"==typeof t?t:parseFloat(null!==t&&void 0!==t?t:"1")),1!==n&&this.baseTexture.setResolution(n),n}parse(){return new Promise(t=>{this._callback=t,this._batchIndex=0,this._frameKeys.length<=e.BATCH_SIZE?(this._processFrames(0),this._processAnimations(),this._parseComplete()):this._nextBatch()})}_processFrames(t){let n=t;const r=e.BATCH_SIZE;for(;n-t<r&&n<this._frameKeys.length;){const e=this._frameKeys[n],t=this._frames[e],r=t.frame;if(r){let n=null,i=null;const s=!1!==t.trimmed&&t.sourceSize?t.sourceSize:t.frame,o=new Hi(0,0,Math.floor(s.w)/this.resolution,Math.floor(s.h)/this.resolution);n=t.rotated?new Hi(Math.floor(r.x)/this.resolution,Math.floor(r.y)/this.resolution,Math.floor(r.h)/this.resolution,Math.floor(r.w)/this.resolution):new Hi(Math.floor(r.x)/this.resolution,Math.floor(r.y)/this.resolution,Math.floor(r.w)/this.resolution,Math.floor(r.h)/this.resolution),!1!==t.trimmed&&t.spriteSourceSize&&(i=new Hi(Math.floor(t.spriteSourceSize.x)/this.resolution,Math.floor(t.spriteSourceSize.y)/this.resolution,Math.floor(r.w)/this.resolution,Math.floor(r.h)/this.resolution)),this.textures[e]=new js(this.baseTexture,n,o,i,t.rotated?2:0,t.anchor,t.borders),js.addToCache(this.textures[e],this.cachePrefix+e.toString())}n++}}_processAnimations(){const e=this.data.animations||{};for(const t in e){this.animations[t]=[];for(let n=0;n<e[t].length;n++){const r=e[t][n];this.animations[t].push(this.textures[r])}}}_parseComplete(){const e=this._callback;this._callback=null,this._batchIndex=0,e.call(this,this.textures)}_nextBatch(){this._processFrames(this._batchIndex*e.BATCH_SIZE),this._batchIndex++,setTimeout(()=>{this._batchIndex*e.BATCH_SIZE<this._frameKeys.length?this._nextBatch():(this._processAnimations(),this._parseComplete())},0)}destroy(){var e;let t=arguments.length>0&&void 0!==arguments[0]&&arguments[0];for(const n in this.textures)this.textures[n].destroy();this._frames=null,this._frameKeys=null,this.data=null,this.textures=null,t&&(null!==(e=this._texture)&&void 0!==e&&e.destroy(),this.baseTexture.destroy()),this._texture=null,this.baseTexture=null,this.linkedSheets=[]}};Zc.BATCH_SIZE=1e3;let Jc=Zc;const $c=["jpg","png","jpeg","avif","webp","s3tc","s3tc_sRGB","etc","etc1","pvrtc","atc","astc","bptc"];function eh(e,t,n){const r={};if(e.forEach(e=>{r[e]=t}),Object.keys(t.textures).forEach(e=>{r["".concat(t.cachePrefix).concat(e)]=t.textures[e]}),!n){const n=cr.dirname(e[0]);t.linkedSheets.forEach((e,i)=>{Object.assign(r,eh(["".concat(n,"/").concat(t.data.meta.related_multi_packs[i])],e,!0))})}return r}const th={extension:ci.Asset,cache:{test:e=>e instanceof Jc,getCacheableAssets:(e,t)=>eh(e,t,!1)},resolver:{test:e=>{const t=e.split("?")[0].split("."),n=t.pop(),r=t.pop();return"json"===n&&$c.includes(r)},parse:e=>{var t,n;const r=e.split(".");return{resolution:parseFloat(null!==(t=null===(n=Bn.RETINA_PREFIX.exec(e))||void 0===n?void 0:n[1])&&void 0!==t?t:"1"),format:r[r.length-2],src:e}}},loader:{name:"spritesheetLoader",extension:{type:ci.LoadParser,priority:rl.Normal},testParse:async(e,t)=>".json"===cr.extname(t.src).toLowerCase()&&!!e.frames,async parse(e,t,n){var r,i;const{texture:s,imageFilename:o,cachePrefix:a}=null!==(r=null===t||void 0===t?void 0:t.data)&&void 0!==r?r:{};let l,u=cr.dirname(t.src);if(u&&u.lastIndexOf("/")!==u.length-1&&(u+="/"),s&&s.baseTexture)l=s;else{const r=Vl(u+(null!==o&&void 0!==o?o:e.meta.image),t.src);l=(await n.load([r]))[r]}const c=new Jc({texture:l.baseTexture,data:e,resolutionFilename:t.src,cachePrefix:a});await c.parse();const h=null===e||void 0===e||null===(i=e.meta)||void 0===i?void 0:i.related_multi_packs;if(Array.isArray(h)){const e=[];for(const i of h){var d;if("string"!=typeof i)continue;let r=u+i;(null===(d=t.data)||void 0===d?void 0:d.ignoreMultiPack)||(r=Vl(r,t.src),e.push(n.load({src:r,data:{ignoreMultiPack:!0}})))}const r=await Promise.all(e);c.linkedSheets=r,r.forEach(e=>{e.linkedSheets=[c].concat(c.linkedSheets.filter(t=>t!==e))})}return c},unload(e){e.destroy(!0)}}};fi.add(th);class nh{constructor(){this.info=[],this.common=[],this.page=[],this.char=[],this.kerning=[],this.distanceField=[]}}class rh{static test(e){return"string"==typeof e&&e.startsWith("info face=")}static parse(e){const t=e.match(/^[a-z]+\s+.+$/gm),n={info:[],common:[],page:[],char:[],chars:[],kerning:[],kernings:[],distanceField:[]};for(const i in t){const e=t[i].match(/^[a-z]+/gm)[0],r=t[i].match(/[a-zA-Z]+=([^\s"']+|"([^"]*)")/gm),s={};for(const t in r){const e=r[t].split("="),n=e[0],i=e[1].replace(/"/gm,""),o=parseFloat(i),a=isNaN(o)?i:o;s[n]=a}n[e].push(s)}const r=new nh;return n.info.forEach(e=>r.info.push({face:e.face,size:parseInt(e.size,10)})),n.common.forEach(e=>r.common.push({lineHeight:parseInt(e.lineHeight,10)})),n.page.forEach(e=>r.page.push({id:parseInt(e.id,10),file:e.file})),n.char.forEach(e=>r.char.push({id:parseInt(e.id,10),page:parseInt(e.page,10),x:parseInt(e.x,10),y:parseInt(e.y,10),width:parseInt(e.width,10),height:parseInt(e.height,10),xoffset:parseInt(e.xoffset,10),yoffset:parseInt(e.yoffset,10),xadvance:parseInt(e.xadvance,10)})),n.kerning.forEach(e=>r.kerning.push({first:parseInt(e.first,10),second:parseInt(e.second,10),amount:parseInt(e.amount,10)})),n.distanceField.forEach(e=>r.distanceField.push({distanceRange:parseInt(e.distanceRange,10),fieldType:e.fieldType})),r}}class ih{static test(e){const t=e;return"string"!=typeof e&&"getElementsByTagName"in e&&t.getElementsByTagName("page").length&&null!==t.getElementsByTagName("info")[0].getAttribute("face")}static parse(e){const t=new nh,n=e.getElementsByTagName("info"),r=e.getElementsByTagName("common"),i=e.getElementsByTagName("page"),s=e.getElementsByTagName("char"),o=e.getElementsByTagName("kerning"),a=e.getElementsByTagName("distanceField");for(let l=0;l<n.length;l++)t.info.push({face:n[l].getAttribute("face"),size:parseInt(n[l].getAttribute("size"),10)});for(let l=0;l<r.length;l++)t.common.push({lineHeight:parseInt(r[l].getAttribute("lineHeight"),10)});for(let l=0;l<i.length;l++)t.page.push({id:parseInt(i[l].getAttribute("id"),10)||0,file:i[l].getAttribute("file")});for(let l=0;l<s.length;l++){const e=s[l];t.char.push({id:parseInt(e.getAttribute("id"),10),page:parseInt(e.getAttribute("page"),10)||0,x:parseInt(e.getAttribute("x"),10),y:parseInt(e.getAttribute("y"),10),width:parseInt(e.getAttribute("width"),10),height:parseInt(e.getAttribute("height"),10),xoffset:parseInt(e.getAttribute("xoffset"),10),yoffset:parseInt(e.getAttribute("yoffset"),10),xadvance:parseInt(e.getAttribute("xadvance"),10)})}for(let l=0;l<o.length;l++)t.kerning.push({first:parseInt(o[l].getAttribute("first"),10),second:parseInt(o[l].getAttribute("second"),10),amount:parseInt(o[l].getAttribute("amount"),10)});for(let l=0;l<a.length;l++)t.distanceField.push({fieldType:a[l].getAttribute("fieldType"),distanceRange:parseInt(a[l].getAttribute("distanceRange"),10)});return t}}class sh{static test(e){return!("string"!=typeof e||!e.includes("<font>"))&&ih.test(Bn.ADAPTER.parseXML(e))}static parse(e){return ih.parse(Bn.ADAPTER.parseXML(e))}}const oh=[rh,ih,sh];function ah(e,t,n,r,i,s,o){const a=n.text,l=n.fontProperties;t.translate(r,i),t.scale(s,s);const u=o.strokeThickness/2,c=-o.strokeThickness/2;if(t.font=o.toFontString(),t.lineWidth=o.strokeThickness,t.textBaseline=o.textBaseline,t.lineJoin=o.lineJoin,t.miterLimit=o.miterLimit,t.fillStyle=function(e,t,n,r,i,s){const o=n.fill;if(!Array.isArray(o))return o;if(1===o.length)return o[0];let a;const l=n.dropShadow?n.dropShadowDistance:0,u=n.padding||0,c=e.width/r-l-2*u,h=e.height/r-l-2*u,d=o.slice(),f=n.fillGradientStops.slice();if(!f.length){const e=d.length+1;for(let t=1;t<e;++t)f.push(t/e)}if(d.unshift(o[0]),f.unshift(0),d.push(o[o.length-1]),f.push(1),n.fillGradientType===xc.LINEAR_VERTICAL){a=t.createLinearGradient(c/2,u,c/2,h+u);let e=0;const r=(s.fontProperties.fontSize+n.strokeThickness)/h;for(let t=0;t<i.length;t++){const n=s.lineHeight*t;for(let t=0;t<d.length;t++){let i=0;i="number"==typeof f[t]?f[t]:t/d.length;const s=n/h+i*r;let o=Math.max(e,s);o=Math.min(o,1),a.addColorStop(o,d[t]),e=o}}}else{a=t.createLinearGradient(u,h/2,c+u,h/2);const e=d.length+1;let n=1;for(let t=0;t<d.length;t++){let r;r="number"==typeof f[t]?f[t]:n/e,a.addColorStop(r,d[t]),n++}}return a}(e,t,o,s,[a],n),t.strokeStyle=o.stroke,o.dropShadow){const e=o.dropShadowColor,n=o.dropShadowBlur*s,r=o.dropShadowDistance*s;t.shadowColor=jr.shared.setValue(e).setAlpha(o.dropShadowAlpha).toRgbaString(),t.shadowBlur=n,t.shadowOffsetX=Math.cos(o.dropShadowAngle)*r,t.shadowOffsetY=Math.sin(o.dropShadowAngle)*r}else t.shadowColor="black",t.shadowBlur=0,t.shadowOffsetX=0,t.shadowOffsetY=0;o.stroke&&o.strokeThickness&&t.strokeText(a,u,c+n.lineHeight-l.descent),o.fill&&t.fillText(a,u,c+n.lineHeight-l.descent),t.setTransform(1,0,0,1,0,0),t.fillStyle="rgba(0, 0, 0, 0)"}function lh(e){return Array.from?Array.from(e):e.split("")}function uh(e){return e.codePointAt?e.codePointAt(0):e.charCodeAt(0)}const ch=["chars","padding","resolution","textureWidth","textureHeight"],hh=class e{constructor(e,t,n){var r,i;const[s]=e.info,[o]=e.common,[a]=e.page,[l]=e.distanceField,u=ui(a.file),c={};this._ownsTextures=n,this.font=s.face,this.size=s.size,this.lineHeight=o.lineHeight/u,this.chars={},this.pageTextures=c;for(let h=0;h<e.page.length;h++){const{id:n,file:r}=e.page[h];c[n]=t instanceof Array?t[h]:t[r],(null===l||void 0===l?void 0:l.fieldType)&&"none"!==l.fieldType&&(c[n].baseTexture.alphaMode=Pn.NO_PREMULTIPLIED_ALPHA,c[n].baseTexture.mipmap=Rn.OFF)}for(let h=0;h<e.char.length;h++){const{id:t,page:n}=e.char[h];let{x:r,y:i,width:s,height:o,xoffset:a,yoffset:l,xadvance:d}=e.char[h];r/=u,i/=u,s/=u,o/=u,a/=u,l/=u,d/=u;const f=new Hi(r+c[n].frame.x/u,i+c[n].frame.y/u,s,o);this.chars[t]={xOffset:a,yOffset:l,xAdvance:d,kerning:{},texture:new js(c[n].baseTexture,f),page:n}}for(let h=0;h<e.kerning.length;h++){let{first:t,second:n,amount:r}=e.kerning[h];t/=u,n/=u,r/=u,this.chars[n]&&(this.chars[n].kerning[t]=r)}this.distanceFieldRange=null===l||void 0===l?void 0:l.distanceRange,this.distanceFieldType=null!==(r=null===l||void 0===l||null===(i=l.fieldType)||void 0===i?void 0:i.toLowerCase())&&void 0!==r?r:"none"}destroy(){for(const e in this.chars)this.chars[e].texture.destroy(),this.chars[e].texture=null;for(const e in this.pageTextures)this._ownsTextures&&this.pageTextures[e].destroy(!0),this.pageTextures[e]=null;this.chars=null,this.pageTextures=null}static install(t,n,r){let i;if(t instanceof nh)i=t;else{const e=function(e){for(let t=0;t<oh.length;t++)if(oh[t].test(e))return oh[t];return null}(t);if(!e)throw new Error("Unrecognized data format for font.");i=e.parse(t)}n instanceof js&&(n=[n]);const s=new e(i,n,r);return e.available[s.font]=s,s}static uninstall(t){const n=e.available[t];if(!n)throw new Error("No font found named '".concat(t,"'"));n.destroy(),delete e.available[t]}static from(t,n,r){if(!t)throw new Error("[BitmapFont] Property `name` is required.");const s=Object.assign({},e.defaultOptions,r),{chars:o,padding:a,resolution:l,textureWidth:c,textureHeight:h}=s,d=i(s,ch),f=function(e){"string"==typeof e&&(e=[e]);const t=[];for(let n=0,r=e.length;n<r;n++){const r=e[n];if(Array.isArray(r)){if(2!==r.length)throw new Error("[BitmapFont]: Invalid character range length, expecting 2 got ".concat(r.length,"."));const e=r[0].charCodeAt(0),n=r[1].charCodeAt(0);if(n<e)throw new Error("[BitmapFont]: Invalid character range.");for(let r=e,i=n;r<=i;r++)t.push(String.fromCharCode(r))}else t.push(...lh(r))}if(0===t.length)throw new Error("[BitmapFont]: Empty set when resolving characters.");return t}(o),p=n instanceof Cc?n:new Cc(n),m=c,g=new nh;g.info[0]={face:p.fontFamily,size:p.fontSize},g.common[0]={lineHeight:p.fontSize};let y,v,b,_=0,x=0,w=0;const A=[],E=[];for(let e=0;e<f.length;e++){y||(y=Bn.ADAPTER.createCanvas(),y.width=c,y.height=h,v=y.getContext("2d"),b=new Si(y,u({resolution:l},d)),A.push(b),E.push(new js(b)),g.page.push({id:E.length-1,file:""}));const t=f[e],n=Ec.measureText(t,p,!1,y),r=n.width,i=Math.ceil(n.height),s=Math.ceil(("italic"===p.fontStyle?2:1)*r);if(x>=h-i*l){if(0===x)throw new Error("[BitmapFont] textureHeight ".concat(h,"px is too small (fontFamily: '").concat(p.fontFamily,"', fontSize: ").concat(p.fontSize,"px, char: '").concat(t,"')"));--e,y=null,v=null,b=null,x=0,_=0,w=0;continue}if(w=Math.max(i+n.fontProperties.descent,w),s*l+_>=m){if(0===_)throw new Error("[BitmapFont] textureWidth ".concat(c,"px is too small (fontFamily: '").concat(p.fontFamily,"', fontSize: ").concat(p.fontSize,"px, char: '").concat(t,"')"));--e,x+=w*l,x=Math.ceil(x),_=0,w=0;continue}ah(y,v,n,_,x,l,p);const o=uh(n.text);g.char.push({id:o,page:E.length-1,x:_/l,y:x/l,width:s,height:i,xoffset:0,yoffset:0,xadvance:r-(p.dropShadow?p.dropShadowDistance:0)-(p.stroke?p.strokeThickness:0)}),_+=(s+2*a)*l,_=Math.ceil(_)}if(null===r||void 0===r||!r.skipKerning)for(let e=0,i=f.length;e<i;e++){const t=f[e];for(let e=0;e<i;e++){const n=f[e],r=v.measureText(t).width,i=v.measureText(n).width,s=v.measureText(t+n).width-(r+i);s&&g.kerning.push({first:uh(t),second:uh(n),amount:s})}}const S=new e(g,E,!0);return void 0!==e.available[t]&&e.uninstall(t),e.available[t]=S,S}};hh.ALPHA=[["a","z"],["A","Z"]," "],hh.NUMERIC=[["0","9"]],hh.ALPHANUMERIC=[["a","z"],["A","Z"],["0","9"]," "],hh.ASCII=[[" ","~"]],hh.defaultOptions={resolution:1,textureWidth:512,textureHeight:512,padding:4,chars:hh.ALPHANUMERIC},hh.available={};let dh=hh;const fh=[],ph=[],mh=[],gh=class e extends xa{constructor(t){let n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};super();const{align:r,tint:i,maxWidth:s,letterSpacing:o,fontName:a,fontSize:l}=Object.assign({},e.styleDefaults,n);if(!dh.available[a])throw new Error('Missing BitmapFont "'.concat(a,'"'));this._activePagesMeshData=[],this._textWidth=0,this._textHeight=0,this._align=r,this._tintColor=new jr(i),this._font=void 0,this._fontName=a,this._fontSize=l,this.text=t,this._maxWidth=s,this._maxLineHeight=0,this._letterSpacing=o,this._anchor=new ns(()=>{this.dirty=!0},this,0,0),this._roundPixels=Bn.ROUND_PIXELS,this.dirty=!0,this._resolution=Bn.RESOLUTION,this._autoResolution=!0,this._textureCache={}}updateText(){const e=dh.available[this._fontName],t=this.fontSize,n=t/e.size,r=new Gi,i=[],s=[],o=[],a=lh(this._text.replace(/(?:\r\n|\r)/g,"\n")||" "),l=this._maxWidth*e.size/t,u="none"===e.distanceFieldType?fh:ph;let c=null,h=0,d=0,f=0,p=-1,m=0,g=0,y=0,v=0;for(let T=0;T<a.length;T++){const t=a[T],n=uh(t);if(/(?:\s)/.test(t)&&(p=T,m=h,v++),"\r"===t||"\n"===t){s.push(h),o.push(-1),d=Math.max(d,h),++f,++g,r.x=0,r.y+=e.lineHeight,c=null,v=0;continue}const u=e.chars[n];if(!u)continue;c&&u.kerning[c]&&(r.x+=u.kerning[c]);const b=mh.pop()||{texture:js.EMPTY,line:0,charCode:0,prevSpaces:0,position:new Gi};b.texture=u.texture,b.line=f,b.charCode=n,b.position.x=Math.round(r.x+u.xOffset+this._letterSpacing/2),b.position.y=Math.round(r.y+u.yOffset),b.prevSpaces=v,i.push(b),h=b.position.x+Math.max(u.xAdvance-u.xOffset,u.texture.orig.width),r.x+=u.xAdvance+this._letterSpacing,y=Math.max(y,u.yOffset+u.texture.height),c=n,-1!==p&&l>0&&r.x>l&&(++g,Qr(i,1+p-g,1+T-p),T=p,p=-1,s.push(m),o.push(i.length>0?i[i.length-1].prevSpaces:0),d=Math.max(d,m),f++,r.x=0,r.y+=e.lineHeight,c=null,v=0)}const b=a[a.length-1];"\r"!==b&&"\n"!==b&&(/(?:\s)/.test(b)&&(h=m),s.push(h),d=Math.max(d,h),o.push(-1));const _=[];for(let T=0;T<=f;T++){let e=0;"right"===this._align?e=d-s[T]:"center"===this._align?e=(d-s[T])/2:"justify"===this._align&&(e=o[T]<0?0:(d-s[T])/o[T]),_.push(e)}const x=i.length,w={},A=[],E=this._activePagesMeshData;u.push(...E);for(let T=0;T<x;T++){const t=i[T].texture,n=t.baseTexture.uid;if(!w[n]){let r=u.pop();if(!r){const t=new yc;let n,i;"none"===e.distanceFieldType?(n=new vc(js.EMPTY),i=xn.NORMAL):(n=new vc(js.EMPTY,{program:xs.from("// Mesh material default fragment\r\nattribute vec2 aVertexPosition;\r\nattribute vec2 aTextureCoord;\r\n\r\nuniform mat3 projectionMatrix;\r\nuniform mat3 translationMatrix;\r\nuniform mat3 uTextureMatrix;\r\n\r\nvarying vec2 vTextureCoord;\r\n\r\nvoid main(void)\r\n{\r\n    gl_Position = vec4((projectionMatrix * translationMatrix * vec3(aVertexPosition, 1.0)).xy, 0.0, 1.0);\r\n\r\n    vTextureCoord = (uTextureMatrix * vec3(aTextureCoord, 1.0)).xy;\r\n}\r\n","// Pixi texture info\r\nvarying vec2 vTextureCoord;\r\nuniform sampler2D uSampler;\r\n\r\n// Tint\r\nuniform vec4 uColor;\r\n\r\n// on 2D applications fwidth is screenScale / glyphAtlasScale * distanceFieldRange\r\nuniform float uFWidth;\r\n\r\nvoid main(void) {\r\n\r\n  // To stack MSDF and SDF we need a non-pre-multiplied-alpha texture.\r\n  vec4 texColor = texture2D(uSampler, vTextureCoord);\r\n\r\n  // MSDF\r\n  float median = texColor.r + texColor.g + texColor.b -\r\n                  min(texColor.r, min(texColor.g, texColor.b)) -\r\n                  max(texColor.r, max(texColor.g, texColor.b));\r\n  // SDF\r\n  median = min(median, texColor.a);\r\n\r\n  float screenPxDistance = uFWidth * (median - 0.5);\r\n  float alpha = clamp(screenPxDistance + 0.5, 0.0, 1.0);\r\n  if (median < 0.01) {\r\n    alpha = 0.0;\r\n  } else if (median > 0.99) {\r\n    alpha = 1.0;\r\n  }\r\n\r\n  // Gamma correction for coverage-like alpha\r\n  float luma = dot(uColor.rgb, vec3(0.299, 0.587, 0.114));\r\n  float gamma = mix(1.0, 1.0 / 2.2, luma);\r\n  float coverage = pow(uColor.a * alpha, gamma);  \r\n\r\n  // NPM Textures, NPM outputs\r\n  gl_FragColor = vec4(uColor.rgb, coverage);\r\n}\r\n"),uniforms:{uFWidth:0}}),i=xn.NORMAL_NPM);const s=new gc(t,n);s.blendMode=i,r={index:0,indexCount:0,vertexCount:0,uvsCount:0,total:0,mesh:s,vertices:null,uvs:null,indices:null}}r.index=0,r.indexCount=0,r.vertexCount=0,r.uvsCount=0,r.total=0;const{_textureCache:i}=this;i[n]=i[n]||new js(t.baseTexture),r.mesh.texture=i[n],r.mesh.tint=this._tintColor.value,A.push(r),w[n]=r}w[n].total++}for(let T=0;T<E.length;T++)A.includes(E[T])||this.removeChild(E[T].mesh);for(let T=0;T<A.length;T++)A[T].mesh.parent!==this&&this.addChild(A[T].mesh);this._activePagesMeshData=A;for(const T in w){var S;const e=w[T],t=e.total;if(!((null===(S=e.indices)||void 0===S?void 0:S.length)>6*t)||e.vertices.length<2*gc.BATCHABLE_SIZE)e.vertices=new Float32Array(8*t),e.uvs=new Float32Array(8*t),e.indices=new Uint16Array(6*t);else{const t=e.total,n=e.vertices;for(let e=4*t*2;e<n.length;e++)n[e]=0}e.mesh.size=6*t}for(let T=0;T<x;T++){const e=i[T];let t=e.position.x+_[e.line]*("justify"===this._align?e.prevSpaces:1);this._roundPixels&&(t=Math.round(t));const r=t*n,s=e.position.y*n,o=e.texture,a=w[o.baseTexture.uid],l=o.frame,u=o._uvs,c=a.index++;a.indices[6*c+0]=0+4*c,a.indices[6*c+1]=1+4*c,a.indices[6*c+2]=2+4*c,a.indices[6*c+3]=0+4*c,a.indices[6*c+4]=2+4*c,a.indices[6*c+5]=3+4*c,a.vertices[8*c+0]=r,a.vertices[8*c+1]=s,a.vertices[8*c+2]=r+l.width*n,a.vertices[8*c+3]=s,a.vertices[8*c+4]=r+l.width*n,a.vertices[8*c+5]=s+l.height*n,a.vertices[8*c+6]=r,a.vertices[8*c+7]=s+l.height*n,a.uvs[8*c+0]=u.x0,a.uvs[8*c+1]=u.y0,a.uvs[8*c+2]=u.x1,a.uvs[8*c+3]=u.y1,a.uvs[8*c+4]=u.x2,a.uvs[8*c+5]=u.y2,a.uvs[8*c+6]=u.x3,a.uvs[8*c+7]=u.y3}this._textWidth=d*n,this._textHeight=(r.y+e.lineHeight)*n;for(const T in w){const e=w[T];if(0!==this.anchor.x||0!==this.anchor.y){let t=0;const n=this._textWidth*this.anchor.x,r=this._textHeight*this.anchor.y;for(let i=0;i<e.total;i++)e.vertices[t++]-=n,e.vertices[t++]-=r,e.vertices[t++]-=n,e.vertices[t++]-=r,e.vertices[t++]-=n,e.vertices[t++]-=r,e.vertices[t++]-=n,e.vertices[t++]-=r}this._maxLineHeight=y*n;const t=e.mesh.geometry.getBuffer("aVertexPosition"),r=e.mesh.geometry.getBuffer("aTextureCoord"),i=e.mesh.geometry.getIndex();t.data=e.vertices,r.data=e.uvs,i.data=e.indices,t.update(),r.update(),i.update()}for(let T=0;T<i.length;T++)mh.push(i[T]);this._font=e,this.dirty=!1}updateTransform(){this.validate(),this.containerUpdateTransform()}_render(e){this._autoResolution&&this._resolution!==e.resolution&&(this._resolution=e.resolution,this.dirty=!0);const{distanceFieldRange:t,distanceFieldType:n,size:r}=dh.available[this._fontName];if("none"!==n){const{a:n,b:i,c:s,d:o}=this.worldTransform,a=Math.sqrt(n*n+i*i),l=Math.sqrt(s*s+o*o),u=(Math.abs(a)+Math.abs(l))/2,c=this.fontSize/r,h=e._view.resolution;for(const e of this._activePagesMeshData)e.mesh.shader.uniforms.uFWidth=u*t*c*h}super._render(e)}getLocalBounds(){return this.validate(),super.getLocalBounds()}validate(){const e=dh.available[this._fontName];if(!e)throw new Error('Missing BitmapFont "'.concat(this._fontName,'"'));this._font!==e&&(this.dirty=!0),this.dirty&&this.updateText()}get tint(){return this._tintColor.value}set tint(e){if(this.tint!==e){this._tintColor.setValue(e);for(let t=0;t<this._activePagesMeshData.length;t++)this._activePagesMeshData[t].mesh.tint=e}}get align(){return this._align}set align(e){this._align!==e&&(this._align=e,this.dirty=!0)}get fontName(){return this._fontName}set fontName(e){if(!dh.available[e])throw new Error('Missing BitmapFont "'.concat(e,'"'));this._fontName!==e&&(this._fontName=e,this.dirty=!0)}get fontSize(){var e;return null!==(e=this._fontSize)&&void 0!==e?e:dh.available[this._fontName].size}set fontSize(e){this._fontSize!==e&&(this._fontSize=e,this.dirty=!0)}get anchor(){return this._anchor}set anchor(e){"number"==typeof e?this._anchor.set(e):this._anchor.copyFrom(e)}get text(){return this._text}set text(e){e=String(null!==e&&void 0!==e?e:""),this._text!==e&&(this._text=e,this.dirty=!0)}get maxWidth(){return this._maxWidth}set maxWidth(e){this._maxWidth!==e&&(this._maxWidth=e,this.dirty=!0)}get maxLineHeight(){return this.validate(),this._maxLineHeight}get textWidth(){return this.validate(),this._textWidth}get letterSpacing(){return this._letterSpacing}set letterSpacing(e){this._letterSpacing!==e&&(this._letterSpacing=e,this.dirty=!0)}get roundPixels(){return this._roundPixels}set roundPixels(e){e!==this._roundPixels&&(this._roundPixels=e,this.dirty=!0)}get textHeight(){return this.validate(),this._textHeight}get resolution(){return this._resolution}set resolution(e){this._autoResolution=!1,this._resolution!==e&&(this._resolution=e,this.dirty=!0)}destroy(e){const{_textureCache:t}=this,n="none"===dh.available[this._fontName].distanceFieldType?fh:ph;n.push(...this._activePagesMeshData);for(const r of this._activePagesMeshData)this.removeChild(r.mesh);this._activePagesMeshData=[],n.filter(e=>t[e.mesh.texture.baseTexture.uid]).forEach(e=>{e.mesh.texture=js.EMPTY});for(const r in t)t[r].destroy(),delete t[r];this._font=null,this._tintColor=null,this._textureCache=null,super.destroy(e)}};gh.styleDefaults={align:"left",tint:16777215,maxWidth:0,letterSpacing:0};const yh=[".xml",".fnt"],vh={extension:{type:ci.LoadParser,priority:rl.Normal},name:"loadBitmapFont",test:e=>yh.includes(cr.extname(e).toLowerCase()),testParse:async e=>rh.test(e)||sh.test(e),async parse(e,t,n){const r=rh.test(e)?rh.parse(e):sh.parse(e),{src:i}=t,{page:s}=r,o=[];for(let u=0;u<s.length;++u){const e=s[u].file;let t=cr.join(cr.dirname(i),e);t=Vl(t,i),o.push(t)}const a=await n.load(o),l=o.map(e=>a[e]);return dh.install(r,l,!0)},load:async(e,t)=>(await Bn.ADAPTER.fetch(e)).text(),unload(e){e.destroy()}};fi.add(vh);const bh=class e extends Cc{constructor(){super(...arguments),this._fonts=[],this._overrides=[],this._stylesheet="",this.fontsDirty=!1}static from(t){return new e(Object.keys(e.defaultOptions).reduce((e,n)=>u(u({},e),{},{[n]:t[n]}),{}))}cleanFonts(){this._fonts.length>0&&(this._fonts.forEach(t=>{URL.revokeObjectURL(t.src),t.refs--,0===t.refs&&(t.fontFace&&document.fonts.delete(t.fontFace),delete e.availableFonts[t.originalUrl])}),this.fontFamily="Arial",this._fonts.length=0,this.styleID++,this.fontsDirty=!0)}loadFont(t){let n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};const{availableFonts:r}=e;if(r[t]){const e=r[t];return this._fonts.push(e),e.refs++,this.styleID++,this.fontsDirty=!0,Promise.resolve()}return Bn.ADAPTER.fetch(t).then(e=>e.blob()).then(async e=>new Promise((t,n)=>{const r=URL.createObjectURL(e),i=new FileReader;i.onload=()=>t([r,i.result]),i.onerror=n,i.readAsDataURL(e)})).then(async e=>{let[i,s]=e;const o=Object.assign({family:cr.basename(t,cr.extname(t)),weight:"normal",style:"normal",display:"auto",src:i,dataSrc:s,refs:1,originalUrl:t,fontFace:null},n);r[t]=o,this._fonts.push(o),this.styleID++;const a=new FontFace(o.family,"url(".concat(o.src,")"),{weight:o.weight,style:o.style,display:o.display});o.fontFace=a,await a.load(),document.fonts.add(a),await document.fonts.ready,this.styleID++,this.fontsDirty=!0})}addOverride(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];const r=t.filter(e=>!this._overrides.includes(e));r.length>0&&(this._overrides.push(...r),this.styleID++)}removeOverride(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];const r=t.filter(e=>this._overrides.includes(e));r.length>0&&(this._overrides=this._overrides.filter(e=>!r.includes(e)),this.styleID++)}toCSS(e){return["transform: scale(".concat(e,")"),"transform-origin: top left","display: inline-block","color: ".concat(this.normalizeColor(this.fill)),"font-size: ".concat(this.fontSize,"px"),"font-family: ".concat(this.fontFamily),"font-weight: ".concat(this.fontWeight),"font-style: ".concat(this.fontStyle),"font-variant: ".concat(this.fontVariant),"letter-spacing: ".concat(this.letterSpacing,"px"),"text-align: ".concat(this.align),"padding: ".concat(this.padding,"px"),"white-space: ".concat(this.whiteSpace),...this.lineHeight?["line-height: ".concat(this.lineHeight,"px")]:[],...this.wordWrap?["word-wrap: ".concat(this.breakWords?"break-all":"break-word"),"max-width: ".concat(this.wordWrapWidth,"px")]:[],...this.strokeThickness?["-webkit-text-stroke-width: ".concat(this.strokeThickness,"px"),"-webkit-text-stroke-color: ".concat(this.normalizeColor(this.stroke)),"text-stroke-width: ".concat(this.strokeThickness,"px"),"text-stroke-color: ".concat(this.normalizeColor(this.stroke)),"paint-order: stroke"]:[],...this.dropShadow?[this.dropShadowToCSS()]:[],...this._overrides].join(";")}toGlobalCSS(){return this._fonts.reduce((e,t)=>"".concat(e,'\n            @font-face {\n                font-family: "').concat(t.family,"\";\n                src: url('").concat(t.dataSrc,"');\n                font-weight: ").concat(t.weight,";\n                font-style: ").concat(t.style,";\n                font-display: ").concat(t.display,";\n            }"),this._stylesheet)}get stylesheet(){return this._stylesheet}set stylesheet(e){this._stylesheet!==e&&(this._stylesheet=e,this.styleID++)}normalizeColor(e){return Array.isArray(e)&&(n=e,ar("7.2.0","utils.rgb2hex is deprecated, use Color#toNumber instead"),e=jr.shared.setValue(n).toNumber()),"number"==typeof e?(t=e,ar("7.2.0","utils.hex2string is deprecated, use Color#toHex instead"),jr.shared.setValue(t).toHex()):e;var t,n}dropShadowToCSS(){let e=this.normalizeColor(this.dropShadowColor);const t=this.dropShadowAlpha,n=Math.round(Math.cos(this.dropShadowAngle)*this.dropShadowDistance),r=Math.round(Math.sin(this.dropShadowAngle)*this.dropShadowDistance);e.startsWith("#")&&t<1&&(e+=(255*t|0).toString(16).padStart(2,"0"));const i="".concat(n,"px ").concat(r,"px");return this.dropShadowBlur>0?"text-shadow: ".concat(i," ").concat(this.dropShadowBlur,"px ").concat(e):"text-shadow: ".concat(i," ").concat(e)}reset(){Object.assign(this,e.defaultOptions)}onBeforeDraw(){const{fontsDirty:e}=this;return this.fontsDirty=!1,this.isSafari&&this._fonts.length>0&&e?new Promise(e=>setTimeout(e,100)):Promise.resolve()}get isSafari(){const{userAgent:e}=Bn.ADAPTER.getNavigator();return/^((?!chrome|android).)*safari/i.test(e)}set fillGradientStops(e){console.warn("[HTMLTextStyle] fillGradientStops is not supported by HTMLText")}get fillGradientStops(){return super.fillGradientStops}set fillGradientType(e){console.warn("[HTMLTextStyle] fillGradientType is not supported by HTMLText")}get fillGradientType(){return super.fillGradientType}set miterLimit(e){console.warn("[HTMLTextStyle] miterLimit is not supported by HTMLText")}get miterLimit(){return super.miterLimit}set trim(e){console.warn("[HTMLTextStyle] trim is not supported by HTMLText")}get trim(){return super.trim}set textBaseline(e){console.warn("[HTMLTextStyle] textBaseline is not supported by HTMLText")}get textBaseline(){return super.textBaseline}set leading(e){console.warn("[HTMLTextStyle] leading is not supported by HTMLText")}get leading(){return super.leading}set lineJoin(e){console.warn("[HTMLTextStyle] lineJoin is not supported by HTMLText")}get lineJoin(){return super.lineJoin}};bh.availableFonts={},bh.defaultOptions={align:"left",breakWords:!1,dropShadow:!1,dropShadowAlpha:1,dropShadowAngle:Math.PI/6,dropShadowBlur:0,dropShadowColor:"black",dropShadowDistance:5,fill:"black",fontFamily:"Arial",fontSize:26,fontStyle:"normal",fontVariant:"normal",fontWeight:"normal",letterSpacing:0,lineHeight:0,padding:0,stroke:"black",strokeThickness:0,whiteSpace:"normal",wordWrap:!1,wordWrapWidth:100};let _h=bh;const xh=class e extends Ea{constructor(){var t;let n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};super(js.EMPTY),this._text=null,this._style=null,this._autoResolution=!0,this.localStyleID=-1,this.dirty=!1,this._updateID=0,this.ownsStyle=!1;const i=new Image,s=js.from(i,{scaleMode:Bn.SCALE_MODE,resourceOptions:{autoLoad:!1}});s.orig=new Hi,s.trim=new Hi,this.texture=s;const o="http://www.w3.org/2000/svg",a="http://www.w3.org/1999/xhtml",l=document.createElementNS(o,"svg"),u=document.createElementNS(o,"foreignObject"),c=document.createElementNS(a,"div"),h=document.createElementNS(a,"style");u.setAttribute("width","10000"),u.setAttribute("height","10000"),u.style.overflow="hidden",l.appendChild(u),this.maxWidth=e.defaultMaxWidth,this.maxHeight=e.defaultMaxHeight,this._domElement=c,this._styleElement=h,this._svgRoot=l,this._foreignObject=u,this._foreignObject.appendChild(h),this._foreignObject.appendChild(c),this._image=i,this._loadImage=new Image,this._autoResolution=e.defaultAutoResolution,this._resolution=null!==(t=e.defaultResolution)&&void 0!==t?t:Bn.RESOLUTION,this.text=n,this.style=r}measureText(e){var t,n;const{text:r,style:i,resolution:s}=Object.assign({text:this._text,style:this._style,resolution:this._resolution},e);Object.assign(this._domElement,{innerHTML:r,style:i.toCSS(s)}),this._styleElement.textContent=i.toGlobalCSS(),document.body.appendChild(this._svgRoot);const o=this._domElement.getBoundingClientRect();this._svgRoot.remove();const{width:a,height:l}=o;(a>this.maxWidth||l>this.maxHeight)&&console.warn("[HTMLText] Large expanse of text, increase HTMLText.maxWidth or HTMLText.maxHeight property.");const u=Math.min(this.maxWidth,Math.ceil(a)),c=Math.min(this.maxHeight,Math.ceil(l));return this._svgRoot.setAttribute("width",u.toString()),this._svgRoot.setAttribute("height",c.toString()),r!==this._text&&(this._domElement.innerHTML=this._text),i!==this._style&&(Object.assign(this._domElement,{style:null===(t=this._style)||void 0===t?void 0:t.toCSS(s)}),this._styleElement.textContent=null===(n=this._style)||void 0===n?void 0:n.toGlobalCSS()),{width:u+2*i.padding,height:c+2*i.padding}}async updateText(){let e=!(arguments.length>0&&void 0!==arguments[0])||arguments[0];const{style:t,_image:n,_loadImage:r}=this;if(this.localStyleID!==t.styleID&&(this.dirty=!0,this.localStyleID=t.styleID),!this.dirty&&e)return;const{width:i,height:s}=this.measureText();n.width=r.width=Math.ceil(Math.max(1,i)),n.height=r.height=Math.ceil(Math.max(1,s)),this._updateID++;const o=this._updateID;await new Promise(e=>{r.onload=async()=>{o<this._updateID||(await t.onBeforeDraw(),n.src=r.src,r.onload=null,r.src="",this.updateTexture()),e()};const i=(new XMLSerializer).serializeToString(this._svgRoot);r.src="data:image/svg+xml;charset=utf8,".concat(encodeURIComponent(i))})}get source(){return this._image}updateTexture(){const{style:e,texture:t,_image:n,resolution:r}=this,{padding:i}=e,{baseTexture:s}=t;t.trim.width=t._frame.width=n.width/r,t.trim.height=t._frame.height=n.height/r,t.trim.x=-i,t.trim.y=-i,t.orig.width=t._frame.width-2*i,t.orig.height=t._frame.height-2*i,this._onTextureUpdate(),s.setRealSize(n.width,n.height,r),this.dirty=!1}_render(e){this._autoResolution&&this._resolution!==e.resolution&&(this._resolution=e.resolution,this.dirty=!0),this.updateText(!0),super._render(e)}_renderCanvas(e){this._autoResolution&&this._resolution!==e.resolution&&(this._resolution=e.resolution,this.dirty=!0),this.updateText(!0),super._renderCanvas(e)}getLocalBounds(e){return this.updateText(!0),super.getLocalBounds(e)}_calculateBounds(){this.updateText(!0),this.calculateVertices(),this._bounds.addQuad(this.vertexData)}_onStyleChange(){this.dirty=!0}destroy(t){var n,r,i,s,o;"boolean"==typeof t&&(t={children:t}),t=Object.assign({},e.defaultDestroyOptions,t),super.destroy(t);const a=null;this.ownsStyle&&null!==(n=this._style)&&void 0!==n&&n.cleanFonts(),this._style=a,null!==(r=this._svgRoot)&&void 0!==r&&r.remove(),this._svgRoot=a,null!==(i=this._domElement)&&void 0!==i&&i.remove(),this._domElement=a,null!==(s=this._foreignObject)&&void 0!==s&&s.remove(),this._foreignObject=a,null!==(o=this._styleElement)&&void 0!==o&&o.remove(),this._styleElement=a,this._loadImage.src="",this._loadImage.onload=null,this._loadImage=a,this._image.src="",this._image=a}get width(){return this.updateText(!0),Math.abs(this.scale.x)*this._image.width/this.resolution}set width(e){this.updateText(!0);const t=Zr(this.scale.x)||1;this.scale.x=t*e/this._image.width/this.resolution,this._width=e}get height(){return this.updateText(!0),Math.abs(this.scale.y)*this._image.height/this.resolution}set height(e){this.updateText(!0);const t=Zr(this.scale.y)||1;this.scale.y=t*e/this._image.height/this.resolution,this._height=e}get style(){return this._style}set style(e){this._style!==e&&((e=e||{})instanceof _h?(this.ownsStyle=!1,this._style=e):e instanceof Cc?(console.warn("[HTMLText] Cloning TextStyle, if this is not what you want, use HTMLTextStyle"),this.ownsStyle=!0,this._style=_h.from(e)):(this.ownsStyle=!0,this._style=new _h(e)),this.localStyleID=-1,this.dirty=!0)}get text(){return this._text}set text(e){e=String(""===e||null===e||void 0===e?" ":e),e=this.sanitiseText(e),this._text!==e&&(this._text=e,this.dirty=!0)}get resolution(){return this._resolution}set resolution(e){this._autoResolution=!1,this._resolution!==e&&(this._resolution=e,this.dirty=!0)}sanitiseText(e){return e.replace(/<br>/gi,"<br/>").replace(/<hr>/gi,"<hr/>").replace(/&nbsp;/gi,"&#160;")}};xh.defaultDestroyOptions={texture:!0,children:!1,baseTexture:!0},xh.defaultMaxWidth=2024,xh.defaultMaxHeight=2024,xh.defaultAutoResolution=!0;const wh=rn("town"),Ah=rn("game"),Eh=rn({}),Sh=rn(new Set),Th=(rn(null),rn({x:112,y:240,dir:"down",moving:!1})),Ch=rn(0),kh=rn(null),Rh=rn(null),Ph=rn(null),Ih=rn(null),Mh=rn(null),Dh=32;const Oh={town:{id:"town",name:"Siyeon Town",tiles:[[1,1,1,1,2,1,2,3,1,1,1,1,1,10,8,8,12,3,1,2,2,1,2,3,1,1,1,1,1,1,2,10,8,8,1,1,1,1,2,3,2,1,3,1,2,2,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1],[1,1,2,1,1,2,1,2,1,1,1,1,1,1,10,12,1,1,2,1,1,1,1,1,1,1,1,1,1,2,1,2,10,12,1,1,1,3,3,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1],[1,2,1,1,2,1,1,2,1,1,1,1,1,1,13,1,2,1,1,1,1,3,2,1,1,1,1,1,1,2,1,1,2,1,1,1,1,1,1,1,2,1,1,1,1,3,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1],[1,1,2,1,2,2,2,3,1,1,1,1,1,1,13,1,1,1,1,1,2,1,3,1,2,13,13,13,1,1,1,2,1,1,1,1,1,1,2,1,3,1,1,1,1,2,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1],[2,1,1,1,1,1,1,1,1,1,1,1,1,1,1,13,1,1,1,13,1,2,1,13,13,1,1,1,13,13,1,3,2,13,13,1,13,2,1,1,1,1,1,1,2,1,2,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1],[2,1,1,2,2,1,1,1,1,3,1,13,13,13,13,13,13,13,13,13,2,1,13,2,1,1,1,1,2,3,13,1,13,13,2,13,13,13,13,3,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1],[2,1,1,1,1,1,1,1,1,2,2,1,1,3,1,13,2,1,2,3,13,13,2,3,1,1,1,1,1,2,2,13,2,1,1,2,1,2,1,13,13,13,13,13,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1],[2,2,2,13,2,1,1,1,1,1,1,1,2,2,1,13,1,1,1,1,1,1,13,1,1,1,1,1,1,1,13,2,1,3,2,2,1,2,1,3,2,1,3,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1],[2,2,2,13,2,2,1,1,1,1,1,2,1,1,1,13,1,1,1,1,1,1,13,1,1,1,1,1,1,1,13,1,1,1,1,1,1,1,2,4,5,5,5,5,5,6,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1],[5,5,6,1,2,13,2,13,13,13,13,13,13,13,13,13,1,1,1,1,1,1,13,1,1,1,1,1,1,1,3,13,1,1,1,1,1,1,2,7,8,8,8,8,8,9,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1],[8,8,8,5,6,1,2,1,2,1,1,2,1,2,2,13,13,2,13,13,13,13,1,13,2,13,13,1,13,13,13,2,1,2,1,1,1,3,1,10,11,11,11,11,11,12,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1],[8,8,8,8,8,6,3,2,2,2,1,2,1,1,2,3,1,1,3,2,2,1,2,3,13,1,1,1,3,1,2,13,1,13,13,2,3,1,2,3,2,1,3,2,2,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1]]}},Lh=[{id:"lm-cinema",x:352,y:160,kind:"cinema"},{id:"lm-computer",x:848,y:320,kind:"computer"},{id:"lm-bank",x:1120,y:128,kind:"bank"},{id:"lm-board",x:1520,y:160,kind:"board"}],Nh=[{id:"house-1",x:7,y:9,kind:"blueM"},{id:"house-2",x:19.5,y:4,kind:"blueS"},{id:"house-3",x:19,y:10,kind:"orangeM"},{id:"house-4",x:27.5,y:3,kind:"orangeS"},{id:"house-5",x:35,y:10.5,kind:"blueM"}],Fh=[{id:"tree-left-1",x:0,y:0,kind:"treeGreenGroup5"},{id:"tree-left-2",x:32,y:0,kind:"treeGreenGroup5"},{id:"tree-left-3",x:64,y:0,kind:"treeGreenGroup5"},{id:"tree-left-4",x:96,y:0,kind:"treeGreenGroup9"},{id:"tree-left-5",x:0,y:32,kind:"treeGreenGroup5"},{id:"tree-left-6",x:32,y:32,kind:"treeGreenGroup5"},{id:"tree-left-7",x:64,y:32,kind:"treeGreenGroup9"},{id:"tree-left-8",x:0,y:64,kind:"treeGreenGroup5"},{id:"tree-left-9",x:32,y:64,kind:"treeGreenGroup9"},{id:"tree-left-10",x:0,y:96,kind:"treeGreenGroup5"},{id:"tree-left-11",x:32,y:96,kind:"treeGreenGroup6"},{id:"tree-left-12",x:0,y:128,kind:"treeGreenGroup5"},{id:"tree-left-13",x:32,y:128,kind:"treeGreenGroup6"},{id:"tree-left-14",x:0,y:160,kind:"treeGreenGroup8"},{id:"tree-top-1",x:672,y:0,kind:"treeGreenGroup7"},{id:"tree-top-2",x:704,y:0,kind:"treeGreenGroup5"},{id:"tree-top-3",x:736,y:0,kind:"treeGreenGroup9"},{id:"tree-top-4",x:768,y:0,kind:"treeGreenGroup8"},{id:"tree-top-5",x:704,y:32,kind:"treeGreenGroup8"},{id:"tree-mid-1",x:832,y:352,kind:"treeYellowGroup1"},{id:"tree-mid-2",x:864,y:352,kind:"treeYellowGroup3"},{id:"plant-1",x:736,y:224,kind:"plant"},{id:"tree-small-1",x:736,y:160,kind:"treeGreenSmall"},{id:"tree-bottom-left-1",x:0,y:224,kind:"treeGreenSmall"},{id:"fence-1",x:32,y:192,kind:"fenceSquare1"},{id:"fence-2",x:64,y:192,kind:"fenceSquare2"},{id:"fence-3",x:96,y:192,kind:"fenceSquare2"},{id:"fence-4",x:128,y:192,kind:"fenceSquare2"},{id:"fence-5",x:32,y:224,kind:"fenceSquare4"},{id:"fence-6",x:32,y:256,kind:"fenceSquare6"},{id:"fence-7",x:64,y:256,kind:"fenceH3"},{id:"fence-1",x:1248,y:32,kind:"fenceSquare1"},{id:"fence-2",x:1280,y:32,kind:"fenceSquare2"},{id:"fence-3",x:1312,y:32,kind:"fenceSquare2"},{id:"fence-4",x:1344,y:32,kind:"fenceSquare2"},{id:"fence-2",x:1376,y:32,kind:"fenceSquare2"},{id:"fence-3",x:1408,y:32,kind:"fenceSquare2"},{id:"fence-4",x:1440,y:32,kind:"fenceSquare2"},{id:"fence-4",x:1472,y:32,kind:"fenceSquare3"},{id:"fence-5",x:1248,y:64,kind:"fenceSquare4"},{id:"fence-5",x:1248,y:96,kind:"fenceSquare4"},{id:"fence-4",x:1472,y:64,kind:"fenceSquare5"},{id:"fence-6",x:1248,y:128,kind:"fenceSquare6"},{id:"fence-7",x:1280,y:128,kind:"fenceSquare7"},{id:"fence-7",x:1440,y:128,kind:"fenceSquare7"},{id:"tree-tall-1-top",x:320,y:224,kind:"treeGreenTall2"},{id:"tree-tall-1-bot",x:320,y:256,kind:"treeGreenTall1"},{id:"well-1-top",x:448,y:224,kind:"well1"},{id:"well-1-bot",x:448,y:256,kind:"well2"},{id:"well-2-top",x:1020.8,y:272,kind:"well1"},{id:"well-2-bot",x:1020.8,y:304,kind:"well2"},{id:"tree-yellow-1-top",x:32,y:256,kind:"treeYellowTall2"},{id:"tree-yellow-1-bot",x:32,y:288,kind:"treeYellowTall1"},{id:"tree-yellow-2",x:64,y:320,kind:"treeYellowSmall"},{id:"tree-yellow-3-top",x:96,y:320,kind:"treeYellowTall2"},{id:"tree-yellow-3-bot",x:96,y:352,kind:"treeYellowTall1"},{id:"tree-yellow-4",x:128,y:352,kind:"treeYellowSmall"},{id:"tree-yellow-6-top",x:736,y:32,kind:"treeYellowTall2"},{id:"tree-yellow-6-bot",x:736,y:64,kind:"treeYellowTall1"},{id:"tree-yellow-7",x:768,y:32,kind:"treeYellowSmall"},{id:"plant-2",x:64,y:160,kind:"plant"},{id:"tree-small-2-top",x:128,y:96,kind:"treeGreenTall2"},{id:"tree-small-2-bot",x:128,y:128,kind:"treeGreenTall1"},{id:"tree-small-3",x:96,y:64,kind:"treeGreenSmall"},{id:"tree-small-4",x:160,y:160,kind:"treeGreenSmall"},{id:"tree-small-5",x:192,y:128,kind:"treeGreenSmall"},{id:"tree-tall-3-top",x:544,y:32,kind:"treeGreenTall2"},{id:"tree-tall-3-bot",x:544,y:64,kind:"treeGreenTall1"},{id:"tree-tall-4-top",x:512,y:0,kind:"treeGreenTall2"},{id:"tree-tall-4-bot",x:512,y:32,kind:"treeGreenTall1"},{id:"tree-tall-5-top",x:512,y:224,kind:"treeGreenTall2"},{id:"tree-tall-5-bot",x:512,y:256,kind:"treeGreenTall1"},{id:"tree-tall-6-bot",x:928,y:0,kind:"treeGreenTall1"},{id:"tree-tall-7-top",x:960,y:0,kind:"treeGreenTall2"},{id:"tree-tall-7-bot",x:960,y:32,kind:"treeGreenTall1"},{id:"tree-yellow-8",x:992,y:0,kind:"treeYellowSmall"},{id:"tree-tall-8-top",x:918.4,y:224,kind:"treeGreenTall2"},{id:"tree-tall-8-bot",x:918.4,y:256,kind:"treeGreenTall1"},{id:"tree-tall-7-top",x:1184,y:256,kind:"treeGreenTall2"},{id:"tree-tall-7-bot",x:1184,y:288,kind:"treeGreenTall1"},{id:"tree-tall-7-top",x:1216,y:288,kind:"treeGreenTall2"},{id:"tree-tall-7-bot",x:1216,y:320,kind:"treeGreenTall1"},{id:"mush-1",x:528,y:128,kind:"mushroom"},{id:"carrot-1",x:1264,y:256,kind:"tomato"},{id:"carrot-1",x:1296,y:256,kind:"corn"},{id:"carrot-1",x:1328,y:256,kind:"carrot"},{id:"carrot-1",x:1360,y:256,kind:"carrot2"},{id:"carrot-1",x:1392,y:256,kind:"carrot2"},{id:"carrot-1",x:1424,y:256,kind:"carrot"},{id:"corn-1",x:1264,y:304,kind:"corn"},{id:"corn-1",x:1296,y:304,kind:"carrot"},{id:"corn-1",x:1328,y:304,kind:"carrot2"},{id:"corn-1",x:1360,y:304,kind:"tomato"},{id:"corn-1",x:1392,y:304,kind:"corn"},{id:"corn-1",x:1424,y:304,kind:"carrot2"},{id:"sunflower-1-top",x:1264,y:112,kind:"sunflowerT"},{id:"sunflower-1-bot",x:1264,y:144,kind:"sunflowerB"},{id:"sunflower-1-top",x:1472,y:272,kind:"sunflowerT"},{id:"sunflower-1-bot",x:1472,y:304,kind:"sunflowerB"},{id:"light-1-lt",x:204.8,y:102.4,kind:"twoLightPoleLT"},{id:"light-1-rt",x:236.8,y:102.4,kind:"twoLightPoleRT"},{id:"light-1-b",x:216.96,y:134.4,kind:"twoLightPoleB"},{id:"light-2-lt",x:724.48,y:256,kind:"twoLightPoleLT"},{id:"light-2-rt",x:756.48,y:256,kind:"twoLightPoleRT"},{id:"light-2-b",x:736,y:288,kind:"twoLightPoleB"},{id:"drying-1-1",x:224,y:320,kind:"dryingPole1"},{id:"drying-1-2",x:256,y:320,kind:"dryingPole2"},{id:"drying-1-3",x:288,y:320,kind:"dryingPole3"},{id:"drying-1-4",x:320,y:320,kind:"dryingPole4"},{id:"drying-1-5",x:323.2,y:320,kind:"dryingPole1"},{id:"trashcan-1",x:512,y:288,kind:"trashCan2"},{id:"trashcan-2",x:918.4,y:288,kind:"trashCan2"},{id:"bench-1",x:768,y:64,kind:"bench"},{id:"board-1-legL",x:1488,y:160,kind:"boardL"},{id:"board-1-legR",x:1520,y:160,kind:"boardR"},{id:"fence-short-1",x:544,y:96,kind:"fenceH2"},{id:"fence-short-2",x:512,y:96,kind:"fenceH1"},{id:"cinema-win-1",x:297.6,y:64,kind:"redWindowCenter1"},{id:"cinema-win-2",x:336,y:64,kind:"redWindowCenter1"},{id:"cinema-win-3",x:374.4,y:64,kind:"redWindowCenter1"},{id:"cinema-win-4",x:297.6,y:96,kind:"redWindowCenter2"},{id:"cinema-win-5",x:336,y:96,kind:"redWindowCenter2"},{id:"cinema-win-6",x:374.4,y:96,kind:"redWindowCenter2"},{id:"cinema-side-1",x:256,y:96,kind:"redWindowSide"},{id:"cinema-side-2",x:256,y:128,kind:"redWindowSide"},{id:"cinema-side-3",x:416,y:96,kind:"redWindowSide"},{id:"cinema-side-4",x:416,y:128,kind:"redWindowSide"},{id:"cinema-door-1",x:297.6,y:128,kind:"redSideDoor"},{id:"cinema-door-2",x:374.4,y:128,kind:"redSideDoor"},{id:"cinema-door-main",x:336,y:128,kind:"redBigDoor"},{id:"cinema-ac",x:374.4,y:0,kind:"unit"},{id:"pc-win-1",x:816,y:224,kind:"brownWindowCenter1"},{id:"pc-win-2",x:848,y:224,kind:"brownWindowCenter1"},{id:"pc-win-3",x:816,y:256,kind:"brownWindowCenter2"},{id:"pc-win-4",x:848,y:256,kind:"brownWindowCenter2"},{id:"pc-side-1",x:784,y:256,kind:"brownWindowSide"},{id:"pc-side-2",x:880,y:256,kind:"brownWindowSide"},{id:"pc-side-3",x:784,y:288,kind:"brownWindowSide"},{id:"pc-side-4",x:880,y:288,kind:"brownWindowSide"},{id:"pc-door-l",x:816,y:288,kind:"brownBigDoor1"},{id:"pc-door-r",x:848,y:288,kind:"brownBigDoor2"},{id:"bank-door-l",x:1120,y:96,kind:"doorL"},{id:"bank-door-r",x:1152,y:96,kind:"doorR"},{id:"bank-sign-l",x:1120,y:64,kind:"signBlueL"},{id:"bank-sign-r",x:1152,y:64,kind:"signBlueR"},{id:"bank-atm-1",x:1056,y:96,kind:"atm"},{id:"bank-atm-2",x:1088,y:96,kind:"atm"}],Bh=Si.from("data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAMAAAACwCAMAAABuIJH0AAAABGdBTUEAALGPC/xhBQAAAGZQTFRFAAAAvmxJUWB9/3Bt6UM0duT/66Zsi9h9////wczdAJrc/smcdzgzz4JU6EU3ZaVWjJy1/LyPPSEtUmB88oRi44YoR59KJitE/b5Tdjs2w0s1WmmIvWxKhMZpi5u0wMvc6qVsPyYxaNkGfQAAAAF0Uk5TAEDm2GYAABLqSURBVHja1Z2LYtsqEkDddm9vsm3qOI4Vu5Yl8f8/uTAzMA9AIMe7t0vT1AhkzxHzAmR1d9tYduXinKmaA+VuxSMb++ci/v13+BHlfKYXe/+nLKCuOyoFeVzHoW392wCn8/mUCG5CQiuxrA1DgcAfyUbwtkLgm8722Nn2zwH2+/Ajrv/TUxqDBHA+a4DbLdWDmLdhuOWihYYM4LYGcM4Bzk0AuNCrAA4B5CUX4oYKltwwygCuPgBFANcC0DRBhfYSAN5YXAmHIlPdSQBnB6AAcKsDnEsA5x6A/W1fMOIEcDIAAwMI+S1BGWDYCHDqAlBaJC1CjYDjEUgqL+Xni0tuKQGwhSNmyas5AcDt+MGi/x1xAN74xEMQZU4Aw2AA6COHW+7F/KHBlb0aDLTtHz5a9d8gO6hSBDgbgMECWLUSANLoCUCpW3QSEUA6DQJgBeiXH+NBDYBHACTHMRgiADYHMFnHzw8hQ/usqKKnUwTgj/NCnJQTqQtsAhq5U7oep1O6Bo4BHABEDRqGgZjIRvyBQXqt0DgMDMAGgxp68sXaXDimbLDugOoAZwQ4W7MNdRQTy21QHRhAjBgAWIunEU4AYsQBQGpA3QFRRI5AFA/4/UAZFcAgAGAAEgAMygYAvD53AliUvTFier9TbQQcA5BSRQAHAFrlUIMGoUMuATgAcAzgAAA1LH78Bi8E8UCOgDRRYcVxEJyTZo3eZoz1gUx8dLJ9x3ESvc0Y6yca8NHJ9nvigJMA6QIPhdShnN4ogZ1rzQecErjQv5nM5QDwfn4o8RIEeQbUgaEFEAMa9h5ciyAGNPrEYv+kHmCwUG4Lvkh1ahUAJ/yTAAYBUBcqBbQh6ditNR+AgEbFZsEMsN8vvuDv8O9+0XX8XR8B4YV2K5dVBLRB+v+1+QAFtJP0/xkACerLy5IVPrQnPT9JN+oMAPqYIgEHMDEArfmAGAKbRDLAUhb7x/KigfDj0MeRUiYnT0pNV7mo3sJ9unGk7HRozAco+8T+OolMAPulXF4swJ5G4MRKuXMy9EagZJ+uDFCu1wHK9QSwdBeyAQmwywD8P1E9bI6spjmYIg3DrWoxMoDFFOl0MjoUAF76xH/pA6A1icFeXPS3Qr8woA017xuM7ST8PwU08h2fGQHp1nY77RZ5UQXyCQtwywDq4cMGMBOBFcCPH23hQx9KJRDB8dA6kTngmCRNUgAcwMgZJdsvA3AAI2eUfIcE8IGrE4AWttgrcLzUdQKw80QeqRgPkuZVAE7K/0vNFQDLzXqbsgV4E1jSnHZZtGyyLgF2xgYSwJAAVm0gAZwSQK5C+14T2N82ABQESldcTHC6RkBMcAojsNGI2wD1zEZqEA9B3Y1KDeIhcJ8HuK8kW5Hzg9GtpRLYLucHWf/7ANaX1zPVEe5T18mH1Sc0TtfJB5oJzT0qtLa8XtB9zv91PTph6U51/q/r0YkLd3oPQGt1uu4+3U3XcX9AG7PO/3Ud9weUMUMc6JV/HwF0TmVXpzWBdJe3HOAm3asEOJ9wed0AnKV7jXGgF2CpLu7eeHHX/fLFaa/K7qcIQDOcfAQqADTDiSq0NQ5gXLFro0NclPj269fTr29KwYT7VHVHq9PKnWr3qeqOVqelO73DBsqLuwng1y8aAieUKk1gbOqhJjg2NcHFXdWuJjjJjb70ZdMpmZMri9na6NNTGIJ8QuPqOzQr84HiDs3nAhkaEae1eqEKAWAElCXEfgWA1XS6AHB6AIDMy21giir07dfTtz8VQOXleWBCBUUMG9BygPX5QA6QJ3Odc8ofyy0ByKzQBCKHmV0ZAFanVWllo/ZoKRvd6EZtXp4HIgTAgfhfACy9E5qlZwSqKfYfBKDzctfI63VAKwCszgcKAJ+eD7TmxKvzAXuwNR9o9t8KsNq/48067z/qL3cA3KqrFr0A80MBtqXT+3WAfec1mOcZMbomSGv1rek07B68lI08biy0APxWQwDYi9t3sjumuutw1XoWtoKAm/StBjBHgHlOAKFFCrih3r20SG50zee+9JvRHiDoHrwoEJdyvQ7w8tJtxP2dqyMAF3+e5R1gnwXoKz+Wx6hQBAAIFGgMhTuNpboEEPXVCY1VrT8U4La6pG70d4uwJWWL6q8BfMNl5HJJv+IBo0IergHwUtojuxNAvcmNvA8Z8mMAbn3brLfbvSokRhKCWHRCcgSkzZKKaCteA0C5onRRTK630oj6lhq+mwZgL3p7HIAqy8q9EtsMls550cOII7DfG4Bd0UgLHZoAtwcB0P0V+yyVEBldCaCQWFtCrv43AUrpdymd/hSA+4dLJp9t/H8DyFubAPOGkvf+7PnSCyUDpfgrFleNEbvU31emDQV68wWKRz5xfvI6PBoxei1iK92kEoscsuuGEnrLIQ613xtK6C3P//3bCuRfX0b8418IFVuqANOEwk34xxf6Vaj73ldWA6y9v6Nw7/jHF/pVqPvev+X57yUAkv+yKBtpA3j5lMClOgGgPhgAL58SuFQngHR+EeBCRai5BRCBzgsxyxHwbz7jr1KdALAtAhzkCBzefR1+leoEkM6PACyQBihHZgMwRwWf8SfU8VdeD73DFUQ2rB2igh/wJ9TxV14PveX5hxJAKjwCGQCnEvcYMevwfUbM5wsjTgCcRDvlWusAbdtNdVQa4RQDQNt2Ux1ViM9/LwJ4NpoW9AGAtQqBV+ooMlYTAFirEHiljgB8fhFg9vofCC5bRmDddlMdtR5hokV02G6qow3w+YcCgJsv/o+7yG3Oxgiwmc7RdCt11HpWAbQBNtNDNN1KHW2Az89tIHiVMAJulKnQuJZKbDVie2SrEeticyHKzpwbjcD1ZK7DelOcKAF0WG+KE6sA984H1iKvBKBIHK2Z2hlgJRKnSB16kzVT+yMA2tYrRgDbIZWkIx3WK0YA28P52P4AgLXIG+sxUvsLP88xIYV2jMS1yBvrMVL7C384xIQU2jMbcPJ+VNdjA9uNOAg/u/h6uxEH4Q8OX+ephHPOfA8hTyXEFq6MxO2sGnrDTAQJdCRuZ9XQO6jPOxIUs1F8Ka56I53mSMtJdT0SX1H+aaYxkJGYk+p6JP6N8nuAQzahUWtYarVrHSC31ZVIjPL7XJjGQEbidlbtezv0Wwcag0cAcKTlpLoeiSmQzqhFOhJzUl2PxOhJ3w+oRb+z5fWo7niwvby+2YgpbswzaNF2I6a4cTiAFj0CQFsrqlF9TgxZ2DT5bAVKFolRjepz4t8Q4t6v1wMUAXDhpfUEII61AchcE0B5TnyFqn/HC4xBFokZoDwn/g3V8C4wBg8BUNaKdlCfEwMMbkDEEVDWinZQnxMDDF4RMwJiaT0B6OX2lTmxiLxIUJ0Th8++oGZeEMBEXiSozokDwJXU70EAG404yQ8E2404yQ8EhUisATpWJbYuDYq9q0uIDO8bSuh95be7Ht4/fbNHoLl0lkB9kXtv/kyxMNYslIWLcr0+ACDty24tFCm9Lkx3FchGHgJwaclpdqB57xMBri05U1EN1/sBzN6BBrhoLdGbRh0AV60lejugDND3xehdcQsnV6EAwAxqA5S68j8lFbqm9DXpSSzUlf9RcwDX+GK3hI1StW3A3jXSBrAKJM+vASyrc0qTfaImLCJrvcB1V1qjAOQbCSVTKiT1RiJJPY8AMVmxAPWSAcTV37IRtwBaRtwCsDawEUCu/koVYrGlGRcAYqtRIRZbmnEBILYKFSq4i8x1CIDLGMNSGcDaQD4CcHoVwNpAPgKAeD+AHYFLyX22AYwKGffZBrhqgJVodLEjAJ7SAtS90FYbaANYG9gIYEdgXL3hwU6meWAjwNTY3JYAMqhpgDUjVgChXC4yDvxfAez4uwkpEq/nQjYP35oLyfPLuVB2f1AhYzb3D0mefx7grjmABFjuA+hMp6sAj0mnx0+W6ZPlAQDWWLIIshpg5M0neIWz7Llu3w8BsOaeibjmoTyAPr+Q/695qApA9oXeldvvwzQ3WWXcDpT5/0qaFZonfX6e/886odbJ9Tw18385gynVPUCa1I8AYPL/tTQRAeT5ef5flx+aV58rVHtIzDcoWAeAeQ5rnQngki4oAVyESxrF9Y4AfD7Iy+cTQO38GgA8AubMXy/mhwTEbyyH8k0ChBsUEsCYLigBqDESrxkgng/y8vkEUDu/DoCP4dFf8D6d0jeWn57Cd2b/YAB6luOOH0XDj6PxAPCF3ycBME3BH94PwOffCfDmi1GhBJAe6ZWeLOFl9wPwBwG8UZEqFG3gToCwg5EBUA9sXAeI5yuA/HwAANkvIyPEx2lGANQe8UgppUKLvaYGYFkHWGZ7TQ3AvA4wg/w4GYwEyo2iCbj0T2bEiw5EJG+YMWQAoWdqFAAX5Rhneb4CyM/3jSg+zWaZQGxy07NZnXg4SXpwQimVGKUOR99d0eGxkEpM8nxKR2vn+8a3t5EBlqREYiHOAlAyHdPkPJnbCJAlcw8AyJ8ylB7rlabmcapYyv/NKz2NNq9L+T93MAfs+R0A2VPV4q0e992Av/l+/fx+elNvAtRzveIN+02BHv39AQKg5WIJUH9mpr2geFt/3994p01XXzwhfmsg1cWkkgD8tBwQFhWP1TXeqXtt0o2xtNRBd0U0/5JA177+V+4/04fQfVLpFioAWOhuae+UGYDvTMyu+Dj+hBIXtnw4vNINBI2/KEBcGGz+vaKHmtLdPFi3ACD+8zMgiHTCLfCzk8tYtP36E1//JIBt26zb+/OSKd6rNn8sy4cv/jcAeMFfofgXABBnS/DjcC00bmi4AsD12isOCrC1P6+6kApZgC9f/oLy5QsAoHTHkeUH+6YvpezSqpxjFer8Hg8b5X39Y/0DL+c4IsDz9+//hvL9+7MHCMIfj/6vBQiJJQD8jEb8kwFw7SBbUdBHHghwgR8F8BcCBPlfX4P4jgg0QHiDn1RmVCmvqTPdgZUBqKVYF22gF4CMtgAQVEgB/BVHAOR/PRJBrkJ0ez4U0CG4cS8XN4OB27Ou8ZtLfcX2j0asVejr8zOq0PPzVwI4AsCOAifvVwugtOx5l0p8LpAZFfr6+voM5fUVAbDoTCftByQAiN0JYGpKH8LmgwKZUaGvr6l8RRtA+cs782JEMBRLnZ4aAByYPhXIPmJCXQKIXqj6MErWokhENtChQqjDnwl8UBdXJQC8McAbxwHXkYxSatFpA0mFPgtwFAXy6YjwJmeUPfl02rfaYsTy46NYx0opte+K+eXqVa//32DWBnr8Ook0QYLwAYXq/giLXG3Pv/Fc+gZ0UWWKhzfbgNCHj1RY7qnVvnNyl1EosdM336gNsTl/ApajFZDNKqRlC4eFlEcre97uPzhE2nEMAZfciH+BP678vNJxHkfzzLddjC332ECSbzqGw8dUnaLqr7SD/BHgNQdANzXp/Zgp34cNo0gA22wg6DZc2g8vKAk4HT/gQlNKuNoO4tJsqwwwkYMVRjLHWKzkd/OdNkCqcWQjPZKqJP2ptzttAwSAJWXHjrd1EoDTe/5uTKdvtgGUD3T7CD/pQASYpe7r9l4AcZtCAEBNEeso4+ZAlmxgirbpRZ/h5xiPgBFMwnbD5wlrnigOyJ12lIfS5w4Al+Tn3fONccBLDPLN4sdLeOQRwHa2ONGeA4BIYBjpgiZ/l6sQvlJftLzDBibUGwnwEa58BIB26bW5vQCg6mzEagSSEcPx0dwCs80GwBiDj5nFz/GDGmL7h46bH7G9DRDd6Aw/1o1Cw/wJALqQ+QjQpU/tOQC0VwCqS7VZIIsTJXkHyaY4MNHFzAoIOKd2C0DtrREQSRovxc3m4ZqzighbbSAKKIVPAk6x3aZksf2eh8+XbpXY3W0DH2sCfkyt9u2P/9+VnmC92wwwMQC49FxAjgRrZVeYcpltVttl/WaPzXGgAcDzATU/SFOcgkq8vWUbxWvzhWxKudEGOgDSjlkJAL2IMFovOL7/m9ji8wkrR15MCMn35PVOFZr6VEg9P+hoZjo4H/DvpQHiZ6QpMWTcCOAoDjt+oer3APgrWQKAw5jyx2BasAHcoTmK21E9AOZyCeBVAcy8I4MphaoXbGDKzJdWHaMNrHoZzAJo/2iWloB2QQBqBHhVJQ3A8zMD8I4MAqh62QYKy9STiQM1Pz+laDfzCoD4pwIQFhYjQKjJ5X/e0CCAn7if8HOc86XFqbLIO00iF3oAgFIhAwDirwLgYrAEEBe9vkrdFchIzRGgaAO5EcP9EtGPimX1pELxQFQhBIgq9PA4IACSA6W44ANZ5kaB4MsXsy4X8zund2Scre+2rvd3AqARC4AYDsTd5zISA0Dx9uiwqUclfknU1Of+je7eOJDcaB4HxLPaBcC/fLEAZCb5Fx5sfdtGd0cuJAJZMRfK0mkPAD+1EWgATFPvRjfZwGog4yUdV4wDFYDCCPAUzNxaYOsbv0/cSqeN27T1UoKcZ6OySzuZ65e/L5C1AWz+n8svu6ym0/8BypbK2NnSKzkAAAAASUVORK5CYII="),Uh=Si.from("data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAASAAAAB+CAMAAACzrjyBAAAABGdBTUEAALGPC/xhBQAAAEhQTFRFAAAAc3mZ+PLv1Fc0q2FY9IJDIo1j9Kxmv2Yc0LitNuN3m1hQbz5D3OHnlZqxX1ZR////59rU/b5Tgj4SLrCCy4Fe44YoQ0pfE7bmEQAAAAF0Uk5TAEDm2GYAABHKSURBVHja3Z2LguIqEoYzZzwmmlHTdCTv/6YbLgV1gxCNPbvL7nR36ijKZ1HATxG7bmGlE5aW0rWVXH+XnoRsyNDtqbZavtfSYGSWdLkcVBCCRUBBTd/9YbwFJhdpaSn+PRtjrUnFvSdqcYVfcwtDwPlEi6va1+9/GUCAbMiQLG/zsTa0lTQ9GCsWeJbDgRsdALWjgWclGtcraRO20Jrla2nlDUA2v0EbANkd7YJnLYslxb1pu7tkF5kpIGJZcfg3Yf0vC4CQLb43ky1vAMLNDYDMznIwIPfUeZ5Rv2CWV15rByAecJwXhJIB7WkUABr91Rh/uTdNLE1/pHg7Y0Lc4nEM/rUFIPnWB2+TkVwN9iIk+yiSa15N2cJebxiUtwDPcoBI8YB2lzBswwfko0snLcty+ULl4l6LWGS5hJopDmWo81ggeCju4gF5yyA+h2GwBc8KgJ6kuJd77i7+XeMQGB2GWl4DtJB6DDLAJ+8B2RyTvxMOwwEV+xj7D8GrjgTke0seARbdMsRi/U9pocXGx1iTorY1Fo19OU4FQMFZfexYIQ3IS7hlqzhApg3QyGFEQ8+fld13UAMwfoxRLEMhBtGRDsY+SwB985D8HZChzhIs+0oE1OPGY0BjgtNrbtP3BNCAAQ3RYsOMy0ZL4pcar3586CfgsAgHeJBNXWzlA09xfxiOIzqV3TOKDaiLsaaCYRxVGtTkH9QK6LUYVAKEPYgOQSVAr3mQaKqGI1ows/D3BqAwQ/0EIEsA5eFpGGJMRgF4eLWLfQdArKmUAw1Ao0quCGh9U+H/loTkHICHjaIDssSFAiArARk8iu0H5P3uuFFMDdImTNxkxDHNM+kUpAfr/4csVgOU54XfxtC542uADisYEFhs+qSjJfyw8CezIQOyQCWBkB6DZPAQwsVuQENczh8jmEVC68/AJ1rc39ETXtWDIqHU5zo2URziPIjy0TSwV4L0wYriLgFn48EHCmdvADpSUdR5FdtXbfj74mJ5+boT0GGKYtABDZM7iq3zK/1Cs6OyyJdgyzuK4l61Iy01jlIUfchxgGLA8e38NxYNWVZCNMfTxMUaIV6PUBQBkNnrQUcJZuB5Se5QAAk+KiHAQ4dck6rVIpgiEDFt0C9Wd9AZhmMBxdnJ82lB7giAXIUI0Azl7P6d4x/ACvHRpiVGhDd0dUvF2zVFcd8gD4AOUhS9uPF06tnT2G1AEQ0hlEI9xpNeyyLX9A9zJDKg2x343G9BQePaYLAMu4P0MYpi8LxwFfwwAPr9+1/3D3Wxsy+eR/g3B0seCw2gwSWLYwRQmpp4x/HlFgBxRfGdxeohS421BzitaFz/h8a1AAiHlyk6DYxi8XLKc4WIh68CbZpwdglEVmE1QOa/EtCYAXXQv3BfmBKfBX46w4T2hhwfZaGcXGhBgO63COjfVGIXG473oHFzNZ8Exl4oikoX803xHbDDgIDPkn6tpgxI5TMCodCt7r/ua8y53x2gmwYo4IANizcB9cKDyoCeBUBqkO5C/XQ4niKfLgDqIqGJ9DAqQsHLwDC73BOg+/0eAf1OBQCZNwAZzYPGkQhmY00Lyhcj3tWgw7wKCPgAICAEgKwA9MSAbADkGP3ynJwbdUuecvku3SnL19c16T62MwNSPcUzob4FV3lfjEwUJaC01dplQMyIAPFCAbnyy+EJlDEgWJoOb4j2JimKfV8J0vxDRIB6AkhbaghAGEUGhM0pBIWqexmmCSDgUwD0niYtFMWeA+pr2z/4UYXFKgeEtupxkF7yHn6XQhB11Z4Godi3Ah+omvSwjwB6a2c15SrwNVIGxPks7GIGGdLq2yg4Sv+ifOS6j+AA0d7s6mHD98GAcK/RAZGlFyw10OJjIYNYCZD/JDyhX6T3Ygc6Mkj/GKAfLX8NUL8NqBiDfpTPt9zmeAvQSQA6pfafNuaJEtDyI4AqKmMx/WW/YOYAnPZ2sRqgq8u5U+dBf9bSkb+xpROXXf0BNak64jASkP0RQNGzTgqglc91VgH9gYL/xi1ml8Tif+fLwObKUkZJFxtEFxuOi0Gnk+YwpzZAOFJjXevPn77PWMLf2CIv9QckPnMZkEh/iUHafAbQ6VSP1gwQXsxHVSIDus6vAZqvBNDVfxBy0ISXfnsUG/aMYh6QRkkBNFM+oGR5QM4J5xm80TWYuuVJeGm2+Of5ZwGgM5+VdnRX4/hh/gSATqWIIwf5kzKKYaXYqxI3BCg/jwK6XuuA8rPQnFOo+KnTIRxRft8FSOQonmrDfNtEMa0e0Ad6D4Du24DWyL4L0MI6GI9KbwKyPEdRAdQwisETsw4qAcU1EwBK0SQBCiHm6oyndAklWULoAkBUF+iUqFTc1Rj2dLHvgqKos1BT8QDQAu+wAdDMADk43hhxQBzHgGYKqJMfBo1KegwyFUBmz2peXUs/i/8hCKh+BrQFCDoU7mKziz+oQ8U4zrpYDFJ5HkRiNI9KJAWv0sVM+ZIBOtUBxT6oq9WgMLcCWh9HYhADpMcghxHFoH98WaTYpC9Wkx5kGh3IZLkD06CCWV+fClFAvpO1AqJBGlyGAPLUsIUAugRAFyZX6oCSYMZWG0bpVtquhgqol350Uhb0/RMH6ZkBugU+eZgP0cQFFAD0J5vg0l9cr9iCn7UXkAFANGtRXkpLAIS7zVt6kAycOZ/gBUB/qoBiwV0M97kV0MCyDV88kvlBwSzlXCx7AHUBkPvXAZEmQMTQlrW4cbT3cEDN+Ycv6D5UhtNfsbrUePXU80cAvZl4WWp6pXaWQPWtAHqvi8WAXACkHdUgmfbt+Yf71UJf2W+SI4KS2FL886sMUOukYPbyqefYVtfQPgGKcXuszw8poLb8w31ekwD5NBoMyKCU5QTIy3UzTzDLM+mXTj2rXayUvVCwi/TqYv5hO5wrOi29ACCUhGZgvxtvyq2vOUdAJCPxnVPPu2JQFVBD/mE7n5kDCn0sZaHFLdx8chwARQNNuHvn1DPtLQTQOFa2esqAyvmHjYCYWuhn6J4PyWNMfPAR67MhgOS2Dz3jbHalvyBAo+ovYyGbKnWxrfzDdkBYLfSA8Dw9bsBiB4KeHc5s6oDCubXhJUVxpPlB22VUBbON/MO2Qxt8Xe7J55Q9gBEBoU63PuBszSznQaZw6rlyhRVF4idbgMZq8sJG/iG+/U19lkPTptfuNS/RjxIM6zNtckLt6kw+8i1FD2rY9jGaotgGSIZnZMmAqvmH2m6fkjRDhYuYKTtDR6OA0BGl1T/Qvm5R7mijQ49k6oDo3MfjiJOlMqDIZwqAJpp/CDyuFEY4fkrT0tCaLgNaO9o55BC50OOS3h2glHK8xh/nP1qQ/kB+UBI7SFqrnC8GSgAI+ACgieQfprvBXHF8STcEsAtJJMIetBY36M8w1IP3EECLn1qgUczsAiSjNwc0bsegUj+jqYbTdIuA/Doe63xxbxoN10s+tknngWj8djHIjfxptrhkQIbOFLVRjJ56NuR0fqbIAZk9CVRj0zwo84mAotKBMjTTZAkix/Ua3+r6A2aG8cilxduPzgvTesOT8XDCvzxTpKOYPPX8mqJ40M1NGvIPKaAlzHAA0FwAlAR6mE4zQNg9wygGegU/9fyaonhYacg/9EulOS+ZvMkDmq8Wpb/ymyvBvDMu6QHQei5pIUnreJ/joJu8HXWoty3/0HeUs/+YzzOsT+zqRCsdi2Y+JUDoTk0QgySgF1Sx+j0FNw/TvnLA9tAbMDY9kNfp2hrub/F4uGs5buFnPx7hUVuIjrq15KG3qGx6oDyzugfQA0roWunyoZ1Ebinbi6tD6tG7TkUDwNkdYfbQCuhyiYDc4FUAtDS3SyTmfKQesnrdelxWFHcD8k6TbkNjLb79jNKuc/TTs/gjlXO1ZUfVQ/3xHOcJW59KviteoLANKPYqel8eoEtfIagVfJxm0qkfjCoaxlH1SED0rqeL3q3RqXA/HW4BBAIrikRZcxXtmvlZJZkHWFN5cD2325Sm1LA6y2WznjwBjIIZVhQLhM6xiyV99UVAYjsttkty0QH5T2vSt+9yPbepAMitQaatesqKYt73ETLSNQGqdLEBA/pWaEBCbDaldjUD0ltG65kKgG4IkFKPsqtBFMUk2rNbDbs+m3K0Q+S9uNgbpjY5kYF6UPI1DgibcrvaAWmEWD0FQDcCSNQjc6DjI3OCetbY0KaGG8TyWgxNFMOqQS5Hq4C8EUyoXTsASUK8HgRoyoBuDBCvR+ZAx85FdKTZ8l2fKKPkih6PNBwFQJcLyBr+L9zFjKGAYNXK2tW1A+q0lkE9EweUJbTEh6qOEw4mPAcaetc5SW/rMmxesGgfUgDP5KyRAsiDgd94mA93pxQ31+F89gAShBCfhOPGSCE+THWcFn7ujqD3Wghok97tPKEZayJeUUSHEzygpC5nMuGnsSoNuWrFfHYBYoQwH6woUlKZz8RUx2kRRzc7Cmgm2z6+j9mZROmZnN4IgEwUTx2SSypsqVFbomI++wBlQqQeoigKUnQehFXHiYv2BNA52+Kuhp8jWDKOoVEMeZCJgKILAR/bvBOuK4G1GbBUCw+rpwRoxp/LugUWLBaNY1RRFF3sGwb+tcgu1cwnv+m0dKo3LD/9kHqkaK8BcmSiZSaA5CgGOLqXAdWUwBZL3ko9op4tRTFfRoulWybY7x6PPA+iFqHz1AGd53caFgecg+o58kirxFEGlLQfLgIJz9/oCJoFb8a/W8+hfAiOsAxd+5y3MA6PUvk/BvQoAPrSAUVFEf2BASlDeLMFA2JDuBzUK5a3ATEFxDX163JJgML9qb/QL/rgdAtrcovrzwC6oXlzs+VdQFwjKgFas/E1QA9xr+/LxwDlpWmi0WB5HxA+Tqx1sQjo65+vCw/UjuaFRp9w/QlAN9T4qdlyCCC2VhUxKHsQjUH+kbUgfSQgJGVI/bBsOaKLnWfy5VTgM2gAhxgkYrTno437hwO6ica3WaqAGrdWZ7KYl7MePIqJEa8weTwa0E02XoxZ8jE3Cah+NkM/zRI3mxCgS+NEscin1Nra9KQGSKiFrB6pKLIep6Yyxvi7sRnND4rrM2k/su1cahwOaKoB4ooi7XHqjUty/OXE2B2BS4AedPn69WgnpLRWrph2AkJ7XrweTVG8MUCaaJ95c2Jiza8CepQsfwPQVAOkKYoCkLhxSdrWoGc/2Vcq8i8QBBxuRlOy/HQXoyFZj0FbSw3lxiVR7qAbQTP/SsUPAvqvWqzqov1MU4PTtix91PlDXWzTX14DJP2laTWvivZUMFtYUp46IykEaWUetE8w01MV9gtmIb5McTXaWE+LJk0URRGpXhPM/hog4LML0DFHf6sz6dJjlKyyT3axzGf6tGDGchSpPKav73lUUvPuPh6DqJrxSUB938cfRUAghtG59QUD4gPcpxXF2+2HFEXPxh236b0LYf2QA7oogLKM+BOAjlYUq9/Rjizp9voI0KWli10QoMfnAR2tKFa/ox3bPKCwkQhaUGuQhm52+YEudriiGO7mubD+pDFbzyUZAARiRyEkC0CPFLYIof8FRdG7Blm7O0DcEgCl82JIP9THLKo6Ro3xEbTFTwL6gKK4Vt4/SUai+7qOnlmc56x3vTfpRiKPLG4gQE6SVlZneGP1o4BUtbDFUg/S/TN6SHahYImjekjr9Acgc3SS8pgD9FUAVNAWDwakq4UtFk1yZUFowfe6CgPWMwNyp57hO2IqSw3vQdrydY/cceg8iOuHbfMgdpI+4nii7z7yF/2Yg9Aaf5z/5HQY13jHo7ZY3Vy+fngmzfXDtpl06jwLGsFzf1oyoGePwpI/YWwYoK9/qv6yKYB8eC3G9cNWucN3nh65kLt4JkD+6ukC0ZN8RycaxZAHkYhT2OcoSmj4SzzwPQ/JA+olfn2MUk/S8P0o3lRPHLR6f/dCDmhcEqCnB+Qh9dnvyCgmG/+AebMyD/qLgGAUbwe0Ok+8z0p6E+5LuNAXnIwJEOIYOtkiAMXuo+6sZp/6a4DiinUfoLiqosMYHsN6sOQwnQY7fd4cFhLZX1BKQz1IfxhQVhR3dDG+uJCAsgc92RcMlDYO/Tor57ZcOCCdz38AAJYkyg+m7d0AAAAASUVORK5CYII=");function Gh(e,t){return new js(Bh,new Hi(16*e,16*t,16,16))}function zh(e,t){return new js(Uh,new Hi(18*e,18*t,18,18))}Bh.scaleMode=Cn.NEAREST,Uh.scaleMode=Cn.NEAREST;const Hh={grass:Gh(0,0),grassDecor:Gh(1,0),grassFlower:Gh(2,0),dirt1:Gh(0,1),dirt2:Gh(1,1),dirt3:Gh(2,1),dirt4:Gh(0,2),dirt5:Gh(1,2),dirt6:Gh(2,2),dirt7:Gh(0,3),dirt8:Gh(1,3),dirt9:Gh(2,3),path:Gh(7,3),treeYellowTall1:Gh(3,1),treeYellowTall2:Gh(3,0),treeGreenTall1:Gh(4,1),treeGreenTall2:Gh(4,0),bush:Gh(5,0),treeYellowSmall:Gh(3,2),treeGreenSmall:Gh(4,2),plant:Gh(5,1),mushroom:Gh(5,2),treeGreenGroup1:Gh(6,0),treeGreenGroup2:Gh(7,0),treeGreenGroup3:Gh(8,0),treeGreenGroup4:Gh(6,1),treeGreenGroup5:Gh(7,1),treeGreenGroup6:Gh(8,1),treeGreenGroup7:Gh(6,2),treeGreenGroup8:Gh(7,2),treeGreenGroup9:Gh(8,2),treeYellowGroup1:Gh(9,0),treeYellowGroup2:Gh(10,0),treeYellowGroup3:Gh(11,0),treeYellowGroup4:Gh(9,1),treeYellowGroup5:Gh(10,1),treeYellowGroup6:Gh(11,1),treeYellowGroup7:Gh(9,2),treeYellowGroup8:Gh(10,2),treeYellowGroup9:Gh(11,2),fenceSquare1:Gh(8,3),fenceSquare2:Gh(9,3),fenceSquare3:Gh(10,3),fenceSquare4:Gh(8,4),fenceSquare5:Gh(10,4),fenceSquare6:Gh(8,5),fenceSquare7:Gh(9,5),fenceSquare8:Gh(10,5),fenceH1:Gh(8,6),fenceH2:Gh(9,6),fenceH3:Gh(10,6),fenceV1:Gh(11,3),fenceV2:Gh(11,4),fenceV3:Gh(11,5),sign:Gh(11,6),roofBlueLT:Gh(0,4),roofBlueMT:Gh(1,4),roofBlueRT:Gh(2,4),roofBlueLB:Gh(0,5),roofBlueMB:Gh(1,5),roofBlueRB:Gh(2,5),roofBlueChimney:Gh(3,4),roofBlueGable:Gh(3,5),wallBlueL:Gh(0,6),wallBlueM:Gh(1,6),wallBlueR:Gh(3,6),openedBlueDoor:Gh(2,6),closeBlueWindow:Gh(0,7),closeBlueDoor:Gh(1,7),closeBlueDoorL:Gh(2,7),closeBlueDoorR:Gh(3,7),roofOrangeLT:Gh(4,4),roofOrangeMT:Gh(5,4),roofOrangeRT:Gh(6,4),roofOrangeLB:Gh(4,5),roofOrangeMB:Gh(5,5),roofOrangeRB:Gh(6,5),roofOrangeChimney:Gh(7,4),roofOrangeGable:Gh(7,5),wallOrangeL:Gh(4,6),wallOrangeM:Gh(5,6),wallOrangeR:Gh(7,6),openedOrangeDoor:Gh(6,6),closeOrangeWindow:Gh(4,7),closeOrangeDoor:Gh(5,7),closeOrangeDoorL:Gh(6,7),closeOrangeDoorR:Gh(7,7),castle9LT:Gh(0,8),castle9MT:Gh(1,8),castle9RT:Gh(2,8),castle9LM:Gh(0,9),castle9MM:Gh(1,9),castle9RM:Gh(2,9),castle9LB:Gh(0,10),castle9MB:Gh(1,10),castle9RB:Gh(2,10),castle3L:Gh(3,8),castle3M:Gh(4,8),castle3R:Gh(5,8),castle1:Gh(6,8),castleClosingDoorLT:Gh(3,9),castleClosingDoorRT:Gh(4,9),castleOpenedDoorLT:Gh(5,9),castleOpenedDoorRT:Gh(6,9),castleDoorLB:Gh(3,10),castleDoorRB:Gh(4,10),castleWindow:Gh(5,10),castleWall:Gh(6,10),wellT:Gh(8,7),wellB:Gh(8,8),sunflowerT:zh(4,1),sunflowerB:zh(4,2),tomato:zh(9,4),radish:zh(10,2),corn:zh(11,4),carrot:zh(8,4),carrot2:zh(8,5)},jh=n.p+"static/media/town_tilemap_packed.c7a6ed0381d9a08598aa.png",Wh=Si.from(jh);function Vh(e,t){return new js(Wh,new Hi(16*e,16*t,16,16))}Wh.scaleMode=Cn.NEAREST;const Xh={oneLightPoleT:Vh(2,6),oneLightPoleB:Vh(2,7),twoLightPoleLT:Vh(0,6),twoLightPoleRT:Vh(1,6),twoLightPoleB:Vh(3,7),dryingPole1:Vh(0,8),dryingPole2:Vh(1,9),dryingPole3:Vh(2,9),dryingPole4:Vh(3,9),dryingPole5:Vh(4,9),trashCan1:Vh(9,10),trashCan2:Vh(10,10),fireHyd:Vh(8,10),boxes1:Vh(4,11),boxes2:Vh(5,11),boxes3:Vh(6,11),boxes4:Vh(7,11),bench:Vh(3,14),redWallSide1:Vh(16,0),redWallSide2:Vh(16,1),redWallSide3:Vh(16,2),redWallSide4:Vh(16,3),redWallCenter1:Vh(17,0),redWallCenter2:Vh(18,0),redWallCenter3:Vh(19,0),redWallCenter4:Vh(17,1),redWallCenter5:Vh(18,1),redWallCenter6:Vh(19,1),redWallCenter7:Vh(17,2),redWallCenter8:Vh(18,2),redWallCenter9:Vh(19,2),redWallCenter10:Vh(17,3),redWallCenter11:Vh(18,3),redWallCenter12:Vh(19,3),redWindowCenter1:Vh(11,13),redWindowCenter2:Vh(11,14),redWindowSide:Vh(11,12),redBigDoor:Vh(15,10),redSideDoor:Vh(12,9),brownWallSide1:Vh(16,4),brownWallSide2:Vh(16,5),brownWallSide3:Vh(16,6),brownWallSide4:Vh(16,7),brownWallCenter1:Vh(20,4),brownWallCenter2:Vh(21,4),brownWallCenter3:Vh(22,4),brownWallCenter4:Vh(20,5),brownWallCenter5:Vh(21,5),brownWallCenter6:Vh(22,5),brownWallCenter7:Vh(20,6),brownWallCenter8:Vh(21,6),brownWallCenter9:Vh(22,6),brownWallCenter10:Vh(20,7),brownWallCenter11:Vh(21,7),brownWallCenter12:Vh(22,7),brownWindowCenter1:Vh(11,16),brownWindowCenter2:Vh(11,17),brownWindowSide:Vh(11,15),brownBigDoor1:Vh(7,15),brownBigDoor2:Vh(8,15),blueRoof1:Vh(0,3),blueRoof2:Vh(1,3),blueRoof3:Vh(2,3),blueRoof4:Vh(0,4),blueRoof5:Vh(1,4),blueRoof6:Vh(2,4),blueRoof7:Vh(0,5),blueRoof8:Vh(1,5),blueRoof9:Vh(2,5),yellowRoof1:Vh(8,3),yellowRoof2:Vh(9,3),yellowRoof3:Vh(10,3),yellowRoof4:Vh(8,4),yellowRoof5:Vh(9,4),yellowRoof6:Vh(10,4),yellowRoof7:Vh(8,5),yellowRoof8:Vh(9,5),yellowRoof9:Vh(10,5),unit:Vh(9,12),sidewalk1:Vh(8,0),sidewalk2:Vh(9,0),sidewalk3:Vh(10,0),sidewalk4:Vh(8,1),sidewalk5:Vh(9,1),sidewalk6:Vh(10,1),sidewalk7:Vh(8,2),sidewalk8:Vh(9,2),sidewalk9:Vh(10,2),sidewalk10:Vh(12,2),sidewalk11:Vh(15,1),sidewalk12:Vh(15,0),parkingLine1:Vh(4,17),parkingSymbol:Vh(10,16),barH:Vh(1,11),parkingMeter:Vh(1,7)},Yh=n.p+"static/media/city_tilemap_packed.3ac41c08fbbfa9ac1363.png",qh=Si.from(Yh);function Kh(e,t){return new js(qh,new Hi(16*e,16*t,16,16))}qh.scaleMode=Cn.NEAREST;const Qh={wallGrey1:Kh(5,5),wallGrey2:Kh(6,5),wallGrey3:Kh(7,5),wallGrey4:Kh(5,8),wallGrey5:Kh(6,8),wallGrey6:Kh(7,8),buildingWindowL:Kh(20,23),buildingWindowM:Kh(21,23),buildingWindowR:Kh(22,23),buildingWindowGreenL:Kh(20,23),buildingWindowGreenM:Kh(21,23),buildingWindowGreenR:Kh(22,23),roofGrey1:Kh(16,0),roofGrey2:Kh(18,0),roofGrey3:Kh(17,0),roofGrey4:Kh(18,0),roofGrey5:Kh(22,0),roofGrey6:Kh(19,1),roofGrey7:Kh(16,1),roofGrey8:Kh(18,1),roofGrey9:Kh(17,1),windowGrey:Kh(25,19),doorL:Kh(23,23),doorR:Kh(24,23),signRedL:Kh(35,8),signRedR:Kh(36,8),signBlueL:Kh(35,7),signBlueR:Kh(36,7),atm:Kh(27,8),displayBoard1:Kh(15,21),displayBoard2:Kh(18,22),displayBoard3:Kh(16,21),displayBoard4:Kh(15,22),displayBoard5:Kh(17,22),displayBoard6:Kh(16,22),board1:Kh(24,0),board2:Kh(26,0),board3:Kh(25,0),board4:Kh(27,0),board5:Kh(30,0),board6:Kh(27,1),board7:Kh(24,1),board8:Kh(26,1),board9:Kh(25,1),boardL:Kh(21,12),boardR:Kh(22,12)},Zh={ground:0,decor:1e6,building:2e6,character:3e6,ui:1e7};function Jh(e){var t,n,r;let i=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"decor",s=arguments.length>2?arguments[2]:void 0;const o=null===(t=null===s||void 0===s?void 0:s.useBottom)||void 0===t||t,a=null!==(n=e.y)&&void 0!==n?n:0,l=null!==(r=e.height)&&void 0!==r?r:0,u=o?a+l:a,c=Zh[i];e.zIndex=c+u}function $h(e,t){e.zIndex=Zh.character+t}const ed=n.p+"static/media/cinemaSign.603ee2cd1110a3e7964b.png",td=n.p+"static/media/computerSign.137b91c5cc5bec26f3b9.png",nd=n.p+"static/media/churchPng.2d507363756e8516b2fa.png";function rd(e,t,n,r,i){var s,o,a,l,u,c;const h=id[i.landmarkKind];if(!h)return null;const d=t-h.width*Dh/2,f=n-h.height*Dh,p=new Ea(i.texture),m=null!==(s=i.widthRatio)&&void 0!==s?s:.7,g=h.width*Dh*m,y=i.texture.width,v=(i.texture.height,y?g/y:1);p.scale.set(v);const b=null!==(o=i.offsetX)&&void 0!==o?o:0,_=null!==(a=i.offsetY)&&void 0!==a?a:0;p.x=d+(h.width*Dh-p.width)/2+b,p.y=f+_,e.addChild(p);const x=p.y,w=Dh*(null!==(l=i.hoverAmpTiles)&&void 0!==l?l:0),A=null!==(u=i.hoverSpeed)&&void 0!==u?u:.06;return r.push({kind:"sprite",s:p,baseY:x,amp:w,speed:A,phase:null!==(c=i.hoverPhase)&&void 0!==c?c:Math.random()*Math.PI*2}),p}const id={cinema:{width:6,height:5,rows:[[Xh.blueRoof1,Xh.blueRoof2,Xh.blueRoof2,Xh.blueRoof2,Xh.blueRoof2,Xh.blueRoof3],[Xh.blueRoof7,Xh.blueRoof8,Xh.blueRoof8,Xh.blueRoof8,Xh.blueRoof8,Xh.blueRoof9],[Xh.redWallSide1,Xh.redWallCenter1,Xh.redWallCenter2,Xh.redWallCenter2,Xh.redWallCenter3,Xh.redWallSide2],[Xh.redWallSide2,Xh.redWallCenter4,Xh.redWallCenter5,Xh.redWallCenter5,Xh.redWallCenter6,Xh.redWallSide2],[Xh.redWallSide4,Xh.redWallCenter10,Xh.redWallCenter11,Xh.redWallCenter11,Xh.redWallCenter11,Xh.redWallSide4]]},computer:{width:4,height:5,rows:[[Xh.yellowRoof1,Xh.yellowRoof2,Xh.yellowRoof2,Xh.yellowRoof3],[Xh.yellowRoof7,Xh.yellowRoof8,Xh.yellowRoof8,Xh.yellowRoof9],[Xh.brownWallSide1,Xh.brownWallCenter1,Xh.brownWallCenter3,Xh.brownWallSide1],[Xh.brownWallSide2,Xh.brownWallCenter4,Xh.brownWallCenter6,Xh.brownWallSide2],[Xh.brownWallSide4,Xh.brownWallCenter10,Xh.brownWallCenter12,Xh.brownWallSide4]]},bank:{width:5,height:6,rows:[[Qh.roofGrey1,Qh.roofGrey2,Qh.roofGrey2,Qh.roofGrey2,Qh.roofGrey3],[Qh.roofGrey7,Qh.roofGrey8,Qh.roofGrey8,Qh.roofGrey8,Qh.roofGrey9],[Qh.buildingWindowL,Qh.buildingWindowGreenM,Qh.buildingWindowGreenM,Qh.buildingWindowGreenM,Qh.buildingWindowGreenR],[Qh.buildingWindowL,Qh.buildingWindowGreenM,Qh.buildingWindowGreenM,Qh.buildingWindowGreenM,Qh.buildingWindowGreenR],[Qh.buildingWindowL,Qh.buildingWindowGreenM,Qh.buildingWindowGreenM,Qh.buildingWindowGreenM,Qh.buildingWindowGreenR],[Qh.buildingWindowL,Qh.buildingWindowGreenM,Qh.buildingWindowGreenM,Qh.buildingWindowGreenM,Qh.buildingWindowGreenR]]},board:{width:3,height:2,rows:[[Qh.board1,Qh.board2,Qh.board3],[Qh.board7,Qh.board8,Qh.board9]]}};function sd(e,t,n){const r=js.from(nd);r.baseTexture.scaleMode=Cn.NEAREST;const i=new Ea(r);i.anchor.set(.5,1),i.x=t,i.y=n;const s=160/r.width;return i.scale.set(s),e.addChild(i),{sprite:i,scale:s,targetW:160}}function od(e){return e>=Dh?e:e*Dh}function ad(e,t,n){Lh.forEach(t=>{const r=id[t.kind];if(!r)return;const i=od(t.x),s=od(t.y);if(function(e,t,n,r){const{width:i,height:s,rows:o}=t,a=n-i*Dh/2,l=r-s*Dh;for(let c=0;c<s;c++)for(let t=0;t<i;t++){var u;const n=null===(u=o[c])||void 0===u?void 0:u[t];if(!n)continue;const r=new Ea(n);r.x=a+t*Dh,r.y=l+c*Dh,r.width=Dh,r.height=Dh,Jh(r,"building"),e.addChild(r)}}(e.building,r,i,s),"bank"===t.kind){const t=1062.4,r=0;!function(e,t,n,r){const i=new hc;i.x=t,i.y=n,Jh(i,"decor",{useBottom:!1}),e.addChild(i);const s=111.2/6,o=[];for(let a=0;a<5;a++)for(let r=0;r<6;r++){const i=new Mc("0.00",{fontFamily:"monospace",fontSize:6,fill:16777215});i.x=t+2+r*s+1,i.y=n+2+24+2+6.8*a+1,Jh(i,"decor",{useBottom:!1}),e.addChild(i),o.push({text:i,row:a,col:r})}r.push({kind:"bank",g:i,width:115.2,height:64,cells:o})}(e.overlay,t,r,n)}if("cinema"===t.kind){rd(e.overlay,i,s,n,{landmarkKind:"cinema",texture:js.from(ed),widthRatio:.9,offsetX:0,offsetY:0,hoverAmpTiles:0,hoverSpeed:.15})}"computer"===t.kind&&rd(e.overlay,t.x,t.y,n,{landmarkKind:"computer",texture:js.from(td),widthRatio:1.3,offsetY:-30,hoverAmpTiles:0,hoverSpeed:.15})}),Nh.forEach(t=>{const n=t.x*Dh,r=t.y*Dh;!function(e,t,n,r){const i="orangeS"===t||"blueS"===t?3:4,s=n-i*Dh/2,o=r-96;let a=[],l=[],u=[];switch(t){case"orangeM":a=[Hh.roofOrangeLT,Hh.roofOrangeChimney,Hh.roofOrangeMT,Hh.roofOrangeRT],l=[Hh.roofOrangeLB,Hh.roofOrangeMB,Hh.roofOrangeGable,Hh.roofOrangeRB],u=[Hh.wallOrangeL,Hh.closeOrangeWindow,Hh.closeOrangeDoor,Hh.wallOrangeR];break;case"orangeS":a=[Hh.roofOrangeLT,Hh.roofOrangeMT,Hh.roofOrangeRT],l=[Hh.roofOrangeLB,Hh.roofOrangeGable,Hh.roofOrangeRB],u=[Hh.wallOrangeL,Hh.closeOrangeDoor,Hh.wallOrangeR];break;case"blueS":a=[Hh.roofBlueLT,Hh.roofBlueMT,Hh.roofBlueRT],l=[Hh.roofBlueLB,Hh.roofBlueGable,Hh.roofBlueRB],u=[Hh.wallBlueL,Hh.closeBlueDoor,Hh.wallBlueR];break;case"blueM":a=[Hh.roofBlueLT,Hh.roofBlueChimney,Hh.roofBlueMT,Hh.roofBlueRT],l=[Hh.roofBlueLB,Hh.roofBlueMB,Hh.roofBlueGable,Hh.roofBlueRB],u=[Hh.wallBlueL,Hh.closeBlueWindow,Hh.closeBlueDoor,Hh.wallBlueR]}for(let c=0;c<i;c++){const t=new Ea(a[c]);t.x=s+c*Dh,t.y=o,t.width=Dh,t.height=Dh,Jh(t,"building"),e.addChild(t)}for(let c=0;c<i;c++){const t=new Ea(l[c]);t.x=s+c*Dh,t.y=o+Dh,t.width=Dh,t.height=Dh,Jh(t,"building"),e.addChild(t)}for(let c=0;c<i;c++){const t=new Ea(u[c]);t.x=s+c*Dh,t.y=o+64,t.width=Dh,t.height=Dh,Jh(t,"building"),e.addChild(t)}}(e.building,t.kind,n,r)})}const ld=[16773800,11796428,11067647,16762833,16109823];function ud(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:.8;return(255&(e>>16&255)*t)<<16|(255&(e>>8&255)*t)<<8|255&(255&e)*t}function cd(e,t,n,r,i){let s=arguments.length>5&&void 0!==arguments[5]?arguments[5]:6;const o=10;e.sortableChildren=!0;const a=t+4,l=n+4,u=r-8,c=i-8,h=[];function d(e,t){return h.every(n=>{const r=n.x-e,i=n.y-t;return Math.sqrt(r*r+i*i)>14})}for(let f=0;f<s;f++){const t=ld[Math.floor(Math.random()*ld.length)];let n=0,r=0,i=0;do{n=a+Math.random()*u,r=l+Math.random()*c,i++}while(!d(n,r)&&i<50);h.push({x:n,y:r});const s=n-5,f=r-5,p=.15*(Math.random()-.5),m=new hc;m.beginFill(0,.18),m.drawRoundedRect(2,3,o,o,2),m.endFill(),m.x=s,m.y=f,m.rotation=p,m.zIndex=1001;const g=ud(t,.7),y=new hc;y.lineStyle(2,g,1),y.beginFill(t),y.drawRoundedRect(0,0,o,o,2),y.endFill(),y.x=s,y.y=f,y.rotation=p,y.zIndex=1002,e.addChild(m),e.addChild(y)}}class hd{constructor(e){var t,n,r,i,s,o,a,l,c,h,d;this.sprite=void 0,this.baseTexture=void 0,this.tileSize=void 0,this.sizeTiles=void 0,this.frameW=void 0,this.frameH=void 0,this.rows=void 0,this.idleRow=void 0,this.walkCols=void 0,this.jumpCols=void 0,this.idleCol=void 0,this.direction="down",this.moving=!1,this.isJumping=!1,this.animSet=void 0,this.tileSize=e.tileSize,this.sizeTiles=null!==(t=e.sizeTiles)&&void 0!==t?t:2.2;const f=e.texture,p=null!==(n=null!==(r=f.baseTexture)&&void 0!==r?r:null===(i=f.texture)||void 0===i?void 0:i.baseTexture)&&void 0!==n?n:f.source?Si.from(f.source):void 0;this.baseTexture=null!==p&&void 0!==p?p:e.texture.baseTexture,(null===(s=e.nearest)||void 0===s||s)&&(this.baseTexture.scaleMode=Cn.NEAREST),this.frameW=e.frameW,this.frameH=e.frameH,this.rows=u({down:0,left:1,right:1,up:1,jump:2},e.rows||{}),this.idleRow=null!==(o=e.idleRow)&&void 0!==o?o:0,this.walkCols=null!==(a=e.walkCols)&&void 0!==a?a:[1,2,3,4],this.jumpCols=null!==(l=e.jumpCols)&&void 0!==l?l:[0,1,2],this.idleCol=null!==(c=e.idleCol)&&void 0!==c?c:0,this.animSet=this.buildDefaultAnimSet(),this.sprite=new Yc(this.makeFrames(null!==(h=this.animSet.idle)&&void 0!==h&&h.down?[this.animSet.idle.down]:this.animSet.walk.down)),this.sprite.anchor.set(.5,1),this.sprite.loop=!0,this.sprite.animationSpeed=null!==(d=this.animSet.speed)&&void 0!==d?d:.12,this.sprite.gotoAndStop(0),this.applyWorldSize(),this.applyFlip()}setDirection(e,t){if(this.isJumping)return;let n=this.direction;if(t){n="up"===e||"down"===e?this.direction:e}else n="down";const r=n!==this.direction||t!==this.moving;this.direction=n,this.moving=t,r&&this.applyAnim()}setAnimSet(e){var t;this.animSet=u(u({},this.animSet),e),this.sprite.animationSpeed=null!==(t=e.speed)&&void 0!==t?t:this.sprite.animationSpeed,this.applyAnim()}applyAnim(){var e,t,n;if(this.isJumping)return;const r=this.direction,i=null!==(e=null===(t=this.animSet.idle)||void 0===t?void 0:t[r])&&void 0!==e?e:null===(n=this.animSet.walk[r])||void 0===n?void 0:n[0],s=this.animSet.walk[r],o=this.moving?s:i?[i]:[s[0]];this.sprite.textures=this.makeFrames(o),this.moving?this.sprite.play():this.sprite.gotoAndStop(0),this.applyWorldSize(),this.applyFlip()}playJumpAnim(){if(this.isJumping)return;this.isJumping=!0;const e=this.animSet.jump||this.jumpCols.map(e=>this.frameRect("jump",e));this.sprite.textures=this.makeFrames(e),this.sprite.loop=!1,this.sprite.gotoAndPlay(0);const t=e.length/this.sprite.animationSpeed*16.6;setTimeout(()=>{this.isJumping=!1,this.sprite.loop=!0,this.applyAnim()},t+100)}applyFlip(){this.sprite.anchor.set(.5,1);const e=Math.abs(this.sprite.scale.x);"left"===this.direction?this.sprite.scale.x=-e:"right"===this.direction&&(this.sprite.scale.x=e)}makeFrames(e){return e.map(e=>"texture"===e.kind?e.texture:new js(this.baseTexture,new Hi(e.x,e.y,e.w,e.h)))}buildDefaultAnimSet(){const e={down:this.walkCols.map(e=>this.frameRect("down",e)),left:this.walkCols.map(e=>this.frameRect("right",e)),right:this.walkCols.map(e=>this.frameRect("right",e)),up:this.walkCols.map(e=>this.frameRect("up",e)),jump:this.jumpCols.map(e=>this.frameRect("jump",e))};return{walk:e,idle:{down:this.idleRect(this.idleCol),left:this.idleRect(this.idleCol),right:this.idleRect(this.idleCol),up:this.idleRect(this.idleCol)},jump:e.jump,speed:.12}}idleRect(e){var t;const n=null!==(t=this.idleRow)&&void 0!==t?t:0;return{kind:"rect",x:e*this.frameW,y:n*this.frameH,w:this.frameW,h:this.frameH}}frameRect(e,t){var n;const r=null!==(n=this.rows[e])&&void 0!==n?n:0;return{kind:"rect",x:t*this.frameW,y:r*this.frameH,w:this.frameW,h:this.frameH}}applyWorldSize(){var e,t;const n=null!==(e=null===(t=this.sprite.texture.frame)||void 0===t?void 0:t.height)&&void 0!==e?e:32,r=this.tileSize*this.sizeTiles/n,i=this.sprite.scale.x<0?-1:1;this.sprite.scale.set(r*i,r)}}const dd="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAMAAAACgCAYAAABaKGNdAAAAAXNSR0IArs4c6QAACRlJREFUeJzt3TFoHFcex/GfjoNLuXcqosawSYrsosYgBC63iRUMEcLFpQySCktdEBxEqNYJYjDuvE3kUxdSCRUmkpuBaxaMQY3YdWFb4GYbwZa5aq8YvdHbp1E0M543b3f9/UCIZnel/8zb92ZmZfT7SwAAAAAAAAAAAAAAAAAAAAAAAACAyTBT9Bvnm42h+9hZt1f45yEfxr8cfy3yTfPNxnD2H39XrVZznxpW9SaEngAh64/D+E+L3AvAHvzBYDDyJnz15RdSBW9C6AkQsv44jP80KXQFkKTBYKCT3e9HHvvn4+OP3qHbhJ4AoesbocZ/2hReACe732ths63XzzYkSQubbUnV3QaEngCh67u1Jentu/d8DsjpL0W/8bQTJZNf0sjXVTAL0FjYbFc6AULXNzXTvkZ2hRbAz999XvZ+5BZ6AYas//N3nwc//mmR6xZovtkYnkQv9GpvTVI8CYx+f6CT6IXutx54uwc29T8830p93nd9I/QJoN8fSLo+/sgv8xXATD7bndUnI/+X4kmY9ivCj2XX7/cH6vcHOu1EyX+/Hx56rW/vw031fda26xvu+PuuP41y3QLNdo802z0aecye/GnPl8n9+e4E8Fl/nE4Aafvgu/60yv1boNNOpOh8oFa9psePHiaPt+o1nXYi3b3XKnP/Uuvb7Angu37a4nJPAD6Zn3/T+PuuP40yL4Czbm9mYbM9lKRvvv5M0flAL9/8oZHt47500PPymxC3ftoEWD/oeatvjMsJIG385yqoP21yXQHOur2Z+WZj2KrH//jz8k1fUvzmm22fk+96/XgC7C7NjbzGV22zAE09t77PBZhef3T8qzgBAAAAAAAAAAAAAAAAAAAAAAAAAAAQBn86V1DodOpPXVnjXzgbNDTiycOalvEvvACmZQA+pnbIdGjGv5zxn7gGGeMyAUOmQzP+5Y3/RDbIkMYjnjxEPDzjHytr/CeuQYYRuj9BWjpzlRHljH8541+4P0DofPzQ8eShMf7lKHwFCHkGDDUBb4uHrxLjf3M8v5T9SjRRDTJCx5Mbi9v7+nZlJcnhrDqe/FMc/6zp3K+fbej1s43M+5FrAWQdgKriwauMJ5fis8r91oNk+7QTVZoOfdv4V1HbVtX4zzcbw9fPNjTbPZI9/m7t+60H19LDb5P5FuimAfjwfEt3Vp+of3lZsj4Ulf7biNDx5MbjRw/VqtcUnQ+kTpwQ3arX9NPT/1RSf3F7PzlWswj7e2veO+SEHn87GTstnVvKHxCcaQGYFajukRY22yNpzO4K/OWHhteI7pDx5PPNxvCbrz+TNBpPHos/A8TPN7xMwssrUHIicq9A9nj4EmL87WTseFwbQzPexs5xsWTyTN9gFsBpJ9L6QS/J54/Or3aiVa9p57g/stN5dybLfkhmkmkkH9/e9tmjzCx+d8D/7Lky65tjdcd7d2kuWZQ+j18KN/7uvpQx3pmuAGkrsFXXyCLw9aa7+xG6P8GOlPpbhj97rkzmWO3xNhOzVa8lY+JD6PF396WK8QYAAAAAAAAAAAAAAAAAAAAAAAAAjIvCf0oWOh8/dH1Mh4lLhzb1L4Ngg9TH9MidDOemE9u++vIL78loZvK7tauqj+kyMenQ9sQ2seBuPLj92ipiyt3HuPpMnsILoMp4bDeXSIoXgZuR+e///i8J5vKRTGfvz6feImlaFI5HDxmPLcULcP2gp7v3Wrp7r6X1g57evnvvvW7oW0CUq9AVoOp0YhPMdRK90Mmq9OH5VuoCvGguS5IWWg+8346EblCBcuRaACHz8e1cTFPLrb/YXNb9Cia/FL5DCsqR+RYoSzy273x8N57crV/V5JfC3wKiHJkWQNZ89tnuUa7mBGWw6/tmTgJbi38L2qAD5cl1C3RbPrvveHIjSaXeWxtJqN5dmtOOp9/EZO2P4DujH+XK/Ca50dhSHIftRmNL1bQKdWPC3e0y9yHpjyCN9EdY3N5PXvNqb007x/2RzwQsgvGX+QrgRmNfTbJG5RHVpu7u0tzIfoxul8+9AprbQdMvwbymiqsgypF7opgrwTic3dx/8fX5L8D2vb3dmCFtWxqP8QEAAAAAAAAAAAAAAAAAAAAAAAAAAMBUKPR3qyGTkd3aIf72lmTo6ZE7GzRkMvINjTEqzeAhGXq65EqHDpmMfFNjjCoTmUmGnj6F0qFDJSOPSyLzuOwHPl6h/gAmGdlY2Gzr7bv33u+D0+r+9q8lnyUz70cVx4/yFboCpCUj2xPCF1O3vfJjXPfw6UhEelXS9qOK40f5ci+AqptjZGXff/s8E9vHv3H41FcZVCTzAritOYbPVGS79kVzWRuHSvbB1JbieHZJXvqDhTx++JO5P8BtzTEkPw0y0mpfNJd12omu9QbwdTsU8vjhV6azVdZ48G9XVpLXlHEmdOtKcRCtXdfUlq7CaX2c/UMcP/ybiAYZ7pndruvyOfHGpUEIypO7QYaka00x3O2ym1PYP9NujmHXv963oFyhjh9+5WqQIcUTwUy2l2/iWw57u+w3P+3nXa/XGJp98TX5Qh0/AAAAAAAAAAAAAAAAAAAAAAAAAAAAAHzKJq5BBlCmiWqQAZQt14R1G0S4i6CKiHCuPijTRDXIMAtQkrv4uPqgkEILwDSIcHM7fU5Ce/LfsPhYBMitUIcYu0FEe+XHkWYZvqV1ZzFIZkZeE9Ugw5z507qzWFcjL70BJD5rTKPCDTIumsu691MkSfr98DBpECH5T2i+s/okqX3RXNZJtKzT51tekpmdaPTUK4ydG2pvY/xlWgDJJOgeaXF7X6/21vRqb02L2/v68HwrecznWViKF5ok/froYRJI++tlRHmrXkue98FEo//yQyN5rN+PW6XuSENJSd+AHU+fR267xWPh5Ze7P8D6ZjuJA9femqLzgdS5zMk/PEyaRJTtrNub2ZGGZpJV5azbm1nYbA9Pohc6Wb1qxmGz49nLZk96+9ij80HKq7kC5ZW7P8BZtzdjZ/S36jXtHPflbvt6E+zarpdv/vBa174FNMxE9NGfwL79umguS7pagKZJh+99mHa5+wNcfd0Y7i7NWYPtbvthat22jz7Yk989A0fnA28L8LQT6c7lAgCA0vwfV9lDKOxuH1QAAAAASUVORK5CYII=",fd=(e,t,n,r)=>({kind:"rect",x:e,y:t,w:n,h:r});const pd={wedding:n.p+"static/media/ring.a995bfaed410df3b5e64.png",flickfacts:n.p+"static/media/movie.9a9d8464839960faf365.png",chromeapp:n.p+"static/media/com.f54337ca396cb0cf4b50.png",crypto:n.p+"static/media/coin.6f5e9cfbc1ac6cc7a5fc.png",bento:n.p+"static/media/note.155962ae5c7b7263838e.png"};var md=n(579);const gd=new Set(["redWindowCenter1","redWindowCenter2","redWindowSide","redSideDoor","redBigDoor","unit","brownWindowCenter1","brownWindowCenter2","brownWindowSide","brownBigDoor1","brownBigDoor2","doorL","doorR","signBlueL","signBlueR","atm"]);function yd(e){return gd.has(e)}function vd(e,t){return e.x<t.x+t.w&&e.x+e.w>t.x&&e.y<t.y+t.h&&e.y+e.h>t.y}class bd{constructor(){this.solids=[]}clear(){this.solids=[]}add(e){this.solids.push(e)}hitsAny(e){for(const t of this.solids)if(vd(e,t))return!0;return!1}}function _d(e){return e.startsWith("fence")||e.startsWith("treeGreenGroup")||e.startsWith("treeYellowGroup")||"treeGreenSmall"===e||"treeYellowSmall"===e||"bush"===e||"mushroom"===e||"plant"===e||"trashCan1"===e||"trashCan2"===e||"boxes1"===e||"boxes2"===e||"boxes3"===e||"boxes4"===e||"fireHyd"===e||"bench"===e||"atm"===e||"parkingMeter"===e||"barH"===e||"unit"===e||e.startsWith("well")||e.endsWith("Tall2")||e.endsWith("Tall1")||e.startsWith("board")||e.startsWith("drying")||e.startsWith("oneLight")||e.startsWith("twoLight")||e.startsWith("sunflower")}const xd=6262227,wd=0,Ad=1,Ed=2,Sd=3,Td=4,Cd=5,kd=6,Rd=7,Pd=8,Id=9,Md=10,Dd=11,Od=12,Ld=13;function Nd(e){switch(e){case wd:return null;case Ad:return Hh.grass;case Ed:return Hh.grassDecor;case Sd:return Hh.grassFlower;case Td:return Hh.dirt1;case Cd:return Hh.dirt2;case kd:return Hh.dirt3;case Rd:return Hh.dirt4;case Pd:return Hh.dirt5;case Id:return Hh.dirt6;case Md:return Hh.dirt7;case Dd:return Hh.dirt8;case Od:return Hh.dirt9;case Ld:return Hh.path;default:return Hh.grass}}function Fd(){const[e,n]=(0,t.useState)(!1),[r,i]=yn(Ph),[s,o]=yn(Ih),[a,l]=yn(Rh),[,u]=yn(Mh),c=mn(Sh),h=(0,t.useRef)(c.size),d=(0,t.useRef)(null),f=(0,t.useRef)(null),p=(0,t.useRef)(null),m=(0,t.useRef)(null),g=(0,t.useRef)(null),y=(0,t.useRef)(null),v=(0,t.useRef)(null),b=(0,t.useRef)([]),_=(0,t.useRef)(null),x=mn(wh),w=mn(Th),A=mn(Ch),E=Oh[x],S=(0,t.useRef)([]);return(0,t.useEffect)(()=>{let e=!1;return(async()=>{try{await Ml.load([ed,dd])}catch(ly){console.warn("[assets] load failed (continuing anyway)",ly)}finally{e||n(!0)}})(),()=>{e=!0}},[]),(0,t.useEffect)(()=>{if(f.current||!d.current)return;const e=new qa({view:d.current,width:window.innerWidth,height:window.innerHeight,backgroundColor:xd,antialias:!1,autoDensity:!0,resolution:window.devicePixelRatio||1}),t=new xa,n=new xa;t.addChild(n);const r=function(){const e=new xa,t=new xa,n=new xa,r=new xa,i=new xa;return t.sortableChildren=!0,n.sortableChildren=!0,r.sortableChildren=!0,i.sortableChildren=!0,{ground:e,actors:t,buildingDetail:n,player:r,overlay:i}}();n.sortableChildren=!0,r.ground.zIndex=0,r.actors.zIndex=10,r.buildingDetail.zIndex=20,r.player.zIndex=30,r.overlay.zIndex=40,n.addChild(r.ground),n.addChild(r.actors),n.addChild(r.buildingDetail),n.addChild(r.player),n.addChild(r.overlay),n.sortChildren();const i=js.from(dd),s=new hd({texture:i,tileSize:Dh,sizeTiles:2.2,frameW:32,frameH:32,rows:{down:0,up:0,right:1,left:1},idleRow:0,walkCols:[1,2,3,4],idleCol:0});var o,a;s.setAnimSet(function(e){const{frameW:t,frameH:n,idleRow:r,sideRow:i,jumpRow:s=2,idleCol:o=0,walkCols:a=[0,1,2,3,4,5],jumpCols:l=[0,1,2],speed:u=.12}=e,c=fd(o*t,r*n,t,n),h=a.map(e=>fd(e*t,i*n,t,n)),d=l.map(e=>fd(e*t,s*n,t,n)),f=[c];return{walk:{right:h,left:h,down:f,up:f,jump:d},jump:d,idle:{down:fd(0,r*n,t,n),up:fd(0,r*n,t,n),left:fd(o*t,i*n,t,n),right:fd(o*t,i*n,t,n)},speed:u}}({frameW:32,frameH:32,idleRow:0,sideRow:1,verticalRow:1,idleCol:0,walkCols:[0,1,2,3,4,5],jumpCols:[0,1,2],speed:.18})),y.current=s,v.current={x:w.x,y:w.y},r.player.addChild(s.sprite),e.stage.addChild(t),o=n,a=e.stage,o.sortableChildren=!0,a&&(a.sortableChildren=!0);const l=new bd;_.current=l,globalThis.__collisionWorld=l,f.current=e,p.current=t,m.current=n,g.current=r;const u=()=>{const n=window.innerWidth,r=window.innerHeight;e.renderer.resize(n,r);const i=Math.max(n/704,r/384),s=Math.max(1,Math.ceil(i));t.scale.set(s),t.x=Math.floor((n-704*s)/2),t.y=Math.floor((r-384*s)/2)};return u(),window.addEventListener("resize",u),()=>{window.removeEventListener("resize",u),e.destroy(!0),f.current=null,p.current=null,m.current=null,g.current=null,_.current=null,y.current=null,v.current=null,delete globalThis.__collisionWorld}},[]),(0,t.useEffect)(()=>{const e=m.current,t=g.current,n=_.current;if(!e||!t||!n||!E)return;S.current=[],i(null),o(null),t.ground.removeChildren(),t.actors.removeChildren(),t.buildingDetail.removeChildren(),t.overlay.removeChildren(),n.clear(),b.current=[];const r=new xa;Jh(r,"ground");for(let i=0;i<E.tiles.length;i++){const e=E.tiles[i];for(let t=0;t<e.length;t++){const n=Nd(e[t]);if(!n)continue;const s=new Ea(n);s.x=t*Dh,s.y=i*Dh,s.width=Dh,s.height=Dh,Jh(s,"ground"),r.addChild(s)}}t.ground.addChild(r),ad({building:t.actors,object:t.actors,overlay:t.overlay},0,b.current);for(const i of Lh){if("board"!==i.kind)continue;const e=id[i.kind];if(!e)continue;const n=6,r=6,s=i.x-e.width*Dh/2+n,o=i.y-e.height*Dh+r+2,a=e.width*Dh-2*n,l=e.height*Dh-r-10;cd(t.buildingDetail,s,o,a,l,6)}const s=1376,a=192;sd(t.buildingDetail,s,a);const l=1024/1536*160,u=a-l,c=l;n.add({x:1296,y:u,w:160,h:c});for(const i of Lh){const e=id[i.kind];if(!e)continue;const t=i.x-e.width*Dh/2,r=i.y-e.height*Dh;n.add({x:t,y:r,w:e.width*Dh,h:e.height*Dh})}const h={"lm-cinema":"flickfacts","lm-computer":"chromeapp","lm-bank":"crypto","lm-board":"bento"};for(const i of Lh){const e=id[i.kind];if(!e)continue;const t=i.x-e.width*Dh/2,n=i.y-e.height*Dh,r=70.4,s=51.2,o=i.x-r/2,a=i.y-s,l="board"===i.kind?{x:t,y:n,w:Dh*e.width,h:Dh*(e.height+1)}:{x:o,y:a,w:r,h:s},u=h[i.id];u&&("board"===i.kind&&console.log("[board]",{id:i.id,projectId:u,aabb:l,def:e}),S.current.push({id:i.id,aabb:l,hint:"E : Open",action:{type:"project",projectId:u}}))}sd(t.buildingDetail,s,a),S.current.push({id:"lm-church",aabb:{x:1337.6,y:140.8,w:76.8,h:51.2},hint:"E : Open",action:{type:"project",projectId:"wedding"}});for(const i of Nh){const e="orangeS"===i.kind||"blueS"===i.kind?3:4,t=3,r=i.x*Dh,s=i.y*Dh,o=r-e*Dh/2,a=s-t*Dh;n.add({x:o,y:a,w:e*Dh,h:t*Dh})}const d=new xa,f=new xa;for(const i of Fh){let e=null;switch(i.kind){case"treeGreenGroup1":e=Hh.treeGreenGroup1;break;case"treeGreenGroup2":e=Hh.treeGreenGroup2;break;case"treeGreenGroup3":e=Hh.treeGreenGroup3;break;case"treeGreenGroup4":e=Hh.treeGreenGroup4;break;case"treeGreenGroup5":e=Hh.treeGreenGroup5;break;case"treeGreenGroup6":e=Hh.treeGreenGroup6;break;case"treeGreenGroup7":e=Hh.treeGreenGroup7;break;case"treeGreenGroup8":e=Hh.treeGreenGroup8;break;case"treeGreenGroup9":e=Hh.treeGreenGroup9;break;case"treeYellowGroup1":e=Hh.treeYellowGroup1;break;case"treeYellowGroup2":e=Hh.treeYellowGroup2;break;case"treeYellowGroup3":e=Hh.treeYellowGroup3;break;case"treeYellowGroup4":e=Hh.treeYellowGroup4;break;case"treeYellowGroup5":e=Hh.treeYellowGroup5;break;case"treeYellowGroup6":e=Hh.treeYellowGroup6;break;case"treeYellowGroup7":e=Hh.treeYellowGroup7;break;case"treeYellowGroup8":e=Hh.treeYellowGroup8;break;case"treeYellowGroup9":e=Hh.treeYellowGroup9;break;case"bush":e=Hh.bush;break;case"treeYellowSmall":e=Hh.treeYellowSmall;break;case"treeGreenSmall":e=Hh.treeGreenSmall;break;case"plant":e=Hh.plant;break;case"mushroom":e=Hh.mushroom;break;case"sunflowerT":e=Hh.sunflowerT;break;case"sunflowerB":e=Hh.sunflowerB;break;case"treeYellowTall1":e=Hh.treeYellowTall1;break;case"treeYellowTall2":e=Hh.treeYellowTall2;break;case"treeGreenTall1":e=Hh.treeGreenTall1;break;case"treeGreenTall2":e=Hh.treeGreenTall2;break;case"well1":e=Hh.wellT;break;case"well2":e=Hh.wellB;break;case"fenceSquare1":e=Hh.fenceSquare1;break;case"fenceSquare2":e=Hh.fenceSquare2;break;case"fenceSquare3":e=Hh.fenceSquare3;break;case"fenceSquare4":e=Hh.fenceSquare4;break;case"fenceSquare5":e=Hh.fenceSquare5;break;case"fenceSquare6":e=Hh.fenceSquare6;break;case"fenceSquare7":e=Hh.fenceSquare7;break;case"fenceSquare8":e=Hh.fenceSquare8;break;case"fenceH1":e=Hh.fenceH1;break;case"fenceH2":e=Hh.fenceH2;break;case"fenceH3":e=Hh.fenceH3;break;case"fenceV1":e=Hh.fenceV1;break;case"fenceV2":e=Hh.fenceV2;break;case"fenceV3":e=Hh.fenceV3;break;case"sign":e=Hh.sign;break;case"oneLightPoleT":e=Xh.oneLightPoleT;break;case"oneLightPoleB":e=Xh.oneLightPoleB;break;case"twoLightPoleLT":e=Xh.twoLightPoleLT;break;case"twoLightPoleRT":e=Xh.twoLightPoleRT;break;case"twoLightPoleB":e=Xh.twoLightPoleB;break;case"dryingPole1":e=Xh.dryingPole1;break;case"dryingPole2":e=Xh.dryingPole2;break;case"dryingPole3":e=Xh.dryingPole3;break;case"dryingPole4":e=Xh.dryingPole4;break;case"dryingPole5":e=Xh.dryingPole5;break;case"trashCan1":e=Xh.trashCan1;break;case"trashCan2":e=Xh.trashCan2;break;case"fireHyd":e=Xh.fireHyd;break;case"boxes1":e=Xh.boxes1;break;case"boxes2":e=Xh.boxes2;break;case"boxes3":e=Xh.boxes3;break;case"boxes4":e=Xh.boxes4;break;case"bench":e=Xh.bench;break;case"parkingMeter":e=Xh.parkingMeter;break;case"barH":e=Xh.barH;break;case"signRedL":e=Qh.signRedL;break;case"signRedR":e=Qh.signRedR;break;case"signBlueL":case"signBlueL":e=Qh.signBlueL;break;case"signBlueR":case"signBlueR":e=Qh.signBlueR;break;case"atm":case"atm":e=Qh.atm;break;case"board1":e=Qh.board1;break;case"board2":e=Qh.board2;break;case"board3":e=Qh.board3;break;case"board4":e=Qh.board4;break;case"board5":e=Qh.board5;break;case"board6":e=Qh.board6;break;case"board7":e=Qh.board7;break;case"board8":e=Qh.board8;break;case"board9":e=Qh.board9;break;case"boardL":e=Qh.boardL;break;case"boardR":e=Qh.boardR;break;case"redWindowCenter1":e=Xh.redWindowCenter1;break;case"redWindowCenter2":e=Xh.redWindowCenter2;break;case"redWindowSide":e=Xh.redWindowSide;break;case"redSideDoor":e=Xh.redSideDoor;break;case"redBigDoor":e=Xh.redBigDoor;break;case"unit":e=Xh.unit;break;case"brownWindowCenter1":e=Xh.brownWindowCenter1;break;case"brownWindowCenter2":e=Xh.brownWindowCenter2;break;case"brownWindowSide":e=Xh.brownWindowSide;break;case"brownBigDoor1":e=Xh.brownBigDoor1;break;case"brownBigDoor2":e=Xh.brownBigDoor2;break;case"doorL":e=Qh.doorL;break;case"doorR":e=Qh.doorR;break;case"tomato":e=Hh.tomato;break;case"radish":e=Hh.radish;break;case"corn":e=Hh.corn;break;case"carrot":e=Hh.carrot;break;case"carrot2":e=Hh.carrot2;break;default:e=null}if(!e)continue;const t=i.x,r=i.y,s=new Ea(e);s.x=t,s.y=r,s.width=Dh,s.height=Dh,yd(i.kind)?(s.zIndex=0,f.addChild(s)):(_d(i.kind)&&n.add({x:t,y:r,w:Dh,h:Dh}),$h(s,r+Dh),d.addChild(s))}y.current&&(t.player.removeChildren(),t.player.addChild(y.current.sprite)),t.actors.addChild(d),t.buildingDetail.addChild(f),t.actors.sortChildren(),t.buildingDetail.sortChildren(),t.overlay.sortChildren()},[x,E,e]),(0,t.useEffect)(()=>{const e=m.current,t=y.current;e&&t&&(e.x=-A,e.y=0,t.sprite.x=w.x,t.sprite.y=w.y+0,t.setDirection(w.dir,w.moving),$h(t.sprite,w.y+0),v.current={x:w.x,y:w.y})},[w.x,w.y,w.dir,w.moving,A]),(0,t.useEffect)(()=>{const e=f.current;if(!e)return;const t=function(e,t){let n=0,r=0;const i=e=>{const i=t.current;if(i.length){n+=.08*e,r+=e;for(const t of i){if("simple"===t.kind){t.g.alpha=.8+.2*Math.sin(performance.now()/300);continue}if("sprite"===t.kind){t.phase+=e*t.speed,t.s.y=t.baseY+Math.sin(t.phase)*t.amp;continue}const{g:i,width:s,height:o,cells:a}=t;i.clear(),i.lineStyle(2,2236962),i.beginFill(329480),i.drawRect(0,0,s,o),i.endFill();const l=2,u=s-2*l,c=o-2*l,h=.4*c,d=c-h-2,f=3,p=u/f;for(let e=0;e<f;e++){const t=1789810,r=16*(Math.sin(1.5*n+e)+1)|0,s=t>>8&255,o=255&t,a=((t>>16&255)<<16|Math.min(255,s+r)<<8|Math.min(255,o+r))>>>0;i.lineStyle(1,663605),i.beginFill(a),i.drawRect(l+p*e,l,p-2,h),i.endFill()}i.beginFill(328965),i.drawRect(l,l+h+2,u,d),i.endFill(),r>6&&(r=0,a.forEach(e=>{let{text:t,col:n}=e;if(Math.random()<.4)return;const r=Math.random()<.15?(3e4*Math.random()).toFixed(0):(999*Math.random()).toFixed(2);t.text=r,t.style.fill=n%3===0?16777215:Math.random()>.5?65359:16724816}))}}};return e.ticker.add(i),()=>e.ticker.remove(i)}(e,b);return()=>null===t||void 0===t?void 0:t()},[]),(0,t.useEffect)(()=>{if(a)return;const e=f.current;if(!e)return;const t=()=>{const e=y.current;if(!e)return;const t={x:e.sprite.x-19.2,y:e.sprite.y-28.8,w:38.4,h:28.8},n=S.current;let s=null;for(const r of n)if(vd(t,r.aabb)){s=r;break}const a=s?s.id:null;a!==r&&(i(a),o(s?s.hint:null),u(s?s.action:null))};return e.ticker.add(t),()=>{e.ticker.remove(t)}},[r,i,o]),(0,t.useEffect)(()=>{if(console.log("\ud604\uc7ac \uc778\ubca4\ud1a0\ub9ac \ud06c\uae30:",c.size),c.size>h.current){const e=y.current,t=g.current;if(e&&t){const n=Array.from(c),r=n[n.length-1],i=js.from(pd[r]||pd[0]);((e,t,n,r)=>{const i=new Ea(r);i.texture.baseTexture.scaleMode=Cn.NEAREST,i.anchor.set(.5),i.width=24,i.height=24,i.x=t,i.y=n-50,i.zIndex=2e3,i.alpha=0,e.addChild(i);let s=0;const o=i.y,a=()=>{s++;const t=s/60;i.y=o+30*t,i.alpha=t<.2?5*t:1-t;const n=24*(1-.6*t);i.width=n,i.height=n,s>=60&&(e.removeChild(i),Zo.shared.remove(a))};Zo.shared.add(a)})(t.player,e.sprite.x,e.sprite.y,i)}}h.current=c.size},[c]),(0,md.jsx)("div",{style:{position:"fixed",inset:0},children:(0,md.jsx)("canvas",{id:"game-canvas",ref:d,style:{position:"fixed",inset:0,width:"100%",height:"100%",display:"block",imageRendering:"pixelated",zIndex:0}})})}const Bd={img:dd,frameW:32,frameH:32,cols:6,col:0,row:0,scale:8};function Ud(){const{img:e,frameW:t,frameH:n,col:r,row:i,scale:s}=Bd;return(0,md.jsx)("div",{style:{width:t*s,height:n*s,backgroundImage:"url(".concat(e,")"),backgroundRepeat:"no-repeat",backgroundSize:"".concat(6*t*s,"px ").concat(5*n*s,"px"),backgroundPosition:"".concat(-r*t*s,"px ").concat(-i*n*s,"px"),imageRendering:"pixelated",flexShrink:0,borderRadius:6}})}function Gd(){const[e,t]=yn(kh);if(!e)return null;const{lines:n,index:r}=e,i=r>=n.length-1;return(0,md.jsx)("div",{onClick:()=>{t(i?null:e=>e?u(u({},e),{},{index:e.index+1}):e)},style:{position:"fixed",left:0,bottom:0,width:"100%",padding:"12px 16px",boxSizing:"border-box",cursor:"pointer",zIndex:2500},children:(0,md.jsxs)("div",{style:{display:"flex",alignItems:"flex-end",gap:12,maxWidth:720,margin:"0 auto"},children:[(0,md.jsx)(Ud,{}),(0,md.jsxs)("div",{style:{background:"rgba(0,0,0,0.8)",color:"#fff",padding:"10px 14px",borderRadius:6,fontFamily:"monospace",fontSize:14,lineHeight:1.4,position:"relative"},children:[n[r],(0,md.jsx)("div",{style:{marginTop:6,fontSize:11,opacity:.7,textAlign:"right"},children:i?"Click / Enter : close":"Click / Enter : next"})]})]})})}rn(null,(e,t,n)=>{const r=e(Sh);if(r.has(n))return;const i=new Set(r);i.add(n),t(Sh,i)});const zd=rn(null,(e,t)=>{t(Sh,new Set)}),Hd=rn(null,(e,t)=>{const n=e(Rh);if(console.log("Atom level close trigger - active:",n),!n)return;const r=e(Eh);if(!r[n]){console.log("Marking as seen and adding to inventory:",n),t(Eh,u(u({},r),{},{[n]:!0}));const i=e(Sh),s=new Set(i);s.add(n),t(Sh,s)}t(Rh,null)});var jd=function(){return jd=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var i in t=arguments[n])Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e},jd.apply(this,arguments)};Object.create;function Wd(e,t,n){if(n||2===arguments.length)for(var r,i=0,s=t.length;i<s;i++)!r&&i in t||(r||(r=Array.prototype.slice.call(t,0,i)),r[i]=t[i]);return e.concat(r||Array.prototype.slice.call(t))}Object.create;"function"===typeof SuppressedError&&SuppressedError;var Vd=n(7324),Xd=n.n(Vd),Yd="-ms-",qd="-moz-",Kd="-webkit-",Qd="comm",Zd="rule",Jd="decl",$d="@keyframes",ef=Math.abs,tf=String.fromCharCode,nf=Object.assign;function rf(e){return e.trim()}function sf(e,t){return(e=t.exec(e))?e[0]:e}function of(e,t,n){return e.replace(t,n)}function af(e,t,n){return e.indexOf(t,n)}function lf(e,t){return 0|e.charCodeAt(t)}function uf(e,t,n){return e.slice(t,n)}function cf(e){return e.length}function hf(e){return e.length}function df(e,t){return t.push(e),e}function ff(e,t){return e.filter(function(e){return!sf(e,t)})}var pf=1,mf=1,gf=0,yf=0,vf=0,bf="";function _f(e,t,n,r,i,s,o,a){return{value:e,root:t,parent:n,type:r,props:i,children:s,line:pf,column:mf,length:o,return:"",siblings:a}}function xf(e,t){return nf(_f("",null,null,"",null,null,0,e.siblings),e,{length:-e.length},t)}function wf(e){for(;e.root;)e=xf(e.root,{children:[e]});df(e,e.siblings)}function Af(){return vf=yf>0?lf(bf,--yf):0,mf--,10===vf&&(mf=1,pf--),vf}function Ef(){return vf=yf<gf?lf(bf,yf++):0,mf++,10===vf&&(mf=1,pf++),vf}function Sf(){return lf(bf,yf)}function Tf(){return yf}function Cf(e,t){return uf(bf,e,t)}function kf(e){switch(e){case 0:case 9:case 10:case 13:case 32:return 5;case 33:case 43:case 44:case 47:case 62:case 64:case 126:case 59:case 123:case 125:return 4;case 58:return 3;case 34:case 39:case 40:case 91:return 2;case 41:case 93:return 1}return 0}function Rf(e){return pf=mf=1,gf=cf(bf=e),yf=0,[]}function Pf(e){return bf="",e}function If(e){return rf(Cf(yf-1,Of(91===e?e+2:40===e?e+1:e)))}function Mf(e){for(;(vf=Sf())&&vf<33;)Ef();return kf(e)>2||kf(vf)>3?"":" "}function Df(e,t){for(;--t&&Ef()&&!(vf<48||vf>102||vf>57&&vf<65||vf>70&&vf<97););return Cf(e,Tf()+(t<6&&32==Sf()&&32==Ef()))}function Of(e){for(;Ef();)switch(vf){case e:return yf;case 34:case 39:34!==e&&39!==e&&Of(vf);break;case 40:41===e&&Of(e);break;case 92:Ef()}return yf}function Lf(e,t){for(;Ef()&&e+vf!==57&&(e+vf!==84||47!==Sf()););return"/*"+Cf(t,yf-1)+"*"+tf(47===e?e:Ef())}function Nf(e){for(;!kf(Sf());)Ef();return Cf(e,yf)}function Ff(e,t){for(var n="",r=0;r<e.length;r++)n+=t(e[r],r,e,t)||"";return n}function Bf(e,t,n,r){switch(e.type){case"@layer":if(e.children.length)break;case"@import":case Jd:return e.return=e.return||e.value;case Qd:return"";case $d:return e.return=e.value+"{"+Ff(e.children,r)+"}";case Zd:if(!cf(e.value=e.props.join(",")))return""}return cf(n=Ff(e.children,r))?e.return=e.value+"{"+n+"}":""}function Uf(e,t,n){switch(function(e,t){return 45^lf(e,0)?(((t<<2^lf(e,0))<<2^lf(e,1))<<2^lf(e,2))<<2^lf(e,3):0}(e,t)){case 5103:return Kd+"print-"+e+e;case 5737:case 4201:case 3177:case 3433:case 1641:case 4457:case 2921:case 5572:case 6356:case 5844:case 3191:case 6645:case 3005:case 6391:case 5879:case 5623:case 6135:case 4599:case 4855:case 4215:case 6389:case 5109:case 5365:case 5621:case 3829:return Kd+e+e;case 4789:return qd+e+e;case 5349:case 4246:case 4810:case 6968:case 2756:return Kd+e+qd+e+Yd+e+e;case 5936:switch(lf(e,t+11)){case 114:return Kd+e+Yd+of(e,/[svh]\w+-[tblr]{2}/,"tb")+e;case 108:return Kd+e+Yd+of(e,/[svh]\w+-[tblr]{2}/,"tb-rl")+e;case 45:return Kd+e+Yd+of(e,/[svh]\w+-[tblr]{2}/,"lr")+e}case 6828:case 4268:case 2903:return Kd+e+Yd+e+e;case 6165:return Kd+e+Yd+"flex-"+e+e;case 5187:return Kd+e+of(e,/(\w+).+(:[^]+)/,Kd+"box-$1$2"+Yd+"flex-$1$2")+e;case 5443:return Kd+e+Yd+"flex-item-"+of(e,/flex-|-self/g,"")+(sf(e,/flex-|baseline/)?"":Yd+"grid-row-"+of(e,/flex-|-self/g,""))+e;case 4675:return Kd+e+Yd+"flex-line-pack"+of(e,/align-content|flex-|-self/g,"")+e;case 5548:return Kd+e+Yd+of(e,"shrink","negative")+e;case 5292:return Kd+e+Yd+of(e,"basis","preferred-size")+e;case 6060:return Kd+"box-"+of(e,"-grow","")+Kd+e+Yd+of(e,"grow","positive")+e;case 4554:return Kd+of(e,/([^-])(transform)/g,"$1"+Kd+"$2")+e;case 6187:return of(of(of(e,/(zoom-|grab)/,Kd+"$1"),/(image-set)/,Kd+"$1"),e,"")+e;case 5495:case 3959:return of(e,/(image-set\([^]*)/,Kd+"$1$`$1");case 4968:return of(of(e,/(.+:)(flex-)?(.*)/,Kd+"box-pack:$3"+Yd+"flex-pack:$3"),/s.+-b[^;]+/,"justify")+Kd+e+e;case 4200:if(!sf(e,/flex-|baseline/))return Yd+"grid-column-align"+uf(e,t)+e;break;case 2592:case 3360:return Yd+of(e,"template-","")+e;case 4384:case 3616:return n&&n.some(function(e,n){return t=n,sf(e.props,/grid-\w+-end/)})?~af(e+(n=n[t].value),"span",0)?e:Yd+of(e,"-start","")+e+Yd+"grid-row-span:"+(~af(n,"span",0)?sf(n,/\d+/):+sf(n,/\d+/)-+sf(e,/\d+/))+";":Yd+of(e,"-start","")+e;case 4896:case 4128:return n&&n.some(function(e){return sf(e.props,/grid-\w+-start/)})?e:Yd+of(of(e,"-end","-span"),"span ","")+e;case 4095:case 3583:case 4068:case 2532:return of(e,/(.+)-inline(.+)/,Kd+"$1$2")+e;case 8116:case 7059:case 5753:case 5535:case 5445:case 5701:case 4933:case 4677:case 5533:case 5789:case 5021:case 4765:if(cf(e)-1-t>6)switch(lf(e,t+1)){case 109:if(45!==lf(e,t+4))break;case 102:return of(e,/(.+:)(.+)-([^]+)/,"$1"+Kd+"$2-$3$1"+qd+(108==lf(e,t+3)?"$3":"$2-$3"))+e;case 115:return~af(e,"stretch",0)?Uf(of(e,"stretch","fill-available"),t,n)+e:e}break;case 5152:case 5920:return of(e,/(.+?):(\d+)(\s*\/\s*(span)?\s*(\d+))?(.*)/,function(t,n,r,i,s,o,a){return Yd+n+":"+r+a+(i?Yd+n+"-span:"+(s?o:+o-+r)+a:"")+e});case 4949:if(121===lf(e,t+6))return of(e,":",":"+Kd)+e;break;case 6444:switch(lf(e,45===lf(e,14)?18:11)){case 120:return of(e,/(.+:)([^;\s!]+)(;|(\s+)?!.+)?/,"$1"+Kd+(45===lf(e,14)?"inline-":"")+"box$3$1"+Kd+"$2$3$1"+Yd+"$2box$3")+e;case 100:return of(e,":",":"+Yd)+e}break;case 5719:case 2647:case 2135:case 3927:case 2391:return of(e,"scroll-","scroll-snap-")+e}return e}function Gf(e,t,n,r){if(e.length>-1&&!e.return)switch(e.type){case Jd:return void(e.return=Uf(e.value,e.length,n));case $d:return Ff([xf(e,{value:of(e.value,"@","@"+Kd)})],r);case Zd:if(e.length)return function(e,t){return e.map(t).join("")}(n=e.props,function(t){switch(sf(t,r=/(::plac\w+|:read-\w+)/)){case":read-only":case":read-write":wf(xf(e,{props:[of(t,/:(read-\w+)/,":-moz-$1")]})),wf(xf(e,{props:[t]})),nf(e,{props:ff(n,r)});break;case"::placeholder":wf(xf(e,{props:[of(t,/:(plac\w+)/,":"+Kd+"input-$1")]})),wf(xf(e,{props:[of(t,/:(plac\w+)/,":-moz-$1")]})),wf(xf(e,{props:[of(t,/:(plac\w+)/,Yd+"input-$1")]})),wf(xf(e,{props:[t]})),nf(e,{props:ff(n,r)})}return""})}}function zf(e){return Pf(Hf("",null,null,null,[""],e=Rf(e),0,[0],e))}function Hf(e,t,n,r,i,s,o,a,l){for(var u=0,c=0,h=o,d=0,f=0,p=0,m=1,g=1,y=1,v=0,b="",_=i,x=s,w=r,A=b;g;)switch(p=v,v=Ef()){case 40:if(108!=p&&58==lf(A,h-1)){-1!=af(A+=of(If(v),"&","&\f"),"&\f",ef(u?a[u-1]:0))&&(y=-1);break}case 34:case 39:case 91:A+=If(v);break;case 9:case 10:case 13:case 32:A+=Mf(p);break;case 92:A+=Df(Tf()-1,7);continue;case 47:switch(Sf()){case 42:case 47:df(Wf(Lf(Ef(),Tf()),t,n,l),l);break;default:A+="/"}break;case 123*m:a[u++]=cf(A)*y;case 125*m:case 59:case 0:switch(v){case 0:case 125:g=0;case 59+c:-1==y&&(A=of(A,/\f/g,"")),f>0&&cf(A)-h&&df(f>32?Vf(A+";",r,n,h-1,l):Vf(of(A," ","")+";",r,n,h-2,l),l);break;case 59:A+=";";default:if(df(w=jf(A,t,n,u,c,i,a,b,_=[],x=[],h,s),s),123===v)if(0===c)Hf(A,t,w,w,_,s,h,a,x);else switch(99===d&&110===lf(A,3)?100:d){case 100:case 108:case 109:case 115:Hf(e,w,w,r&&df(jf(e,w,w,0,0,i,a,b,i,_=[],h,x),x),i,x,h,a,r?_:x);break;default:Hf(A,w,w,w,[""],x,0,a,x)}}u=c=f=0,m=y=1,b=A="",h=o;break;case 58:h=1+cf(A),f=p;default:if(m<1)if(123==v)--m;else if(125==v&&0==m++&&125==Af())continue;switch(A+=tf(v),v*m){case 38:y=c>0?1:(A+="\f",-1);break;case 44:a[u++]=(cf(A)-1)*y,y=1;break;case 64:45===Sf()&&(A+=If(Ef())),d=Sf(),c=h=cf(b=A+=Nf(Tf())),v++;break;case 45:45===p&&2==cf(A)&&(m=0)}}return s}function jf(e,t,n,r,i,s,o,a,l,u,c,h){for(var d=i-1,f=0===i?s:[""],p=hf(f),m=0,g=0,y=0;m<r;++m)for(var v=0,b=uf(e,d+1,d=ef(g=o[m])),_=e;v<p;++v)(_=rf(g>0?f[v]+" "+b:of(b,/&\f/g,f[v])))&&(l[y++]=_);return _f(e,t,n,0===i?Zd:a,l,u,c,h)}function Wf(e,t,n,r){return _f(e,t,n,Qd,tf(vf),uf(e,2,-2),0,r)}function Vf(e,t,n,r,i){return _f(e,t,n,Jd,uf(e,0,r),uf(e,r+1,-1),r,i)}var Xf={animationIterationCount:1,aspectRatio:1,borderImageOutset:1,borderImageSlice:1,borderImageWidth:1,boxFlex:1,boxFlexGroup:1,boxOrdinalGroup:1,columnCount:1,columns:1,flex:1,flexGrow:1,flexPositive:1,flexShrink:1,flexNegative:1,flexOrder:1,gridRow:1,gridRowEnd:1,gridRowSpan:1,gridRowStart:1,gridColumn:1,gridColumnEnd:1,gridColumnSpan:1,gridColumnStart:1,msGridRow:1,msGridRowSpan:1,msGridColumn:1,msGridColumnSpan:1,fontWeight:1,lineHeight:1,opacity:1,order:1,orphans:1,tabSize:1,widows:1,zIndex:1,zoom:1,WebkitLineClamp:1,fillOpacity:1,floodOpacity:1,stopOpacity:1,strokeDasharray:1,strokeDashoffset:1,strokeMiterlimit:1,strokeOpacity:1,strokeWidth:1},Yf="undefined"!=typeof process&&void 0!=={NODE_ENV:"production",PUBLIC_URL:"/rpg-portfolio",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0}&&({NODE_ENV:"production",PUBLIC_URL:"/rpg-portfolio",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0}.REACT_APP_SC_ATTR||{NODE_ENV:"production",PUBLIC_URL:"/rpg-portfolio",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0}.SC_ATTR)||"data-styled",qf="active",Kf="data-styled-version",Qf="6.1.19",Zf="/*!sc*/\n",Jf="undefined"!=typeof window&&"undefined"!=typeof document,$f=Boolean("boolean"==typeof SC_DISABLE_SPEEDY?SC_DISABLE_SPEEDY:"undefined"!=typeof process&&void 0!=={NODE_ENV:"production",PUBLIC_URL:"/rpg-portfolio",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0}&&void 0!=={NODE_ENV:"production",PUBLIC_URL:"/rpg-portfolio",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0}.REACT_APP_SC_DISABLE_SPEEDY&&""!=={NODE_ENV:"production",PUBLIC_URL:"/rpg-portfolio",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0}.REACT_APP_SC_DISABLE_SPEEDY?"false"!=={NODE_ENV:"production",PUBLIC_URL:"/rpg-portfolio",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0}.REACT_APP_SC_DISABLE_SPEEDY&&{NODE_ENV:"production",PUBLIC_URL:"/rpg-portfolio",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0}.REACT_APP_SC_DISABLE_SPEEDY:"undefined"!=typeof process&&void 0!=={NODE_ENV:"production",PUBLIC_URL:"/rpg-portfolio",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0}&&void 0!=={NODE_ENV:"production",PUBLIC_URL:"/rpg-portfolio",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0}.SC_DISABLE_SPEEDY&&""!=={NODE_ENV:"production",PUBLIC_URL:"/rpg-portfolio",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0}.SC_DISABLE_SPEEDY&&("false"!=={NODE_ENV:"production",PUBLIC_URL:"/rpg-portfolio",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0}.SC_DISABLE_SPEEDY&&{NODE_ENV:"production",PUBLIC_URL:"/rpg-portfolio",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0}.SC_DISABLE_SPEEDY)),ep={},tp=(new Set,Object.freeze([])),np=Object.freeze({});function rp(e,t,n){return void 0===n&&(n=np),e.theme!==n.theme&&e.theme||t||n.theme}var ip=new Set(["a","abbr","address","area","article","aside","audio","b","base","bdi","bdo","big","blockquote","body","br","button","canvas","caption","cite","code","col","colgroup","data","datalist","dd","del","details","dfn","dialog","div","dl","dt","em","embed","fieldset","figcaption","figure","footer","form","h1","h2","h3","h4","h5","h6","header","hgroup","hr","html","i","iframe","img","input","ins","kbd","keygen","label","legend","li","link","main","map","mark","menu","menuitem","meta","meter","nav","noscript","object","ol","optgroup","option","output","p","param","picture","pre","progress","q","rp","rt","ruby","s","samp","script","section","select","small","source","span","strong","style","sub","summary","sup","table","tbody","td","textarea","tfoot","th","thead","time","tr","track","u","ul","use","var","video","wbr","circle","clipPath","defs","ellipse","foreignObject","g","image","line","linearGradient","marker","mask","path","pattern","polygon","polyline","radialGradient","rect","stop","svg","text","tspan"]),sp=/[!"#$%&'()*+,./:;<=>?@[\\\]^`{|}~-]+/g,op=/(^-|-$)/g;function ap(e){return e.replace(sp,"-").replace(op,"")}var lp=/(a)(d)/gi,up=function(e){return String.fromCharCode(e+(e>25?39:97))};function cp(e){var t,n="";for(t=Math.abs(e);t>52;t=t/52|0)n=up(t%52)+n;return(up(t%52)+n).replace(lp,"$1-$2")}var hp,dp=function(e,t){for(var n=t.length;n;)e=33*e^t.charCodeAt(--n);return e},fp=function(e){return dp(5381,e)};function pp(e){return cp(fp(e)>>>0)}function mp(e){return e.displayName||e.name||"Component"}function gp(e){return"string"==typeof e&&!0}var yp="function"==typeof Symbol&&Symbol.for,vp=yp?Symbol.for("react.memo"):60115,bp=yp?Symbol.for("react.forward_ref"):60112,_p={childContextTypes:!0,contextType:!0,contextTypes:!0,defaultProps:!0,displayName:!0,getDefaultProps:!0,getDerivedStateFromError:!0,getDerivedStateFromProps:!0,mixins:!0,propTypes:!0,type:!0},xp={name:!0,length:!0,prototype:!0,caller:!0,callee:!0,arguments:!0,arity:!0},wp={$$typeof:!0,compare:!0,defaultProps:!0,displayName:!0,propTypes:!0,type:!0},Ap=((hp={})[bp]={$$typeof:!0,render:!0,defaultProps:!0,displayName:!0,propTypes:!0},hp[vp]=wp,hp);function Ep(e){return("type"in(t=e)&&t.type.$$typeof)===vp?wp:"$$typeof"in e?Ap[e.$$typeof]:_p;var t}var Sp=Object.defineProperty,Tp=Object.getOwnPropertyNames,Cp=Object.getOwnPropertySymbols,kp=Object.getOwnPropertyDescriptor,Rp=Object.getPrototypeOf,Pp=Object.prototype;function Ip(e,t,n){if("string"!=typeof t){if(Pp){var r=Rp(t);r&&r!==Pp&&Ip(e,r,n)}var i=Tp(t);Cp&&(i=i.concat(Cp(t)));for(var s=Ep(e),o=Ep(t),a=0;a<i.length;++a){var l=i[a];if(!(l in xp||n&&n[l]||o&&l in o||s&&l in s)){var u=kp(t,l);try{Sp(e,l,u)}catch(e){}}}}return e}function Mp(e){return"function"==typeof e}function Dp(e){return"object"==typeof e&&"styledComponentId"in e}function Op(e,t){return e&&t?"".concat(e," ").concat(t):e||t||""}function Lp(e,t){if(0===e.length)return"";for(var n=e[0],r=1;r<e.length;r++)n+=t?t+e[r]:e[r];return n}function Np(e){return null!==e&&"object"==typeof e&&e.constructor.name===Object.name&&!("props"in e&&e.$$typeof)}function Fp(e,t,n){if(void 0===n&&(n=!1),!n&&!Np(e)&&!Array.isArray(e))return t;if(Array.isArray(t))for(var r=0;r<t.length;r++)e[r]=Fp(e[r],t[r]);else if(Np(t))for(var r in t)e[r]=Fp(e[r],t[r]);return e}function Bp(e,t){Object.defineProperty(e,"toString",{value:t})}function Up(e){for(var t=[],n=1;n<arguments.length;n++)t[n-1]=arguments[n];return new Error("An error occurred. See https://github.com/styled-components/styled-components/blob/main/packages/styled-components/src/utils/errors.md#".concat(e," for more information.").concat(t.length>0?" Args: ".concat(t.join(", ")):""))}var Gp=function(){function e(e){this.groupSizes=new Uint32Array(512),this.length=512,this.tag=e}return e.prototype.indexOfGroup=function(e){for(var t=0,n=0;n<e;n++)t+=this.groupSizes[n];return t},e.prototype.insertRules=function(e,t){if(e>=this.groupSizes.length){for(var n=this.groupSizes,r=n.length,i=r;e>=i;)if((i<<=1)<0)throw Up(16,"".concat(e));this.groupSizes=new Uint32Array(i),this.groupSizes.set(n),this.length=i;for(var s=r;s<i;s++)this.groupSizes[s]=0}for(var o=this.indexOfGroup(e+1),a=(s=0,t.length);s<a;s++)this.tag.insertRule(o,t[s])&&(this.groupSizes[e]++,o++)},e.prototype.clearGroup=function(e){if(e<this.length){var t=this.groupSizes[e],n=this.indexOfGroup(e),r=n+t;this.groupSizes[e]=0;for(var i=n;i<r;i++)this.tag.deleteRule(n)}},e.prototype.getGroup=function(e){var t="";if(e>=this.length||0===this.groupSizes[e])return t;for(var n=this.groupSizes[e],r=this.indexOfGroup(e),i=r+n,s=r;s<i;s++)t+="".concat(this.tag.getRule(s)).concat(Zf);return t},e}(),zp=new Map,Hp=new Map,jp=1,Wp=function(e){if(zp.has(e))return zp.get(e);for(;Hp.has(jp);)jp++;var t=jp++;return zp.set(e,t),Hp.set(t,e),t},Vp=function(e,t){jp=t+1,zp.set(e,t),Hp.set(t,e)},Xp="style[".concat(Yf,"][").concat(Kf,'="').concat(Qf,'"]'),Yp=new RegExp("^".concat(Yf,'\\.g(\\d+)\\[id="([\\w\\d-]+)"\\].*?"([^"]*)')),qp=function(e,t,n){for(var r,i=n.split(","),s=0,o=i.length;s<o;s++)(r=i[s])&&e.registerName(t,r)},Kp=function(e,t){for(var n,r=(null!==(n=t.textContent)&&void 0!==n?n:"").split(Zf),i=[],s=0,o=r.length;s<o;s++){var a=r[s].trim();if(a){var l=a.match(Yp);if(l){var u=0|parseInt(l[1],10),c=l[2];0!==u&&(Vp(c,u),qp(e,c,l[3]),e.getTag().insertRules(u,i)),i.length=0}else i.push(a)}}},Qp=function(e){for(var t=document.querySelectorAll(Xp),n=0,r=t.length;n<r;n++){var i=t[n];i&&i.getAttribute(Yf)!==qf&&(Kp(e,i),i.parentNode&&i.parentNode.removeChild(i))}};function Zp(){return n.nc}var Jp=function(e){var t=document.head,n=e||t,r=document.createElement("style"),i=function(e){var t=Array.from(e.querySelectorAll("style[".concat(Yf,"]")));return t[t.length-1]}(n),s=void 0!==i?i.nextSibling:null;r.setAttribute(Yf,qf),r.setAttribute(Kf,Qf);var o=Zp();return o&&r.setAttribute("nonce",o),n.insertBefore(r,s),r},$p=function(){function e(e){this.element=Jp(e),this.element.appendChild(document.createTextNode("")),this.sheet=function(e){if(e.sheet)return e.sheet;for(var t=document.styleSheets,n=0,r=t.length;n<r;n++){var i=t[n];if(i.ownerNode===e)return i}throw Up(17)}(this.element),this.length=0}return e.prototype.insertRule=function(e,t){try{return this.sheet.insertRule(t,e),this.length++,!0}catch(e){return!1}},e.prototype.deleteRule=function(e){this.sheet.deleteRule(e),this.length--},e.prototype.getRule=function(e){var t=this.sheet.cssRules[e];return t&&t.cssText?t.cssText:""},e}(),em=function(){function e(e){this.element=Jp(e),this.nodes=this.element.childNodes,this.length=0}return e.prototype.insertRule=function(e,t){if(e<=this.length&&e>=0){var n=document.createTextNode(t);return this.element.insertBefore(n,this.nodes[e]||null),this.length++,!0}return!1},e.prototype.deleteRule=function(e){this.element.removeChild(this.nodes[e]),this.length--},e.prototype.getRule=function(e){return e<this.length?this.nodes[e].textContent:""},e}(),tm=function(){function e(e){this.rules=[],this.length=0}return e.prototype.insertRule=function(e,t){return e<=this.length&&(this.rules.splice(e,0,t),this.length++,!0)},e.prototype.deleteRule=function(e){this.rules.splice(e,1),this.length--},e.prototype.getRule=function(e){return e<this.length?this.rules[e]:""},e}(),nm=Jf,rm={isServer:!Jf,useCSSOMInjection:!$f},im=function(){function e(e,t,n){void 0===e&&(e=np),void 0===t&&(t={});var r=this;this.options=jd(jd({},rm),e),this.gs=t,this.names=new Map(n),this.server=!!e.isServer,!this.server&&Jf&&nm&&(nm=!1,Qp(this)),Bp(this,function(){return function(e){for(var t=e.getTag(),n=t.length,r="",i=function(n){var i=function(e){return Hp.get(e)}(n);if(void 0===i)return"continue";var s=e.names.get(i),o=t.getGroup(n);if(void 0===s||!s.size||0===o.length)return"continue";var a="".concat(Yf,".g").concat(n,'[id="').concat(i,'"]'),l="";void 0!==s&&s.forEach(function(e){e.length>0&&(l+="".concat(e,","))}),r+="".concat(o).concat(a,'{content:"').concat(l,'"}').concat(Zf)},s=0;s<n;s++)i(s);return r}(r)})}return e.registerId=function(e){return Wp(e)},e.prototype.rehydrate=function(){!this.server&&Jf&&Qp(this)},e.prototype.reconstructWithOptions=function(t,n){return void 0===n&&(n=!0),new e(jd(jd({},this.options),t),this.gs,n&&this.names||void 0)},e.prototype.allocateGSInstance=function(e){return this.gs[e]=(this.gs[e]||0)+1},e.prototype.getTag=function(){return this.tag||(this.tag=(e=function(e){var t=e.useCSSOMInjection,n=e.target;return e.isServer?new tm(n):t?new $p(n):new em(n)}(this.options),new Gp(e)));var e},e.prototype.hasNameForId=function(e,t){return this.names.has(e)&&this.names.get(e).has(t)},e.prototype.registerName=function(e,t){if(Wp(e),this.names.has(e))this.names.get(e).add(t);else{var n=new Set;n.add(t),this.names.set(e,n)}},e.prototype.insertRules=function(e,t,n){this.registerName(e,t),this.getTag().insertRules(Wp(e),n)},e.prototype.clearNames=function(e){this.names.has(e)&&this.names.get(e).clear()},e.prototype.clearRules=function(e){this.getTag().clearGroup(Wp(e)),this.clearNames(e)},e.prototype.clearTag=function(){this.tag=void 0},e}(),sm=/&/g,om=/^\s*\/\/.*$/gm;function am(e,t){return e.map(function(e){return"rule"===e.type&&(e.value="".concat(t," ").concat(e.value),e.value=e.value.replaceAll(",",",".concat(t," ")),e.props=e.props.map(function(e){return"".concat(t," ").concat(e)})),Array.isArray(e.children)&&"@keyframes"!==e.type&&(e.children=am(e.children,t)),e})}function lm(e){var t,n,r,i=void 0===e?np:e,s=i.options,o=void 0===s?np:s,a=i.plugins,l=void 0===a?tp:a,u=function(e,r,i){return i.startsWith(n)&&i.endsWith(n)&&i.replaceAll(n,"").length>0?".".concat(t):e},c=l.slice();c.push(function(e){e.type===Zd&&e.value.includes("&")&&(e.props[0]=e.props[0].replace(sm,n).replace(r,u))}),o.prefix&&c.push(Gf),c.push(Bf);var h=function(e,i,s,a){void 0===i&&(i=""),void 0===s&&(s=""),void 0===a&&(a="&"),t=a,n=i,r=new RegExp("\\".concat(n,"\\b"),"g");var l=e.replace(om,""),u=zf(s||i?"".concat(s," ").concat(i," { ").concat(l," }"):l);o.namespace&&(u=am(u,o.namespace));var h,d=[];return Ff(u,function(e){var t=hf(e);return function(n,r,i,s){for(var o="",a=0;a<t;a++)o+=e[a](n,r,i,s)||"";return o}}(c.concat((h=function(e){return d.push(e)},function(e){e.root||(e=e.return)&&h(e)})))),d};return h.hash=l.length?l.reduce(function(e,t){return t.name||Up(15),dp(e,t.name)},5381).toString():"",h}var um=new im,cm=lm(),hm=t.createContext({shouldForwardProp:void 0,styleSheet:um,stylis:cm}),dm=(hm.Consumer,t.createContext(void 0));function fm(){return(0,t.useContext)(hm)}function pm(e){var n=(0,t.useState)(e.stylisPlugins),r=n[0],i=n[1],s=fm().styleSheet,o=(0,t.useMemo)(function(){var t=s;return e.sheet?t=e.sheet:e.target&&(t=t.reconstructWithOptions({target:e.target},!1)),e.disableCSSOMInjection&&(t=t.reconstructWithOptions({useCSSOMInjection:!1})),t},[e.disableCSSOMInjection,e.sheet,e.target,s]),a=(0,t.useMemo)(function(){return lm({options:{namespace:e.namespace,prefix:e.enableVendorPrefixes},plugins:r})},[e.enableVendorPrefixes,e.namespace,r]);(0,t.useEffect)(function(){Xd()(r,e.stylisPlugins)||i(e.stylisPlugins)},[e.stylisPlugins]);var l=(0,t.useMemo)(function(){return{shouldForwardProp:e.shouldForwardProp,styleSheet:o,stylis:a}},[e.shouldForwardProp,o,a]);return t.createElement(hm.Provider,{value:l},t.createElement(dm.Provider,{value:a},e.children))}var mm=function(){function e(e,t){var n=this;this.inject=function(e,t){void 0===t&&(t=cm);var r=n.name+t.hash;e.hasNameForId(n.id,r)||e.insertRules(n.id,r,t(n.rules,r,"@keyframes"))},this.name=e,this.id="sc-keyframes-".concat(e),this.rules=t,Bp(this,function(){throw Up(12,String(n.name))})}return e.prototype.getName=function(e){return void 0===e&&(e=cm),this.name+e.hash},e}(),gm=function(e){return e>="A"&&e<="Z"};function ym(e){for(var t="",n=0;n<e.length;n++){var r=e[n];if(1===n&&"-"===r&&"-"===e[0])return e;gm(r)?t+="-"+r.toLowerCase():t+=r}return t.startsWith("ms-")?"-"+t:t}var vm=function(e){return null==e||!1===e||""===e},bm=function(e){var t,n,r=[];for(var i in e){var s=e[i];e.hasOwnProperty(i)&&!vm(s)&&(Array.isArray(s)&&s.isCss||Mp(s)?r.push("".concat(ym(i),":"),s,";"):Np(s)?r.push.apply(r,Wd(Wd(["".concat(i," {")],bm(s),!1),["}"],!1)):r.push("".concat(ym(i),": ").concat((t=i,null==(n=s)||"boolean"==typeof n||""===n?"":"number"!=typeof n||0===n||t in Xf||t.startsWith("--")?String(n).trim():"".concat(n,"px")),";")))}return r};function _m(e,t,n,r){return vm(e)?[]:Dp(e)?[".".concat(e.styledComponentId)]:Mp(e)?!Mp(i=e)||i.prototype&&i.prototype.isReactComponent||!t?[e]:_m(e(t),t,n,r):e instanceof mm?n?(e.inject(n,r),[e.getName(r)]):[e]:Np(e)?bm(e):Array.isArray(e)?Array.prototype.concat.apply(tp,e.map(function(e){return _m(e,t,n,r)})):[e.toString()];var i}function xm(e){for(var t=0;t<e.length;t+=1){var n=e[t];if(Mp(n)&&!Dp(n))return!1}return!0}var wm=fp(Qf),Am=function(){function e(e,t,n){this.rules=e,this.staticRulesId="",this.isStatic=(void 0===n||n.isStatic)&&xm(e),this.componentId=t,this.baseHash=dp(wm,t),this.baseStyle=n,im.registerId(t)}return e.prototype.generateAndInjectStyles=function(e,t,n){var r=this.baseStyle?this.baseStyle.generateAndInjectStyles(e,t,n):"";if(this.isStatic&&!n.hash)if(this.staticRulesId&&t.hasNameForId(this.componentId,this.staticRulesId))r=Op(r,this.staticRulesId);else{var i=Lp(_m(this.rules,e,t,n)),s=cp(dp(this.baseHash,i)>>>0);if(!t.hasNameForId(this.componentId,s)){var o=n(i,".".concat(s),void 0,this.componentId);t.insertRules(this.componentId,s,o)}r=Op(r,s),this.staticRulesId=s}else{for(var a=dp(this.baseHash,n.hash),l="",u=0;u<this.rules.length;u++){var c=this.rules[u];if("string"==typeof c)l+=c;else if(c){var h=Lp(_m(c,e,t,n));a=dp(a,h+u),l+=h}}if(l){var d=cp(a>>>0);t.hasNameForId(this.componentId,d)||t.insertRules(this.componentId,d,n(l,".".concat(d),void 0,this.componentId)),r=Op(r,d)}}return r},e}(),Em=t.createContext(void 0);Em.Consumer;var Sm={};new Set;function Tm(e,n,r){var i=Dp(e),s=e,o=!gp(e),a=n.attrs,l=void 0===a?tp:a,u=n.componentId,c=void 0===u?function(e,t){var n="string"!=typeof e?"sc":ap(e);Sm[n]=(Sm[n]||0)+1;var r="".concat(n,"-").concat(pp(Qf+n+Sm[n]));return t?"".concat(t,"-").concat(r):r}(n.displayName,n.parentComponentId):u,h=n.displayName,d=void 0===h?function(e){return gp(e)?"styled.".concat(e):"Styled(".concat(mp(e),")")}(e):h,f=n.displayName&&n.componentId?"".concat(ap(n.displayName),"-").concat(n.componentId):n.componentId||c,p=i&&s.attrs?s.attrs.concat(l).filter(Boolean):l,m=n.shouldForwardProp;if(i&&s.shouldForwardProp){var g=s.shouldForwardProp;if(n.shouldForwardProp){var y=n.shouldForwardProp;m=function(e,t){return g(e,t)&&y(e,t)}}else m=g}var v=new Am(r,f,i?s.componentStyle:void 0);function b(e,n){return function(e,n,r){var i=e.attrs,s=e.componentStyle,o=e.defaultProps,a=e.foldedComponentIds,l=e.styledComponentId,u=e.target,c=t.useContext(Em),h=fm(),d=e.shouldForwardProp||h.shouldForwardProp,f=rp(n,c,o)||np,p=function(e,t,n){for(var r,i=jd(jd({},t),{className:void 0,theme:n}),s=0;s<e.length;s+=1){var o=Mp(r=e[s])?r(i):r;for(var a in o)i[a]="className"===a?Op(i[a],o[a]):"style"===a?jd(jd({},i[a]),o[a]):o[a]}return t.className&&(i.className=Op(i.className,t.className)),i}(i,n,f),m=p.as||u,g={};for(var y in p)void 0===p[y]||"$"===y[0]||"as"===y||"theme"===y&&p.theme===f||("forwardedAs"===y?g.as=p.forwardedAs:d&&!d(y,m)||(g[y]=p[y]));var v=function(e,t){var n=fm();return e.generateAndInjectStyles(t,n.styleSheet,n.stylis)}(s,p),b=Op(a,l);return v&&(b+=" "+v),p.className&&(b+=" "+p.className),g[gp(m)&&!ip.has(m)?"class":"className"]=b,r&&(g.ref=r),(0,t.createElement)(m,g)}(_,e,n)}b.displayName=d;var _=t.forwardRef(b);return _.attrs=p,_.componentStyle=v,_.displayName=d,_.shouldForwardProp=m,_.foldedComponentIds=i?Op(s.foldedComponentIds,s.styledComponentId):"",_.styledComponentId=f,_.target=i?s.target:e,Object.defineProperty(_,"defaultProps",{get:function(){return this._foldedDefaultProps},set:function(e){this._foldedDefaultProps=i?function(e){for(var t=[],n=1;n<arguments.length;n++)t[n-1]=arguments[n];for(var r=0,i=t;r<i.length;r++)Fp(e,i[r],!0);return e}({},s.defaultProps,e):e}}),Bp(_,function(){return".".concat(_.styledComponentId)}),o&&Ip(_,e,{attrs:!0,componentStyle:!0,displayName:!0,foldedComponentIds:!0,shouldForwardProp:!0,styledComponentId:!0,target:!0}),_}function Cm(e,t){for(var n=[e[0]],r=0,i=t.length;r<i;r+=1)n.push(t[r],e[r+1]);return n}var km=function(e){return Object.assign(e,{isCss:!0})};function Rm(e){for(var t=[],n=1;n<arguments.length;n++)t[n-1]=arguments[n];if(Mp(e)||Np(e))return km(_m(Cm(tp,Wd([e],t,!0))));var r=e;return 0===t.length&&1===r.length&&"string"==typeof r[0]?_m(r):km(_m(Cm(r,t)))}function Pm(e,t,n){if(void 0===n&&(n=np),!t)throw Up(1,t);var r=function(r){for(var i=[],s=1;s<arguments.length;s++)i[s-1]=arguments[s];return e(t,n,Rm.apply(void 0,Wd([r],i,!1)))};return r.attrs=function(r){return Pm(e,t,jd(jd({},n),{attrs:Array.prototype.concat(n.attrs,r).filter(Boolean)}))},r.withConfig=function(r){return Pm(e,t,jd(jd({},n),r))},r}var Im=function(e){return Pm(Tm,e)},Mm=Im;ip.forEach(function(e){Mm[e]=Im(e)});var Dm=function(){function e(e,t){this.rules=e,this.componentId=t,this.isStatic=xm(e),im.registerId(this.componentId+1)}return e.prototype.createStyles=function(e,t,n,r){var i=r(Lp(_m(this.rules,t,n,r)),""),s=this.componentId+e;n.insertRules(s,s,i)},e.prototype.removeStyles=function(e,t){t.clearRules(this.componentId+e)},e.prototype.renderStyles=function(e,t,n,r){e>2&&im.registerId(this.componentId+e),this.removeStyles(e,n),this.createStyles(e,t,n,r)},e}();(function(){function e(){var e=this;this._emitSheetCSS=function(){var t=e.instance.toString();if(!t)return"";var n=Zp(),r=Lp([n&&'nonce="'.concat(n,'"'),"".concat(Yf,'="true"'),"".concat(Kf,'="').concat(Qf,'"')].filter(Boolean)," ");return"<style ".concat(r,">").concat(t,"</style>")},this.getStyleTags=function(){if(e.sealed)throw Up(2);return e._emitSheetCSS()},this.getStyleElement=function(){var n;if(e.sealed)throw Up(2);var r=e.instance.toString();if(!r)return[];var i=((n={})[Yf]="",n[Kf]=Qf,n.dangerouslySetInnerHTML={__html:r},n),s=Zp();return s&&(i.nonce=s),[t.createElement("style",jd({},i,{key:"sc-0-0"}))]},this.seal=function(){e.sealed=!0},this.instance=new im({isServer:!0}),this.sealed=!1}e.prototype.collectStyles=function(e){if(this.sealed)throw Up(2);return t.createElement(pm,{sheet:this.instance},e)},e.prototype.interleaveWithNodeStream=function(e){throw Up(3)}})(),"__sc-".concat(Yf,"__");const Om=n.p+"static/media/movieModal.6ac281f4a30a92e3a353.png",Lm=n.p+"static/media/comModal.65de9e1776a65e2619f4.png",Nm=n.p+"static/media/bankModal.66b153625eaf63b2b876.png",Fm=n.p+"static/media/weddingModal.3c4f6a4048374cc4243d.png",Bm=n.p+"static/media/kanbanModal.955e948445f59fca7cce.png",Um=n.p+"static/media/wedding.811ff7f83a0cf4dccd83.png",Gm=n.p+"static/media/flickfacts.2494db738f538b21c71b.png",zm=n.p+"static/media/bento.9f806b6bbb915b4d9fec.png",Hm=n.p+"static/media/chrome.40e44aa5c3efa6186e47.png",jm=n.p+"static/media/crypto.d4cd5cdda624fedfe001.png";var Wm,Vm,Xm,Ym,qm,Km;const Qm=Mm.div(Wm||(Wm=e(["\n  flex: 1;\n  margin-top: 20px;\n  padding-right: 15px;\n  overflow-y: scroll; \n  color: ",";\n  line-height: 1.6;\n  font-size: 15px;\n\n  &::-webkit-scrollbar {\n    width: 10px;\n    display: block !important;\n  }\n\n  &::-webkit-scrollbar-track {\n    background: rgba(0, 0, 0, 0.1); \n    border-radius: 4px;\n    box-shadow: inset 1px 1px 2px rgba(0,0,0,0.2);\n  }\n\n  &::-webkit-scrollbar-thumb {\n    background: ","; \n    border-radius: 4px;\n    border: 1px solid rgba(255, 255, 255, 0.2);\n    box-shadow: 0 0 2px rgba(0,0,0,0.3);\n  }\n\n  &::-webkit-scrollbar-thumb:hover {\n    filter: brightness(1.1);\n  }\n"])),e=>e.themeData.text,e=>e.themeData.button),Zm={movie:{bg:Om,width:"800px",height:"650px",padding:"135px 80px 20px",primary:"#00ffff",text:"#eee",button:"#E50914",titleStyle:{top:"25px",left:"50%",transform:"translateX(-50%)",fontFamily:"KenneyMiniSquare",fontSize:"28px",textShadow:"0 0 8px #00ff41"},closeStyle:{top:"17px",right:"25px",fontFamily:"KenneyMiniSquare",fontSize:"35px",color:"#00ffff",textShadow:"0 0 5px #00ffff, 0 0 10px #00ffff",background:"transparent",border:"none"}},computer:{bg:Lm,width:"800px",height:"650px",padding:"90px 50px 30px",primary:"#222",text:"#333",button:"#4A90E2",titleStyle:{top:"25px",left:"50%",transform:"translateX(-50%)",fontFamily:"KenneyMiniSquare",fontSize:"28px"},closeStyle:{top:"27px",right:"40px",fontFamily:"KenneyMiniSquare",fontSize:"20px",color:"#000",background:"#c0c0c0",border:"2px solid",borderColor:"#ffffff #808080 #808080 #ffffff",width:"30px",height:"30px",display:"flex",alignItems:"center",justifyContent:"center",padding:0,lineHeight:"1"}},crypto:{bg:Nm,width:"800px",height:"650px",padding:"120px 60px 30px",primary:"#00ff41",text:"#eee",button:"#008f11",titleStyle:{top:"25px",left:"50%",transform:"translateX(-50%)",fontFamily:"KenneyMiniSquare",fontSize:"28px",textShadow:"0 0 8px #00ff41"},closeStyle:{top:"17px",right:"25px",fontFamily:"KenneyMiniSquare",fontSize:"35px",color:"#00ff41",textShadow:"0 0 5px #00ff41",background:"transparent",border:"none"}},wedding:{bg:Fm,width:"800px",height:"650px",padding:"130px 60px 40px",primary:"#D9544D",text:"#5D4037",button:"#A67C52",titleStyle:{top:"50px",left:"50%",transform:"translateX(-50%)",fontFamily:"KenneyMiniSquare",fontSize:"26px",textShadow:"1px 1px 0px #fff"},closeStyle:{top:"25px",right:"26px",fontFamily:"KenneyMiniSquare",fontSize:"22px",color:"#d9a38b",background:"transparent",border:"none",width:"30px",height:"30px",display:"flex",alignItems:"center",justifyContent:"center",cursor:"pointer",textShadow:"1px 1px 0px #fff",transition:"transform 0.2s"}},kanban:{bg:Bm,width:"800px",height:"650px",padding:"130px 60px 40px",primary:"#555",text:"#333",button:"#FFB7B7",titleStyle:{top:"40px",left:"50%",transform:"translateX(-50%)",fontFamily:"KenneyMiniSquare",fontSize:"26px",textShadow:"1px 1px 0px rgba(0,0,0,0.1)"},closeStyle:{top:"40px",right:"63px",fontFamily:"KenneyMiniSquare",fontSize:"16px",color:"#fff",background:"transparent",border:"none",borderRadius:"50%",width:"26px",height:"26px",boxShadow:"1px 2px 0px rgba(0,0,0,0.2)"}}},Jm={flickfacts:{title:"FlickFacts",blurb:"FlickFacts is a movie discovery web application that helps users explore films by genre and ratings while previewing trailers directly on the homepage. It provides a clean, intuitive browsing experience for users who want quick insights into movies before watching. Designed and developed the entire frontend using React, focusing on intuitive navigation and clean UI. Implemented genre-based filtering, rating-based sorting, and embedded YouTube trailer playback. Learned how to structure reusable React components and integrate external APIs for dynamic content.",tech:["React.js","JavaScript","Node.js","CSS","HTML","YouTube Embed API","TMDB API"],demoUrl:"https://siyeonkrase.github.io/movie-web-service/",repoUrl:"https://github.com/yourname/flickfacts",posterUrl:Gm,theme:"movie"},wedding:{title:"Wedding Invitation Website",blurb:"A real-world wedding invitation website designed for a bilingual audience. It helps guests easily access event details, navigate content in their preferred language, and submit RSVPs through a simple, mobile-friendly experience. Customized and extended an open-source wedding invitation template to support bilingual users. Implemented automatic language detection and locale-aware UI components, integrated a Google Forms\u2013based RSVP flow, and optimized the layout for mobile-first usage by non-technical users.",tech:["HTML","CSS","JavaScript","Responsive Web Design","Google Maps Embed API"],demoUrl:"https://siyeonkrase.github.io/weddinginvitation/",repoUrl:"https://github.com/yourname/wedding",posterUrl:Um,theme:"wedding"},crypto:{title:"Crypto Tracker",blurb:"A real-time cryptocurrency tracking web application that helps users monitor market trends, compare coin rankings, and analyze price movements through clear, interactive visualizations on both desktop and mobile. Designed and developed a real-time data dashboard using React and TypeScript. Implemented dark/light mode, interactive price charts, and API-driven coin rankings. Focused on performance, reusable component architecture, and efficient state management for a smooth user experience.",tech:["React.js","TypeScript","Styled-Components","CSS","HTML"],demoUrl:"https://siyeonkrase.github.io/crypto-tracker/",repoUrl:"https://github.com/yourname/crypto",posterUrl:jm,theme:"crypto"},bento:{title:"Bento Board",blurb:"Bento Board is a task and workflow management web application that helps users organize boards and tasks through an intuitive, drag-and-drop interface. It focuses on clarity, flexibility, and a smooth user experience across devices. Designed and developed an interactive task management application using React and TypeScript. Implemented board and task CRUD, customizable UI themes, and drag-and-drop interactions. Focused on modular component architecture, type safety, and responsive design.",tech:["React.js","TypeScript","styled-components","CSS","HTML"],demoUrl:"https://siyeonkrase.github.io/kanban-board/",repoUrl:"https://example.com",posterUrl:zm,theme:"kanban"},chromeapp:{title:"Chrome Start Page Dashboard",blurb:"A personalized start-page web application designed for Chrome\u2019s new-tab experience. It helps users begin their day with essential information such as time, weather, location, and motivational content in a clean, distraction-free layout. Designed and developed a personalized dashboard using React. Implemented real-time updates, persistent user data via local storage, dynamic backgrounds, and API-based weather integration. Focused on building a clean, responsive layout optimized for daily use.",tech:["React.js","JavaScript","HTML","CSS","OpenWeather API","Local Storage"],demoUrl:"https://siyeonkrase.github.io/ChromeApp/",repoUrl:"https://example.com",posterUrl:Hm,theme:"computer"}},$m=Mm.div(Vm||(Vm=e(["\n  position: fixed;\n  inset: 0;\n  z-index: 9999;\n  padding: 20px;\n\n  display: flex;\n  align-items: center;\n  justify-content: center;\n  overflow: hidden;\n"]))),eg=Mm.div(Xm||(Xm=e(["\n  position: absolute;\n  inset: 0;\n  background: rgba(0, 0, 0, 0.75);\n  backdrop-filter: blur(4px);\n  -webkit-backdrop-filter: blur(4px);\n  pointer-events: none;\n"]))),tg=Mm.div(Ym||(Ym=e(["\n  position: relative;\n  z-index: 1;\n  background-image: url(",");\n  background-size: 100% 100%;\n  background-repeat: no-repeat;\n  width: ",";\n  height: ",";\n  padding: ",";\n  display: flex;\n  flex-direction: column;\n  box-sizing: border-box;\n  image-rendering: pixelated;\n"])),e=>e.themeData.bg,e=>e.themeData.width,e=>e.themeData.height,e=>e.themeData.padding),ng=Mm.button(qm||(qm=e(["\n  position: absolute;\n  cursor: pointer;\n  z-index: 100;\n  display: flex;\n  align-items: center;\n  justify-content: center;\n  transition: all 0.1s;\n\n  top: ",";\n  right: ",";\n  font-family: ",";\n  font-size: ",";\n  color: ",";\n  background: ",";\n  border: ",";\n  border-color: ",";\n  text-shadow: ",";\n  width: ",";\n  height: ",";\n  padding-bottom: ",";\n\n  &:hover {\n    filter: brightness(1.2);\n    transform: scale(1.05);\n  }\n\n  &:active {\n    transform: scale(0.95);\n    ","\n  }\n"])),e=>e.themeData.closeStyle.top,e=>e.themeData.closeStyle.right,e=>e.themeData.closeStyle.fontFamily,e=>e.themeData.closeStyle.fontSize,e=>e.themeData.closeStyle.color,e=>e.themeData.closeStyle.background,e=>e.themeData.closeStyle.border,e=>e.themeData.closeStyle.borderColor||"none",e=>e.themeData.closeStyle.textShadow||"none",e=>e.themeData.closeStyle.width||"auto",e=>e.themeData.closeStyle.height||"auto",e=>e.themeData.closeStyle.paddingBottom||"0",e=>"transparent"!==e.themeData.closeStyle.background&&"\n      border-color: #808080 #ffffff #ffffff #808080;\n      padding-top: 2px;\n      padding-left: 2px;\n    "),rg=Mm.div(Km||(Km=e(["\n  position: absolute;\n  top: ",";\n  left: 50%;\n  transform: translateX(-50%);\n  width: 100%;\n  text-align: center;\n  white-space: nowrap;\n  pointer-events: none;\n  font-family: ",";\n  font-size: ",";\n  color: ",";\n  text-shadow: ",";\n  z-index: 10;\n"])),e=>e.themeData.titleStyle.top,e=>e.themeData.titleStyle.fontFamily,e=>e.themeData.titleStyle.fontSize,e=>e.themeData.primary,e=>e.themeData.titleStyle.textShadow||"none");function ig(){const[e]=yn(Rh),n=gn(Hd),r=e?Jm[e]:null,i=r?Zm[r.theme]:Zm.computer;return(0,t.useEffect)(()=>{if(!e)return;const t=e=>{"Escape"===e.key&&n()};return window.addEventListener("keydown",t),()=>window.removeEventListener("keydown",t)},[e,n]),e&&r?(0,md.jsxs)($m,{onClick:()=>n(),children:[(0,md.jsx)(eg,{}),(0,md.jsxs)(tg,{themeData:i,onClick:e=>e.stopPropagation(),children:[(0,md.jsx)(rg,{themeData:i,children:r.title.toUpperCase()}),(0,md.jsx)(ng,{themeData:i,onClick:()=>n(),children:"\xd7"}),(0,md.jsx)("div",{style:{flex:"0 0 auto",width:"85%",aspectRatio:"16/9",backgroundColor:"#000",border:"2px solid #333",margin:"0 auto"},children:r.posterUrl&&(0,md.jsx)("img",{src:r.posterUrl,alt:"shot",style:{width:"100%",height:"100%",objectFit:"cover"}})}),(0,md.jsxs)(Qm,{themeData:i,children:[(0,md.jsx)("p",{style:{lineHeight:"1.5",margin:0,fontFamily:"MedodicaRegular",fontSize:"20px"},children:r.blurb}),(0,md.jsx)("div",{style:{height:8}}),(0,md.jsx)("div",{style:{display:"flex",flexWrap:"wrap",gap:6},children:r.tech.map(e=>(0,md.jsx)("span",{style:{fontSize:12,fontFamily:"KenneyMini",padding:"4px 8px",borderRadius:4,border:"1px solid rgba(60,45,36,0.35)",background:"rgba(255,255,255,0.55)",color:"#3b2f2a",boxShadow:"inset 0 1px 0 rgba(255,255,255,0.35), 0 1px 0 rgba(0,0,0,0.06)",whiteSpace:"nowrap"},children:e},e))})]}),(0,md.jsx)("div",{style:{marginTop:"auto",padding:"10px 0",textAlign:"center"},children:(0,md.jsx)("a",{href:r.demoUrl,target:"_blank",rel:"noreferrer",style:{display:"inline-block",padding:"12px 30px",backgroundColor:i.button,color:"white",textDecoration:"none",fontWeight:"bold",borderRadius:"4px",marginTop:"5px"},children:(0,md.jsx)("h1",{children:"LAUNCH"})})})]})]}):null}let sg;function og(){return sg}let ag=0;const lg=class extends ir{constructor(e){super(),this.id=ag++,this.init(e)}set(e,t){if(void 0===this[e])throw new Error("Property with name ".concat(e," does not exist."));switch(e){case"speed":this.speed=t;break;case"volume":this.volume=t;break;case"paused":this.paused=t;break;case"loop":this.loop=t;break;case"muted":this.muted=t}return this}get progress(){const{currentTime:e}=this._source;return e/this._duration}get paused(){return this._paused}set paused(e){this._paused=e,this.refreshPaused()}_onPlay(){this._playing=!0}_onPause(){this._playing=!1}init(e){this._playing=!1,this._duration=e.source.duration;const t=this._source=e.source.cloneNode(!1);t.src=e.parent.url,t.onplay=this._onPlay.bind(this),t.onpause=this._onPause.bind(this),e.context.on("refresh",this.refresh,this),e.context.on("refreshPaused",this.refreshPaused,this),this._media=e}_internalStop(){this._source&&this._playing&&(this._source.onended=null,this._source.pause())}stop(){this._internalStop(),this._source&&this.emit("stop")}get speed(){return this._speed}set speed(e){this._speed=e,this.refresh()}get volume(){return this._volume}set volume(e){this._volume=e,this.refresh()}get loop(){return this._loop}set loop(e){this._loop=e,this.refresh()}get muted(){return this._muted}set muted(e){this._muted=e,this.refresh()}get filters(){return console.warn("HTML Audio does not support filters"),null}set filters(e){console.warn("HTML Audio does not support filters")}refresh(){const e=this._media.context,t=this._media.parent;this._source.loop=this._loop||t.loop;const n=e.volume*(e.muted?0:1),r=t.volume*(t.muted?0:1),i=this._volume*(this._muted?0:1);this._source.volume=i*n*r,this._source.playbackRate=this._speed*e.speed*t.speed}refreshPaused(){const e=this._media.context,t=this._media.parent,n=this._paused||t.paused||e.paused;n!==this._pausedReal&&(this._pausedReal=n,n?(this._internalStop(),this.emit("paused")):(this.emit("resumed"),this.play({start:this._source.currentTime,end:this._end,volume:this._volume,speed:this._speed,loop:this._loop})),this.emit("pause",n))}play(e){const{start:t,end:n,speed:r,loop:i,volume:s,muted:o}=e;n&&console.assert(n>t,"End time is before start time"),this._speed=r,this._volume=s,this._loop=!!i,this._muted=o,this.refresh(),this.loop&&null!==n&&(console.warn('Looping not support when specifying an "end" time'),this.loop=!1),this._start=t,this._end=n||this._duration,this._start=Math.max(0,this._start-lg.PADDING),this._end=Math.min(this._end+lg.PADDING,this._duration),this._source.onloadedmetadata=()=>{this._source&&(this._source.currentTime=t,this._source.onloadedmetadata=null,this.emit("progress",t,this._duration),Zo.shared.add(this._onUpdate,this))},this._source.onended=this._onComplete.bind(this),this._source.play(),this.emit("start")}_onUpdate(){this.emit("progress",this.progress,this._duration),this._source.currentTime>=this._end&&!this._source.loop&&this._onComplete()}_onComplete(){Zo.shared.remove(this._onUpdate,this),this._internalStop(),this.emit("progress",1,this._duration),this.emit("end",this)}destroy(){Zo.shared.remove(this._onUpdate,this),this.removeAllListeners();const e=this._source;e&&(e.onended=null,e.onplay=null,e.onpause=null,this._internalStop()),this._source=null,this._speed=1,this._volume=1,this._loop=!1,this._end=null,this._start=0,this._duration=0,this._playing=!1,this._pausedReal=!1,this._paused=!1,this._muted=!1,this._media&&(this._media.context.off("refresh",this.refresh,this),this._media.context.off("refreshPaused",this.refreshPaused,this),this._media=null)}toString(){return"[HTMLAudioInstance id=".concat(this.id,"]")}};let ug=lg;ug.PADDING=.1;class cg extends ir{init(e){this.parent=e,this._source=e.options.source||new Audio,e.url&&(this._source.src=e.url)}create(){return new ug(this)}get isPlayable(){return!!this._source&&4===this._source.readyState}get duration(){return this._source.duration}get context(){return this.parent.context}get filters(){return null}set filters(e){console.warn("HTML Audio does not support filters")}destroy(){this.removeAllListeners(),this.parent=null,this._source&&(this._source.src="",this._source.load(),this._source=null)}get source(){return this._source}load(e){const t=this._source,n=this.parent;if(4===t.readyState){n.isLoaded=!0;const t=n.autoPlayStart();return void(e&&setTimeout(()=>{e(null,n,t)},0))}if(!n.url)return void e(new Error("sound.url or sound.source must be set"));t.src=n.url;const r=()=>{o(),n.isLoaded=!0;const t=n.autoPlayStart();e&&e(null,n,t)},i=()=>{o(),e&&e(new Error("Sound loading has been aborted"))},s=()=>{o();const n="Failed to load audio element (code: ".concat(t.error.code,")");e?e(new Error(n)):console.error(n)},o=()=>{t.removeEventListener("canplaythrough",r),t.removeEventListener("load",r),t.removeEventListener("abort",i),t.removeEventListener("error",s)};t.addEventListener("canplaythrough",r,!1),t.addEventListener("load",r,!1),t.addEventListener("abort",i,!1),t.addEventListener("error",s,!1),t.load()}}class hg{constructor(e,t){this.parent=e,Object.assign(this,t),this.duration=this.end-this.start,console.assert(this.duration>0,"End time must be after start time")}play(e){return this.parent.play({complete:e,speed:this.speed||this.parent.speed,end:this.end,start:this.start,loop:this.loop})}destroy(){this.parent=null}}const dg=["ogg","oga","opus","m4a","mp3","mpeg","wav","aiff","wma","mid","caf"],fg=["audio/mpeg","audio/ogg"],pg={};!function(e){const t=u({m4a:"audio/mp4",oga:"audio/ogg",opus:'audio/ogg; codecs="opus"',caf:'audio/x-caf; codecs="opus"'},e||{}),n=document.createElement("audio"),r={},i=/^no$/;dg.forEach(e=>{const s=n.canPlayType("audio/".concat(e)).replace(i,""),o=t[e]?n.canPlayType(t[e]).replace(i,""):"";r[e]=!!s||!!o}),Object.assign(pg,r)}();class mg{static setParamValue(e,t){if(e.setValueAtTime){const n=og().context;e.setValueAtTime(t,n.audioContext.currentTime)}else e.value=t;return t}}let gg=0;class yg extends ir{constructor(e){super(),this.id=gg++,this._media=null,this._paused=!1,this._muted=!1,this._elapsed=0,this.init(e)}set(e,t){if(void 0===this[e])throw new Error("Property with name ".concat(e," does not exist."));switch(e){case"speed":this.speed=t;break;case"volume":this.volume=t;break;case"muted":this.muted=t;break;case"loop":this.loop=t;break;case"paused":this.paused=t}return this}stop(){this._source&&(this._internalStop(),this.emit("stop"))}get speed(){return this._speed}set speed(e){this._speed=e,this.refresh(),this._update(!0)}get volume(){return this._volume}set volume(e){this._volume=e,this.refresh()}get muted(){return this._muted}set muted(e){this._muted=e,this.refresh()}get loop(){return this._loop}set loop(e){this._loop=e,this.refresh()}get filters(){return this._filters}set filters(e){var t;this._filters&&(null===(t=this._filters)||void 0===t||t.filter(e=>e).forEach(e=>e.disconnect()),this._filters=null,this._source.connect(this._gain));this._filters=null!==e&&void 0!==e&&e.length?e.slice(0):null,this.refresh()}refresh(){if(!this._source)return;const e=this._media.context,t=this._media.parent;this._source.loop=this._loop||t.loop;const n=e.volume*(e.muted?0:1),r=t.volume*(t.muted?0:1),i=this._volume*(this._muted?0:1);mg.setParamValue(this._gain.gain,i*r*n),mg.setParamValue(this._source.playbackRate,this._speed*t.speed*e.speed),this.applyFilters()}applyFilters(){var e;if(null!==(e=this._filters)&&void 0!==e&&e.length){this._source.disconnect();let e=this._source;this._filters.forEach(t=>{e.connect(t.destination),e=t}),e.connect(this._gain)}}refreshPaused(){const e=this._media.context,t=this._media.parent,n=this._paused||t.paused||e.paused;n!==this._pausedReal&&(this._pausedReal=n,n?(this._internalStop(),this.emit("paused")):(this.emit("resumed"),this.play({start:this._elapsed%this._duration,end:this._end,speed:this._speed,loop:this._loop,volume:this._volume})),this.emit("pause",n))}play(e){const{start:t,end:n,speed:r,loop:i,volume:s,muted:o,filters:a}=e;n&&console.assert(n>t,"End time is before start time"),this._paused=!1;const{source:l,gain:u}=this._media.nodes.cloneBufferSource();this._source=l,this._gain=u,this._speed=r,this._volume=s,this._loop=!!i,this._muted=o,this._filters=a,this.refresh();const c=this._source.buffer.duration;this._duration=c,this._end=n,this._lastUpdate=this._now(),this._elapsed=t,this._source.onended=this._onComplete.bind(this),this._loop?(this._source.loopEnd=n,this._source.loopStart=t,this._source.start(0,t)):n?this._source.start(0,t,n-t):this._source.start(0,t),this.emit("start"),this._update(!0),this.enableTicker(!0)}enableTicker(e){Zo.shared.remove(this._updateListener,this),e&&Zo.shared.add(this._updateListener,this)}get progress(){return this._progress}get paused(){return this._paused}set paused(e){this._paused=e,this.refreshPaused()}destroy(){var e;this.removeAllListeners(),this._internalStop(),this._gain&&(this._gain.disconnect(),this._gain=null),this._media&&(this._media.context.events.off("refresh",this.refresh,this),this._media.context.events.off("refreshPaused",this.refreshPaused,this),this._media=null),null===(e=this._filters)||void 0===e||e.forEach(e=>e.disconnect()),this._filters=null,this._end=null,this._speed=1,this._volume=1,this._loop=!1,this._elapsed=0,this._duration=0,this._paused=!1,this._muted=!1,this._pausedReal=!1}toString(){return"[WebAudioInstance id=".concat(this.id,"]")}_now(){return this._media.context.audioContext.currentTime}_updateListener(){this._update()}_update(){let e=arguments.length>0&&void 0!==arguments[0]&&arguments[0];if(this._source){const t=this._now(),n=t-this._lastUpdate;if(n>0||e){const e=this._source.playbackRate.value;this._elapsed+=n*e,this._lastUpdate=t;const r=this._duration;let i;if(this._source.loopStart){const e=this._source.loopEnd-this._source.loopStart;i=(this._source.loopStart+this._elapsed%e)/r}else i=this._elapsed%r/r;this._progress=i,this.emit("progress",this._progress,r)}}}init(e){this._media=e,e.context.events.on("refresh",this.refresh,this),e.context.events.on("refreshPaused",this.refreshPaused,this)}_internalStop(){if(this._source){this.enableTicker(!1),this._source.onended=null,this._source.stop(0),this._source.disconnect();try{this._source.buffer=null}catch(e){console.warn("Failed to set AudioBufferSourceNode.buffer to null:",e)}this._source=null}}_onComplete(){if(this._source){this.enableTicker(!1),this._source.onended=null,this._source.disconnect();try{this._source.buffer=null}catch(e){console.warn("Failed to set AudioBufferSourceNode.buffer to null:",e)}}this._source=null,this._progress=1,this.emit("progress",1,this._duration),this.emit("end",this)}}class vg{constructor(e,t){this._output=t,this._input=e}get destination(){return this._input}get filters(){return this._filters}set filters(e){if(this._filters&&(this._filters.forEach(e=>{e&&e.disconnect()}),this._filters=null,this._input.connect(this._output)),e&&e.length){this._filters=e.slice(0),this._input.disconnect();let t=null;e.forEach(e=>{null===t?this._input.connect(e.destination):t.connect(e.destination),t=e}),t.connect(this._output)}}destroy(){this.filters=null,this._input=null,this._output=null}}const bg=class extends vg{constructor(e){const t=e.audioContext,n=t.createBufferSource(),r=t.createGain(),i=t.createAnalyser();n.connect(i),i.connect(r),r.connect(e.destination),super(i,r),this.context=e,this.bufferSource=n,this.gain=r,this.analyser=i}get script(){return this._script||(this._script=this.context.audioContext.createScriptProcessor(bg.BUFFER_SIZE),this._script.connect(this.context.destination)),this._script}destroy(){super.destroy(),this.bufferSource.disconnect(),this._script&&this._script.disconnect(),this.gain.disconnect(),this.analyser.disconnect(),this.bufferSource=null,this._script=null,this.gain=null,this.analyser=null,this.context=null}cloneBufferSource(){const e=this.bufferSource,t=this.context.audioContext.createBufferSource();t.buffer=e.buffer,mg.setParamValue(t.playbackRate,e.playbackRate.value),t.loop=e.loop;const n=this.context.audioContext.createGain();return t.connect(n),n.connect(this.destination),{source:t,gain:n}}get bufferSize(){return this.script.bufferSize}};let _g=bg;_g.BUFFER_SIZE=0;class xg{init(e){this.parent=e,this._nodes=new _g(this.context),this._source=this._nodes.bufferSource,this.source=e.options.source}destroy(){this.parent=null,this._nodes.destroy(),this._nodes=null;try{this._source.buffer=null}catch(e){console.warn("Failed to set AudioBufferSourceNode.buffer to null:",e)}this._source=null,this.source=null}create(){return new yg(this)}get context(){return this.parent.context}get isPlayable(){return!!this._source&&!!this._source.buffer}get filters(){return this._nodes.filters}set filters(e){this._nodes.filters=e}get duration(){return console.assert(this.isPlayable,"Sound not yet playable, no duration"),this._source.buffer.duration}get buffer(){return this._source.buffer}set buffer(e){this._source.buffer=e}get nodes(){return this._nodes}load(e){this.source?this._decode(this.source,e):this.parent.url?this._loadUrl(e):e?e(new Error("sound.url or sound.source must be set")):console.error("sound.url or sound.source must be set")}async _loadUrl(e){const t=this.parent.url,n=await Bn.ADAPTER.fetch(t);this._decode(await n.arrayBuffer(),e)}_decode(e,t){const n=(e,n)=>{if(e)t&&t(e);else{this.parent.isLoaded=!0,this.buffer=n;const e=this.parent.autoPlayStart();t&&t(null,this.parent,e)}};if(e instanceof AudioBuffer)n(null,e);else{this.parent.context.decode(e,n)}}}const wg=class{static from(e){let t={};"string"===typeof e?t.url=e:e instanceof ArrayBuffer||e instanceof AudioBuffer||e instanceof HTMLAudioElement?t.source=e:Array.isArray(e)?t.url=e:t=e,t=u({autoPlay:!1,singleInstance:!1,url:null,source:null,preload:!1,volume:1,speed:1,complete:null,loaded:null,loop:!1},t),Object.freeze(t);const n=og().useLegacy?new cg:new xg;return new wg(n,t)}constructor(e,t){this.media=e,this.options=t,this._instances=[],this._sprites={},this.media.init(this);const n=t.complete;this._autoPlayOptions=n?{complete:n}:null,this.isLoaded=!1,this._preloadQueue=null,this.isPlaying=!1,this.autoPlay=t.autoPlay,this.singleInstance=t.singleInstance,this.preload=t.preload||this.autoPlay,this.url=Array.isArray(t.url)?this.preferUrl(t.url):t.url,this.speed=t.speed,this.volume=t.volume,this.loop=t.loop,t.sprites&&this.addSprites(t.sprites),this.preload&&this._preload(t.loaded)}preferUrl(e){const[t]=e.map(e=>({url:e,ext:cr.extname(e).slice(1)})).filter(e=>{let{ext:t}=e;return pg[t]}).sort((e,t)=>dg.indexOf(e.ext)-dg.indexOf(t.ext));if(!t)throw new Error("No supported file type found");return t.url}get context(){return og().context}pause(){return this.isPlaying=!1,this.paused=!0,this}resume(){return this.isPlaying=this._instances.length>0,this.paused=!1,this}get paused(){return this._paused}set paused(e){this._paused=e,this.refreshPaused()}get speed(){return this._speed}set speed(e){this._speed=e,this.refresh()}get filters(){return this.media.filters}set filters(e){this.media.filters=e}addSprites(e,t){if("object"===typeof e){const t={};for(const n in e)t[n]=this.addSprites(n,e[n]);return t}console.assert(!this._sprites[e],"Alias ".concat(e," is already taken"));const n=new hg(this,t);return this._sprites[e]=n,n}destroy(){this._removeInstances(),this.removeSprites(),this.media.destroy(),this.media=null,this._sprites=null,this._instances=null}removeSprites(e){if(e){const t=this._sprites[e];void 0!==t&&(t.destroy(),delete this._sprites[e])}else for(const t in this._sprites)this.removeSprites(t);return this}get isPlayable(){return this.isLoaded&&this.media&&this.media.isPlayable}stop(){if(!this.isPlayable)return this.autoPlay=!1,this._autoPlayOptions=null,this;this.isPlaying=!1;for(let e=this._instances.length-1;e>=0;e--)this._instances[e].stop();return this}play(e,t){let n;if("string"===typeof e){n={sprite:e,loop:this.loop,complete:t}}else"function"===typeof e?(n={},n.complete=e):n=e;if(n=u({complete:null,loaded:null,sprite:null,end:null,start:0,volume:1,speed:1,muted:!1,loop:!1},n||{}),n.sprite){const e=n.sprite;console.assert(!!this._sprites[e],"Alias ".concat(e," is not available"));const t=this._sprites[e];n.start=t.start+(n.start||0),n.end=t.end,n.speed=t.speed||1,n.loop=t.loop||n.loop,delete n.sprite}if(n.offset&&(n.start=n.offset),!this.isLoaded)return this._preloadQueue?new Promise(e=>{this._preloadQueue.push(()=>{e(this.play(n))})}):(this._preloadQueue=[],this.autoPlay=!0,this._autoPlayOptions=n,new Promise((e,t)=>{this._preload((r,i,s)=>{this._preloadQueue.forEach(e=>e()),this._preloadQueue=null,r?t(r):(n.loaded&&n.loaded(r,i,s),e(s))})}));(this.singleInstance||n.singleInstance)&&this._removeInstances();const r=this._createInstance();return this._instances.push(r),this.isPlaying=!0,r.once("end",()=>{n.complete&&n.complete(this),this._onComplete(r)}),r.once("stop",()=>{this._onComplete(r)}),r.play(n),r}refresh(){const e=this._instances.length;for(let t=0;t<e;t++)this._instances[t].refresh()}refreshPaused(){const e=this._instances.length;for(let t=0;t<e;t++)this._instances[t].refreshPaused()}get volume(){return this._volume}set volume(e){this._volume=e,this.refresh()}get muted(){return this._muted}set muted(e){this._muted=e,this.refresh()}get loop(){return this._loop}set loop(e){this._loop=e,this.refresh()}_preload(e){this.media.load(e)}get instances(){return this._instances}get sprites(){return this._sprites}get duration(){return this.media.duration}autoPlayStart(){let e;return this.autoPlay&&(e=this.play(this._autoPlayOptions)),e}_removeInstances(){for(let e=this._instances.length-1;e>=0;e--)this._poolInstance(this._instances[e]);this._instances.length=0}_onComplete(e){if(this._instances){const t=this._instances.indexOf(e);t>-1&&this._instances.splice(t,1),this.isPlaying=this._instances.length>0}this._poolInstance(e)}_createInstance(){if(wg._pool.length>0){const e=wg._pool.pop();return e.init(this.media),e}return this.media.create()}_poolInstance(e){e.destroy(),wg._pool.indexOf(e)<0&&wg._pool.push(e)}};let Ag=wg;Ag._pool=[];class Eg extends ir{constructor(){super(...arguments),this.speed=1,this.muted=!1,this.volume=1,this.paused=!1}refresh(){this.emit("refresh")}refreshPaused(){this.emit("refreshPaused")}get filters(){return console.warn("HTML Audio does not support filters"),null}set filters(e){console.warn("HTML Audio does not support filters")}get audioContext(){return console.warn("HTML Audio does not support audioContext"),null}toggleMute(){return this.muted=!this.muted,this.refresh(),this.muted}togglePause(){return this.paused=!this.paused,this.refreshPaused(),this.paused}destroy(){this.removeAllListeners()}}class Sg extends vg{constructor(){const e=window,t=new Sg.AudioContext,n=t.createDynamicsCompressor(),r=t.createAnalyser();r.connect(n),n.connect(t.destination),super(r,n),this.autoPause=!0,this._ctx=t,this._offlineCtx=new Sg.OfflineAudioContext(1,2,e.OfflineAudioContext?Math.max(8e3,Math.min(96e3,t.sampleRate)):44100),this.compressor=n,this.analyser=r,this.events=new ir,this.volume=1,this.speed=1,this.muted=!1,this.paused=!1,this._locked="suspended"===t.state&&("ontouchstart"in globalThis||"onclick"in globalThis),this._locked&&(this._unlock(),this._unlock=this._unlock.bind(this),document.addEventListener("mousedown",this._unlock,!0),document.addEventListener("touchstart",this._unlock,!0),document.addEventListener("touchend",this._unlock,!0)),this.onFocus=this.onFocus.bind(this),this.onBlur=this.onBlur.bind(this),globalThis.addEventListener("focus",this.onFocus),globalThis.addEventListener("blur",this.onBlur)}onFocus(){if(!this.autoPause)return;const e=this._ctx.state;"suspended"!==e&&"interrupted"!==e&&this._locked||(this.paused=this._pausedOnBlur,this.refreshPaused())}onBlur(){this.autoPause&&(this._locked||(this._pausedOnBlur=this._paused,this.paused=!0,this.refreshPaused()))}_unlock(){this._locked&&(this.playEmptySound(),"running"===this._ctx.state&&(document.removeEventListener("mousedown",this._unlock,!0),document.removeEventListener("touchend",this._unlock,!0),document.removeEventListener("touchstart",this._unlock,!0),this._locked=!1))}playEmptySound(){const e=this._ctx.createBufferSource();e.buffer=this._ctx.createBuffer(1,1,22050),e.connect(this._ctx.destination),e.start(0,0,0),"suspended"===e.context.state&&e.context.resume()}static get AudioContext(){const e=window;return e.AudioContext||e.webkitAudioContext||null}static get OfflineAudioContext(){const e=window;return e.OfflineAudioContext||e.webkitOfflineAudioContext||null}destroy(){super.destroy();const e=this._ctx;"undefined"!==typeof e.close&&e.close(),globalThis.removeEventListener("focus",this.onFocus),globalThis.removeEventListener("blur",this.onBlur),this.events.removeAllListeners(),this.analyser.disconnect(),this.compressor.disconnect(),this.analyser=null,this.compressor=null,this.events=null,this._offlineCtx=null,this._ctx=null}get audioContext(){return this._ctx}get offlineContext(){return this._offlineCtx}set paused(e){e&&"running"===this._ctx.state?this._ctx.suspend():e||"suspended"!==this._ctx.state||this._ctx.resume(),this._paused=e}get paused(){return this._paused}refresh(){this.events.emit("refresh")}refreshPaused(){this.events.emit("refreshPaused")}toggleMute(){return this.muted=!this.muted,this.refresh(),this.muted}togglePause(){return this.paused=!this.paused,this.refreshPaused(),this._paused}decode(e,t){const n=e=>{t(new Error((null===e||void 0===e?void 0:e.message)||"Unable to decode file"))},r=this._offlineCtx.decodeAudioData(e,e=>{t(null,e)},n);r&&r.catch(n)}}class Tg{constructor(e,t){this.init(e,t)}init(e,t){this.destination=e,this.source=t||e}connect(e){var t;null===(t=this.source)||void 0===t||t.connect(e)}disconnect(){var e;null===(e=this.source)||void 0===e||e.disconnect()}destroy(){this.disconnect(),this.destination=null,this.source=null}}const Cg=class extends Tg{constructor(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0,r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:0,i=arguments.length>4&&void 0!==arguments[4]?arguments[4]:0,s=arguments.length>5&&void 0!==arguments[5]?arguments[5]:0,o=arguments.length>6&&void 0!==arguments[6]?arguments[6]:0,a=arguments.length>7&&void 0!==arguments[7]?arguments[7]:0,l=arguments.length>8&&void 0!==arguments[8]?arguments[8]:0,u=arguments.length>9&&void 0!==arguments[9]?arguments[9]:0,c=[];const h=[{f:Cg.F32,type:"lowshelf",gain:e},{f:Cg.F64,type:"peaking",gain:t},{f:Cg.F125,type:"peaking",gain:n},{f:Cg.F250,type:"peaking",gain:r},{f:Cg.F500,type:"peaking",gain:i},{f:Cg.F1K,type:"peaking",gain:s},{f:Cg.F2K,type:"peaking",gain:o},{f:Cg.F4K,type:"peaking",gain:a},{f:Cg.F8K,type:"peaking",gain:l},{f:Cg.F16K,type:"highshelf",gain:u}];og().useLegacy||(c=h.map(e=>{const t=og().context.audioContext.createBiquadFilter();return t.type=e.type,mg.setParamValue(t.Q,1),t.frequency.value=e.f,mg.setParamValue(t.gain,e.gain),t})),super(c[0],c[c.length-1]),this.bands=c,this.bandsMap={};for(let d=0;d<this.bands.length;d++){const e=this.bands[d];d>0&&this.bands[d-1].connect(e),this.bandsMap[e.frequency.value]=e}}setGain(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;if(!this.bandsMap[e])throw new Error("No band found for frequency ".concat(e));mg.setParamValue(this.bandsMap[e].gain,t)}getGain(e){if(!this.bandsMap[e])throw new Error("No band found for frequency ".concat(e));return this.bandsMap[e].gain.value}set f32(e){this.setGain(Cg.F32,e)}get f32(){return this.getGain(Cg.F32)}set f64(e){this.setGain(Cg.F64,e)}get f64(){return this.getGain(Cg.F64)}set f125(e){this.setGain(Cg.F125,e)}get f125(){return this.getGain(Cg.F125)}set f250(e){this.setGain(Cg.F250,e)}get f250(){return this.getGain(Cg.F250)}set f500(e){this.setGain(Cg.F500,e)}get f500(){return this.getGain(Cg.F500)}set f1k(e){this.setGain(Cg.F1K,e)}get f1k(){return this.getGain(Cg.F1K)}set f2k(e){this.setGain(Cg.F2K,e)}get f2k(){return this.getGain(Cg.F2K)}set f4k(e){this.setGain(Cg.F4K,e)}get f4k(){return this.getGain(Cg.F4K)}set f8k(e){this.setGain(Cg.F8K,e)}get f8k(){return this.getGain(Cg.F8K)}set f16k(e){this.setGain(Cg.F16K,e)}get f16k(){return this.getGain(Cg.F16K)}reset(){this.bands.forEach(e=>{mg.setParamValue(e.gain,0)})}destroy(){this.bands.forEach(e=>{e.disconnect()}),this.bands=null,this.bandsMap=null}};let kg=Cg;kg.F32=32,kg.F64=64,kg.F125=125,kg.F250=250,kg.F500=500,kg.F1K=1e3,kg.F2K=2e3,kg.F4K=4e3,kg.F8K=8e3,kg.F16K=16e3;const Rg=e=>{var t,n;const r=e.src;return null!==(t=null===e||void 0===e||null===(n=e.alias)||void 0===n?void 0:n[0])&&void 0!==t?t:cr.basename(r,cr.extname(r))},Pg={extension:ci.Asset,detection:{test:async()=>!0,add:async e=>[...e,...dg.filter(e=>pg[e])],remove:async e=>e.filter(t=>e.includes(t))},loader:{extension:{type:[ci.LoadParser],priority:rl.High},test(e){const t=cr.extname(e).slice(1);return!!pg[t]||fg.some(t=>e.startsWith("data:".concat(t)))},async load(e,t){const n=await new Promise((n,r)=>Ag.from(u(u({},t.data),{},{url:e,preload:!0,loaded(e,i){var s,o;e?r(e):n(i),null===(s=t.data)||void 0===s||null===(o=s.loaded)||void 0===o||o.call(s,e,i)}})));return og().add(Rg(t),n),n},async unload(e,t){og().remove(Rg(t))}}};fi.add(Pg);const Ig=function(e){return sg=e,e}(new class{constructor(){this.init()}init(){return this.supported&&(this._webAudioContext=new Sg),this._htmlAudioContext=new Eg,this._sounds={},this.useLegacy=!this.supported,this}get context(){return this._context}get filtersAll(){return this.useLegacy?[]:this._context.filters}set filtersAll(e){this.useLegacy||(this._context.filters=e)}get supported(){return null!==Sg.AudioContext}add(e,t){if("object"===typeof e){const n={};for(const r in e){const i=this._getOptions(e[r],t);n[r]=this.add(r,i)}return n}if(console.assert(!this._sounds[e],"Sound with alias ".concat(e," already exists.")),t instanceof Ag)return this._sounds[e]=t,t;const n=this._getOptions(t),r=Ag.from(n);return this._sounds[e]=r,r}_getOptions(e,t){let n;return n="string"===typeof e||Array.isArray(e)?{url:e}:e instanceof ArrayBuffer||e instanceof AudioBuffer||e instanceof HTMLAudioElement?{source:e}:e,n=u(u({},n),t||{}),n}get useLegacy(){return this._useLegacy}set useLegacy(e){this._useLegacy=e,this._context=!e&&this.supported?this._webAudioContext:this._htmlAudioContext}get disableAutoPause(){return!this._webAudioContext.autoPause}set disableAutoPause(e){this._webAudioContext.autoPause=!e}remove(e){return this.exists(e,!0),this._sounds[e].destroy(),delete this._sounds[e],this}get volumeAll(){return this._context.volume}set volumeAll(e){this._context.volume=e,this._context.refresh()}get speedAll(){return this._context.speed}set speedAll(e){this._context.speed=e,this._context.refresh()}togglePauseAll(){return this._context.togglePause()}pauseAll(){return this._context.paused=!0,this._context.refreshPaused(),this}resumeAll(){return this._context.paused=!1,this._context.refreshPaused(),this}toggleMuteAll(){return this._context.toggleMute()}muteAll(){return this._context.muted=!0,this._context.refresh(),this}unmuteAll(){return this._context.muted=!1,this._context.refresh(),this}removeAll(){for(const e in this._sounds)this._sounds[e].destroy(),delete this._sounds[e];return this}stopAll(){for(const e in this._sounds)this._sounds[e].stop();return this}exists(e){let t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];const n=!!this._sounds[e];return t&&console.assert(n,"No sound matching alias '".concat(e,"'.")),n}isPlaying(){for(const e in this._sounds)if(this._sounds[e].isPlaying)return!0;return!1}find(e){return this.exists(e,!0),this._sounds[e]}play(e,t){return this.find(e).play(t)}stop(e){return this.find(e).stop()}pause(e){return this.find(e).pause()}resume(e){return this.find(e).resume()}volume(e,t){const n=this.find(e);return void 0!==t&&(n.volume=t),n.volume}speed(e,t){const n=this.find(e);return void 0!==t&&(n.speed=t),n.speed}duration(e){return this.find(e).duration}close(){return this.removeAll(),this._sounds=null,this._webAudioContext&&(this._webAudioContext.destroy(),this._webAudioContext=null),this._htmlAudioContext&&(this._htmlAudioContext.destroy(),this._htmlAudioContext=null),this._context=null,this}}),Mg=n.p+"static/media/coin.a48621223608c3c31630.mp3",Dg=n.p+"static/media/walkondirt1.58a4acddd9d5565155e4.mp3",Og=n.p+"static/media/walkondirt2.2801582d39739b998f20.mp3",Lg=n.p+"static/media/walkondirt3.60974b70b459a38a1a2f.mp3",Ng=n.p+"static/media/walkongrass1.07dfc4eedfb4c4b1bd6a.mp3",Fg=n.p+"static/media/walkongrass2.5c2b1c44989ee1257812.mp3",Bg=n.p+"static/media/walkongrass3.dbf21bc9aa5ac89f5b3c.mp3",Ug=n.p+"static/media/walkonpath.a4797f63930a1cb46db3.mp3",Gg=[4,5,6,7,8,9,10,11,12],zg=[13];let Hg=!1;const jg=[[0,.35],[.4,.75],[.85,1.2],[1.3,1.65]],Wg=()=>.95+.1*Math.random(),Vg=(e,t)=>{if(Hg)try{Ig.play(e,t)}catch(n){}},Xg=["flickfacts","chromeapp","crypto","wedding","bento"];function Yg(e){var n;let{id:r,has:i}=e;const[s,o]=(0,t.useState)(!1),a=null!==(n=pd[r])&&void 0!==n?n:null;return(0,t.useEffect)(()=>{if(i){Vg("coin",{volume:.4,speed:Wg()}),o(!0);const e=setTimeout(()=>o(!1),500);return()=>clearTimeout(e)}},[i]),(0,md.jsx)("div",{className:"inventory-slot ".concat(i?"":"empty"," ").concat(s?"acquired":""),children:i?a?(0,md.jsx)("img",{src:a,alt:r,className:"inventory-icon"}):(0,md.jsx)("span",{className:"no-icon-text",children:"NO ICON"}):null})}function qg(){const e=mn(Sh);return(0,md.jsx)("div",{className:"hud-container",children:Xg.map(t=>(0,md.jsx)(Yg,{id:t,has:e.has(t)},t))})}function Kg(e,t){return{x:e-7.2,y:t-8,w:14.4,h:8}}function Qg(){const[,e]=yn(Th),[,n]=yn(Ch),r=mn(wh),i=mn(Ah),s=gn(Ah),o=mn(Mh),a=(mn(Rh),gn(Rh)),l=gn(Hd),c=(0,t.useRef)(0),h=(0,t.useRef)({left:!1,right:!1,up:!1,down:!1}),d=(0,t.useRef)(null);(0,t.useEffect)(()=>{const e=e=>{if(e.repeat)return;const t=e.key.toLowerCase();if("escape"===t)return l(),void s("game");"e"!==t&&"enter"!==t||o&&("project"===o.type?(a(o.projectId),s("project")):"dialogue"===o.type&&s("dialogue"))};return window.addEventListener("keydown",e),()=>window.removeEventListener("keydown",e)},[o,l,a,s]),(0,t.useEffect)(()=>{function t(e){if("game"!==i)return;const t=e.key;("ArrowLeft"===t||"ArrowRight"===t||"ArrowUp"===t||"ArrowDown"===t||"w"===t||"W"===t||"a"===t||"A"===t||"s"===t||"S"===t||"d"===t||"D"===t)&&e.preventDefault(),"ArrowLeft"!==t&&"a"!==t&&"A"!==t||(h.current.left=!0),"ArrowRight"!==t&&"d"!==t&&"D"!==t||(h.current.right=!0),"ArrowUp"!==t&&"w"!==t&&"W"!==t||(h.current.up=!0),"ArrowDown"!==t&&"s"!==t&&"S"!==t||(h.current.down=!0)}function r(e){const t=e.key;"ArrowLeft"!==t&&"a"!==t&&"A"!==t||(h.current.left=!1),"ArrowRight"!==t&&"d"!==t&&"D"!==t||(h.current.right=!1),"ArrowUp"!==t&&"w"!==t&&"W"!==t||(h.current.up=!1),"ArrowDown"!==t&&"s"!==t&&"S"!==t||(h.current.down=!1)}let s;window.addEventListener("keydown",t),window.addEventListener("keyup",r);const o=t=>{null==d.current&&(d.current=t);const r=(t-d.current)/1e3;if(d.current=t,"game"!==i)return e(e=>u(u({},e),{},{moving:!1})),void(s=requestAnimationFrame(o));const{left:a,right:l,up:f,down:p}=h.current;let m=0,g=0;a&&(m-=1),l&&(m+=1),f&&(g-=1),p&&(g+=1);const y=0!==m||0!==g;if(y){if(c.current+=r,c.current>=.35){const t=Oh.town.tiles;e(e=>(function(e,t,n){var r;let i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:32;const s=Math.floor(e/i),o=null===(r=n[Math.floor(t/i)])||void 0===r?void 0:r[s];if(void 0===o)return;const a=Wg();if(zg.includes(o)){const e=Math.floor(4*Math.random()),[t,n]=jg[e];return void Vg("path",{volume:.2,speed:a,start:t,end:n})}if(Gg.includes(o)){const e=1+Math.floor(3*Math.random());return void Vg("dirt".concat(e),{volume:.15,speed:a})}const l=1+Math.floor(3*Math.random());Vg("grass".concat(l),{volume:.15,speed:a})}(e.x,e.y,t,Dh),e)),c.current=0}}else c.current=.35;if(0!==m&&0!==g){const e=1/Math.sqrt(2);m*=e,g*=e}e(e=>{let t=e.x,i=e.y,s=e.dir;if(y){t=e.x+220*m*r,i=e.y+220*g*r,m<0?s="left":m>0&&(s="right");const n=Oh.town.tiles[0].length*Dh,o=globalThis.__collisionWorld,a=3.2;t=Math.min(Math.max(t,a),n-a),i=Math.min(Math.max(i,a),384-a),null!==o&&void 0!==o&&o.hitsAny&&(o.hitsAny(Kg(t,e.y))&&(t=e.x),o.hitsAny(Kg(t,i))&&(i=e.y))}else s="down";const o=Oh.town.tiles[0].length*Dh;let a=t-352;if(o<=704)a=0;else{const e=o-704;a<0&&(a=0),a>e&&(a=e)}return n(a),u(u({},e),{},{x:t,y:i,dir:s,moving:y})}),s=requestAnimationFrame(o)};return s=requestAnimationFrame(o),()=>{window.removeEventListener("keydown",t),window.removeEventListener("keyup",r),cancelAnimationFrame(s),d.current=null}},[e,n,r,i])}var Zg;const Jg=Mm.div(Zg||(Zg=e(['\n  position: fixed;\n  left: 50%;\n  bottom: 24px;\n  transform: translateX(-50%);\n  /* \u2705 \ud575\uc2ec: \ubaa8\ub2ec(9999)\ubcf4\ub2e4 \ub192\uc740 \uc218\uce58\ub97c \uc8fc\uc5b4 \ube14\ub7ec \uc704\ub85c \uc62c\ub9bc */\n  z-index: 10050; \n  font-family: "KenneyMiniSquare", sans-serif;\n  font-size: 14px;\n  color: #fff;\n  background: rgba(20, 24, 30, 0.85);\n  border: 2px solid rgba(255, 255, 255, 0.25);\n  padding: 8px 12px;\n  border-radius: 8px;\n  letter-spacing: 0.2px;\n  pointer-events: none; /* \ud78c\ud2b8 \ub54c\ubb38\uc5d0 \ub9c8\uc6b0\uc2a4 \ud074\ub9ad\uc774 \ub9c9\ud788\uc9c0 \uc54a\ub3c4\ub85d */\n  white-space: nowrap;\n'])));function $g(){const e=mn(Ih),t=mn(Rh)?"ESC : Close":e;return t?(0,md.jsx)(Jg,{children:t}):null}function ey(){Qg(),Hg||(Hg=!0,Ig.exists("coin")||Ig.add("coin",Mg),Ig.exists("dirt1")||Ig.add("dirt1",Dg),Ig.exists("dirt2")||Ig.add("dirt2",Og),Ig.exists("dirt3")||Ig.add("dirt3",Lg),Ig.exists("grass1")||Ig.add("grass1",Ng),Ig.exists("grass2")||Ig.add("grass2",Fg),Ig.exists("grass3")||Ig.add("grass3",Bg),Ig.exists("path")||Ig.add("path",Ug));const e=mn(Ah),n=gn(Eh),r=gn(zd);return(0,t.useEffect)(()=>{n({}),r()},[n,r]),(0,md.jsx)("div",{style:{width:"100vw",height:"100vh",backgroundColor:"#020617",display:"flex",alignItems:"center",justifyContent:"center",overflow:"hidden"},children:(0,md.jsxs)("div",{style:{position:"relative",aspectRatio:"".concat(704," / ").concat(384),width:"100%",height:"100%",maxWidth:"100vw",maxHeight:"100vh",display:"flex",alignItems:"center",justifyContent:"center",boxShadow:"0 0 40px rgba(0,0,0,0.8)",backgroundColor:"#020617"},children:[(0,md.jsx)(Fd,{}),(0,md.jsx)(qg,{}),(0,md.jsx)($g,{}),"dialogue"===e&&(0,md.jsx)(Gd,{}),"project"===e&&(0,md.jsx)(ig,{})]})})}function ty(){return(0,md.jsx)(mt,{children:(0,md.jsxs)(Ne,{children:[(0,md.jsx)(Oe,{path:"/",element:(0,md.jsxs)("div",{style:{width:"100vw",height:"100vh",display:"flex",flexDirection:"column",alignItems:"center",justifyContent:"center",backgroundColor:"#020202",color:"#fff",fontFamily:"monospace",textAlign:"center"},children:[(0,md.jsx)("h1",{style:{marginBottom:16},children:"Siyeon's RPG Portfolio"}),(0,md.jsx)("p",{children:"Press the button below to enter the world"}),(0,md.jsx)("a",{href:"/game",style:{marginTop:20,padding:"10px 20px",border:"1px solid #fff",borderRadius:6,color:"#fff",textDecoration:"none"},children:"Enter Game"})]})}),(0,md.jsx)(Oe,{path:"/game",element:(0,md.jsx)(ey,{})})]})})}function ny(){return(0,md.jsx)(ty,{})}const ry=n.p+"static/media/KenneyMiniSquare.63ed8a3ccd4e69ca2985.ttf",iy=n.p+"static/media/KenneyMini.8873d1d1ba6b307c0880.ttf",sy=n.p+"static/media/MedodicaRegular.95749ec5a65afd44d159.otf";var oy;const ay=function(e){for(var n=[],r=1;r<arguments.length;r++)n[r-1]=arguments[r];var i=Rm.apply(void 0,Wd([e],n,!1)),s="sc-global-".concat(pp(JSON.stringify(i))),o=new Dm(i,s),a=function(e){var n=fm(),r=t.useContext(Em),i=t.useRef(n.styleSheet.allocateGSInstance(s)).current;return n.styleSheet.server&&l(i,e,n.styleSheet,r,n.stylis),t.useLayoutEffect(function(){if(!n.styleSheet.server)return l(i,e,n.styleSheet,r,n.stylis),function(){return o.removeStyles(i,n.styleSheet)}},[i,e,n.styleSheet,r,n.stylis]),null};function l(e,t,n,r,i){if(o.isStatic)o.renderStyles(e,ep,n,i);else{var s=jd(jd({},t),{theme:rp(t,r,a.defaultProps)});o.renderStyles(e,s,n,i)}}return t.memo(a)}(oy||(oy=e(["\n@font-face {\n  font-family: 'KenneyMiniSquare';\n  src: url(",") format('truetype');\n  font-weight: 400;\n  font-style: normal;\n  font-display: swap;\n}\n\n@font-face {\n  font-family: 'KenneyMini';\n  src: url(",") format('truetype');\n  font-weight: 400;\n  font-style: normal;\n  font-display: swap;\n}\n\n@font-face {\n  font-family: 'MedodicaRegular';\n  src: url(",") format('truetype');\n  font-weight: 400;\n  font-style: normal;\n  font-display: swap;\n}\n\nhtml, body, div, span, applet, object, iframe,\nh1, h2, h3, h4, h5, h6, p, blockquote, pre,\na, abbr, acronym, address, big, cite, code,\ndel, dfn, em, img, ins, kbd, q, s, samp,\nsmall, strike, strong, sub, sup, tt, var,\nb, u, i, center,\ndl, dt, dd, menu, ol, ul, li,\nfieldset, form, label, legend,\ntable, caption, tbody, tfoot, thead, tr, th, td,\narticle, aside, canvas, details, embed,\nfigure, figcaption, footer, header, hgroup,\nmain, menu, nav, output, ruby, section, summary,\ntime, mark, audio, video {\n  margin: 0;\n  padding: 0;\n  border: 0;\n  font-size: 100%;\n  font: inherit;\n  vertical-align: baseline;\n  caret-color: transparent;\n  user-select: none;\n}\n/* HTML5 display-role reset for older browsers */\narticle, aside, details, figcaption, figure,\nfooter, header, hgroup, main, menu, nav, section {\n  display: block;\n}\n/* HTML5 hidden-attribute fix for newer browsers */\n*[hidden] {\n    display: none;\n}\nbody {\n  line-height: 1;\n  -ms-overflow-style: none;\n}\nmenu, ol, ul {\n  list-style: none;\n}\nblockquote, q {\n  quotes: none;\n}\nblockquote:before, blockquote:after,\nq:before, q:after {\n  content: '';\n  content: none;\n}\ntable {\n  border-collapse: collapse;\n  border-spacing: 0;\n}\n* {\n  box-sizing: border-box;\n}\nbody {\n  font-weight: 300;\n  font-family: 'Source Sans Pro', sans-serif;\n  color: black;\n  line-height: 1.2;\n  margin: 0;\n}\na {\n  text-decoration:none;\n  color:inherit;\n}\n::-webkit-scrollbar {\n  display: none;\n}\n.box{\n  -ms-overflow-style: none;\n}\n.box::-webkit-scrollbar{\n  display:none;\n}\nh1{\n  font-family: 'KenneyMiniSquare', sans-serif;\n  letter-spacing: 0.04em;\n}\n"])),ry,iy,sy);r.createRoot(document.getElementById("root")).render((0,md.jsxs)("div",{children:[(0,md.jsx)(ay,{}),(0,md.jsx)(ny,{})]}))})()})();
//# sourceMappingURL=main.30b87402.js.map